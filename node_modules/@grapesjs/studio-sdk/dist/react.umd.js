(function(ke,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("react/jsx-runtime"),require("react"),require("react-dom"),require("react-dom/client")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-dom","react-dom/client"],i):(ke=typeof globalThis<"u"?globalThis:ke||self,i(ke.GrapesJsStudioSDK={},ke.jsxRuntime,ke.React,ke.ReactDOM,ke.client))})(this,function(ke,i,p,on,Ly){"use strict";function Ff(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const Be=Ff(p),$y=Ff(on);class Ny extends Error{constructor(t,n){super(t),this.error=t,this.errorData=n}}const wi=async(e,{onError:t,onLoading:n,onResult:r,params:o,rawText:s,...a})=>{try{n==null||n(!0);const l=o?new URLSearchParams(o).toString():"",c=l?`?${l}`:"",u=await fetch(`${e}${c}`,a);if(!u.ok){const f=await u.json();throw new Ny(f.error||"Request failed!",f.errorData)}const d=s?await u.text():await u.json();return r==null||r(d),d}catch(l){const c=l instanceof Error?l:new Error(l);return t==null||t(c),c}finally{n==null||n(!1)}};class Qn{static async get(t,n){return wi(t,{...n,method:"GET"})}static async post(t,n){return wi(t,{...n,method:"POST"})}static async put(t,n){return wi(t,{...n,method:"PUT"})}static async delete(t,n){return wi(t,{...n,method:"DELETE"})}}function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Dy={};function Si(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Dy}var Bf=Object.assign,Ci=Object.getOwnPropertyDescriptor,Rn=Object.defineProperty,Ys=Object.prototype,Vc=[];Object.freeze(Vc);var Hc={};Object.freeze(Hc);var jy=typeof Proxy<"u",Iy=Object.toString();function zf(){jy||De("Proxy not available")}function Uf(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Yo=function(){};function Hn(e){return typeof e=="function"}function So(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function xi(e){return e!==null&&typeof e=="object"}function Er(e){if(!xi(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Iy}function Wf(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Zs(e,t,n){Rn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Gf(e,t,n){Rn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Kr(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return xi(r)&&r[n]===!0}}function Zo(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Vy(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Pr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Kf=typeof Object.getOwnPropertySymbols<"u";function Hy(e){var t=Object.keys(e);if(!Kf)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Ys.propertyIsEnumerable.call(e,r)})):t}var Xo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Kf?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function qf(e){return e===null?null:typeof e=="object"?""+e:e}function Or(e,t){return Ys.hasOwnProperty.call(e,t)}var Fy=Object.getOwnPropertyDescriptors||function(t){var n={};return Xo(t).forEach(function(r){n[r]=Ci(t,r)}),n};function sn(e,t){return!!(e&t)}function an(e,t,n){return n?e|=t:e&=~t,e}function Yf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zy(r.key),r)}}function Jo(e,t,n){return t&&Zf(e.prototype,t),n&&Zf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qo(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Uy(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co.apply(null,arguments)}function Xf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fc(e,t)}function Fc(e,t){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Fc(e,t)}function By(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zy(e){var t=By(e,"string");return typeof t=="symbol"?t:t+""}function Uy(e,t){if(e){if(typeof e=="string")return Yf(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yf(e,t):void 0}}var er=Symbol("mobx-stored-annotations");function tr(e){function t(n,r){if(Js(r))return e.decorate_20223_(n,r);Xs(n,r,e)}return Object.assign(t,e)}function Xs(e,t,n){Or(e,er)||Zs(e,er,Co({},e[er])),Qy(n)||(e[er][t]=n)}function Wy(e){return Or(e,er)||Zs(e,er,Co({},e[er])),e[er]}function Js(e){return typeof e=="object"&&typeof e.kind=="string"}var be=Symbol("mobx administration"),qr=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=We.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return hg(this)},t.reportChanged=function(){xn(),mg(this),En()},t.toString=function(){return this.name_},Jo(e,[{key:"isBeingObserved",get:function(){return sn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=an(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=an(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=an(this.flags_,e.diffValueMask_,r===1)}}])}();qr.isBeingObservedMask_=1,qr.isPendingUnobservationMask_=2,qr.diffValueMask_=4;var Bc=Kr("Atom",qr);function Jf(e,t,n){t===void 0&&(t=Yo),n===void 0&&(n=Yo);var r=new qr(e);return t!==Yo&&oS(r,t),n!==Yo&&xg(r,n),r}function Gy(e,t){return e===t}function Ky(e,t){return ou(e,t)}function qy(e,t){return ou(e,t,1)}function Yy(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ro={identity:Gy,structural:Ky,default:Yy,shallow:qy};function xo(e,t,n){return Qc(e)?e:Array.isArray(e)?At.array(e,{name:n}):Er(e)?At.object(e,void 0,{name:n}):Zo(e)?At.map(e,{name:n}):Pr(e)?At.set(e,{name:n}):typeof e=="function"&&!ra(e)&&!oa(e)?Wf(e)?To(e):na(n,e):e}function Zy(e,t,n){if(e==null||ns(e)||ia(e)||Jr(e)||Wn(e))return e;if(Array.isArray(e))return At.array(e,{name:n,deep:!1});if(Er(e))return At.object(e,void 0,{name:n,deep:!1});if(Zo(e))return At.map(e,{name:n,deep:!1});if(Pr(e))return At.set(e,{name:n,deep:!1})}function Ei(e){return e}function Xy(e,t){return ou(e,t)?t:e}var Jy="override";function Qy(e){return e.annotationType_===Jy}function Qs(e,t){return{annotationType_:e,options_:t,make_:Ry,extend_:ew,decorate_20223_:tw}}function Ry(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ra(n.value))return 1;var s=Qf(e,this,t,n,!1);return Rn(r,t,s),2}function ew(e,t,n,r){var o=Qf(e,this,t,n);return e.defineProperty_(t,o,r)}function tw(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,a=function(u){var d,f,g,h;return Eo((d=(f=s.options_)==null?void 0:f.name)!=null?d:r.toString(),u,(g=(h=s.options_)==null?void 0:h.autoAction)!=null?g:!1)};if(n=="field")return function(c){var u,d=c;return ra(d)||(d=a(d)),(u=s.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var l;return ra(e)||(e=a(e)),(l=this.options_)!=null&&l.bound&&o(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}De("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function nw(e,t,n,r){t.annotationType_,r.value}function Qf(e,t,n,r,o){var s,a,l,c,u,d,f;o===void 0&&(o=ue.safeDescriptors),nw(e,t,n,r);var g=r.value;if((s=t.options_)!=null&&s.bound){var h;g=g.bind((h=e.proxy_)!=null?h:e.target_)}return{value:Eo((a=(l=t.options_)==null?void 0:l.name)!=null?a:n.toString(),g,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Rf(e,t){return{annotationType_:e,options_:t,make_:rw,extend_:ow,decorate_20223_:sw}}function rw(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Or(e.target_,t)||!oa(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(oa(n.value))return 1;var s=eg(e,this,t,n,!1,!1);return Rn(r,t,s),2}function ow(e,t,n,r){var o,s=eg(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function sw(e,t){var n,r=t.name,o=t.addInitializer;return oa(e)||(e=To(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,a=s[r].bind(s);a.isMobXFlow=!0,s[r]=a}),e}function aw(e,t,n,r){t.annotationType_,r.value}function eg(e,t,n,r,o,s){s===void 0&&(s=ue.safeDescriptors),aw(e,t,n,r);var a=r.value;if(oa(a)||(a=To(a)),o){var l;a=a.bind((l=e.proxy_)!=null?l:e.target_),a.isMobXFlow=!0}return{value:a,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function zc(e,t){return{annotationType_:e,options_:t,make_:iw,extend_:lw,decorate_20223_:cw}}function iw(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function lw(e,t,n,r){return uw(e,this,t,n),e.defineComputedProperty_(t,Co({},this.options_,{get:n.get,set:n.set}),r)}function cw(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=_o(this)[be],a=Co({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+r.toString()),s.values_.set(r,new Fn(a))}),function(){return this[be].getObservablePropValue_(r)}}function uw(e,t,n,r){t.annotationType_,r.get}function Pi(e,t){return{annotationType_:e,options_:t,make_:dw,extend_:pw,decorate_20223_:fw}}function dw(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function pw(e,t,n,r){var o,s;return gw(e,this),e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:xo,r)}function fw(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function a(l,c){var u,d,f=_o(l)[be],g=new Yr(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:xo,"ObservableObject."+o.toString(),!1);f.values_.set(o,g),s.add(l)}if(r=="accessor")return{get:function(){return s.has(this)||a(this,e.get.call(this)),this[be].getObservablePropValue_(o)},set:function(c){return s.has(this)||a(this,c),this[be].setObservablePropValue_(o,c)},init:function(c){return s.has(this)||a(this,c),c}}}function gw(e,t,n,r){t.annotationType_}var hw="true",mw=tg();function tg(e){return{annotationType_:hw,options_:e,make_:bw,extend_:vw,decorate_20223_:yw}}function bw(e,t,n,r){var o,s;if(n.get)return _i.make_(e,t,n,r);if(n.set){var a=Eo(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ue.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Rn(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var l;if(Wf(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?To.bound:To;return u.make_(e,t,n,r)}var d=(l=this.options_)!=null&&l.autoBind?na.bound:na;return d.make_(e,t,n,r)}var f=((o=this.options_)==null?void 0:o.deep)===!1?At.ref:At;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return f.make_(e,t,n,r)}function vw(e,t,n,r){var o,s;if(n.get)return _i.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ue.safeDescriptors?e.isPlainObject_:!0,set:Eo(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var l=((s=this.options_)==null?void 0:s.deep)===!1?At.ref:At;return l.extend_(e,t,n,r)}function yw(e,t){De("'"+this.annotationType_+"' cannot be used as a decorator")}var ww="observable",Sw="observable.ref",Cw="observable.shallow",xw="observable.struct",ng={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ng);function Oi(e){return e||ng}var Uc=Pi(ww),Ew=Pi(Sw,{enhancer:Ei}),Pw=Pi(Cw,{enhancer:Zy}),Ow=Pi(xw,{enhancer:Xy}),rg=tr(Uc);function Ti(e){return e.deep===!0?xo:e.deep===!1?Ei:_w(e.defaultDecorator)}function Tw(e){var t;return e?(t=e.defaultDecorator)!=null?t:tg(e):void 0}function _w(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:xo}function og(e,t,n){if(Js(t))return Uc.decorate_20223_(e,t);if(So(t)){Xs(e,t,Uc);return}return Qc(e)?e:Er(e)?At.object(e,t,n):Array.isArray(e)?At.array(e,t):Zo(e)?At.map(e,t):Pr(e)?At.set(e,t):typeof e=="object"&&e!==null?e:At.box(e,t)}Bf(og,rg);var Aw={box:function(t,n){var r=Oi(n);return new Yr(t,Ti(r),r.name,!0,r.equals)},array:function(t,n){var r=Oi(n);return(ue.useProxies===!1||r.proxy===!1?AS:yS)(t,Ti(r),r.name)},map:function(t,n){var r=Oi(n);return new kg(t,Ti(r),r.name)},set:function(t,n){var r=Oi(n);return new $g(t,Ti(r),r.name)},object:function(t,n,r){return Qr(function(){return Pg(ue.useProxies===!1||(r==null?void 0:r.proxy)===!1?_o({},r):hS({},r),t,n)})},ref:tr(Ew),shallow:tr(Pw),deep:rg,struct:tr(Ow)},At=Bf(og,Aw),sg="computed",Mw="computed.struct",Wc=zc(sg),kw=zc(Mw,{equals:Ro.structural}),_i=function(t,n){if(Js(n))return Wc.decorate_20223_(t,n);if(So(n))return Xs(t,n,Wc);if(Er(t))return tr(zc(sg,t));var r=Er(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Fn(r)};Object.assign(_i,Wc),_i.struct=tr(kw);var ag,ig,Ai=0,Lw=1,$w=(ag=(ig=Ci(function(){},"name"))==null?void 0:ig.configurable)!=null?ag:!1,lg={value:"action",configurable:!0,writable:!1,enumerable:!1};function Eo(e,t,n,r){n===void 0&&(n=!1);function o(){return Nw(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},$w&&(lg.value=e,Rn(o,"name",lg)),o}function Nw(e,t,n,r,o){var s=Dw(e,t);try{return n.apply(r,o)}catch(a){throw s.error_=a,a}finally{jw(s)}}function Dw(e,t,n,r){var o=!1,s=0,a=ue.trackingDerivation,l=!t||!a;xn();var c=ue.allowStateChanges;l&&(Po(),c=Mi(!0));var u=qc(!0),d={runAsAction_:l,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:o,startTime_:s,actionId_:Lw++,parentActionId_:Ai};return Ai=d.actionId_,d}function jw(e){Ai!==e.actionId_&&De(30),Ai=e.parentActionId_,e.error_!==void 0&&(ue.suppressReactionErrors=!0),ki(e.prevAllowStateChanges_),ea(e.prevAllowStateReads_),En(),e.runAsAction_&&Tr(e.prevDerivation_),ue.suppressReactionErrors=!1}function Iw(e,t){var n=Mi(e);try{return t()}finally{ki(n)}}function Mi(e){var t=ue.allowStateChanges;return ue.allowStateChanges=e,t}function ki(e){ue.allowStateChanges=e}var Yr=function(e){function t(r,o,s,a,l){var c;return s===void 0&&(s="ObservableValue"),l===void 0&&(l=Ro.default),c=e.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=o,c.name_=s,c.equals=l,c.value_=o(r,void 0,s),c}Xf(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==ue.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Pn(this)){var s=On(this,{object:this,type:rr,newValue:o});if(!s)return ue.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?ue.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Bn(this)&&zn(this,{type:rr,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return sa(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:rr,newValue:this.value_,oldValue:void 0}),aa(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return qf(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(qr),Vw=Kr("ObservableValue",Yr),Fn=function(){function e(n){this.dependenciesState_=We.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new $i(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Li.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||De(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Eo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Ro.structural:Ro.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Uw(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&De(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Gc(this)&&(this.warnAboutUntrackedRead_(),xn(),this.value_=this.computeValue_(!1),En());else if(hg(this),Gc(this)){var r=ue.trackingContext;this.keepAlive_&&!r&&(ue.trackingContext=this),this.trackAndCompute()&&zw(this),ue.trackingContext=r}var o=this.value_;if(Ni(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&De(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else De(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===We.NOT_TRACKING_,s=this.computeValue_(!0),a=o||Ni(r)||Ni(s)||!this.equals_(r,s);return a&&(this.value_=s),a},t.computeValue_=function(r){this.isComputing=!0;var o=Mi(!1),s;if(r)s=cg(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(a){s=new $i(a)}return ki(o),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(Kc(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,a=!0,l=void 0;return Rw(function(){var c=s.get();if(!a||o){var u=Po();r({observableKind:"computed",debugObjectName:s.name_,type:rr,object:s,newValue:c,oldValue:l}),Tr(u)}a=!1,l=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return qf(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Jo(e,[{key:"isComputing",get:function(){return sn(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=an(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return sn(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=an(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return sn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=an(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=an(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=an(this.flags_,e.diffValueMask_,r===1)}}])}();Fn.isComputingMask_=1,Fn.isRunningSetterMask_=2,Fn.isBeingObservedMask_=4,Fn.isPendingUnobservationMask_=8,Fn.diffValueMask_=16;var Rs=Kr("ComputedValue",Fn),We;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(We||(We={}));var Li;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Li||(Li={}));var $i=function(t){this.cause=void 0,this.cause=t};function Ni(e){return e instanceof $i}function Gc(e){switch(e.dependenciesState_){case We.UP_TO_DATE_:return!1;case We.NOT_TRACKING_:case We.STALE_:return!0;case We.POSSIBLY_STALE_:{for(var t=qc(!0),n=Po(),r=e.observing_,o=r.length,s=0;s<o;s++){var a=r[s];if(Rs(a)){if(ue.disableErrorBoundaries)a.get();else try{a.get()}catch{return Tr(n),ea(t),!0}if(e.dependenciesState_===We.STALE_)return Tr(n),ea(t),!0}}return dg(e),Tr(n),ea(t),!1}}}function O9(e){}function cg(e,t,n){var r=qc(!0);dg(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ue.runId;var o=ue.trackingDerivation;ue.trackingDerivation=e,ue.inBatch++;var s;if(ue.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(a){s=new $i(a)}return ue.inBatch--,ue.trackingDerivation=o,Hw(e),ea(r),s}function Hw(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=We.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,a=0;a<s;a++){var l=n[a];l.diffValue===0&&(l.diffValue=1,o!==a&&(n[o]=l),o++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var c=t[s];c.diffValue===0&&fg(c,e),c.diffValue=0}for(;o--;){var u=n[o];u.diffValue===1&&(u.diffValue=0,Bw(u,e))}r!==We.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Kc(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)fg(t[n],e);e.dependenciesState_=We.NOT_TRACKING_}function ug(e){var t=Po();try{return e()}finally{Tr(t)}}function Po(){var e=ue.trackingDerivation;return ue.trackingDerivation=null,e}function Tr(e){ue.trackingDerivation=e}function qc(e){var t=ue.allowStateReads;return ue.allowStateReads=e,t}function ea(e){ue.allowStateReads=e}function dg(e){if(e.dependenciesState_!==We.UP_TO_DATE_){e.dependenciesState_=We.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=We.UP_TO_DATE_}}var Di=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ji=!0,pg=!1,ue=function(){var e=Si();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ji=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Di().version&&(ji=!1),ji?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Di):(setTimeout(function(){pg||De(35)},1),new Di)}();function Fw(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&De(36),pg=!0,ji){var e=Si();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ue=new Di}}function Bw(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function fg(e,t){e.observers_.delete(t),e.observers_.size===0&&gg(e)}function gg(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ue.pendingUnobservations.push(e))}function xn(){ue.inBatch++}function En(){if(--ue.inBatch===0){bg();for(var e=ue.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Fn&&n.suspend_())}ue.pendingUnobservations=[]}}function hg(e){var t=ue.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ue.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ue.inBatch>0&&gg(e),!1)}function mg(e){e.lowestObserverState_!==We.STALE_&&(e.lowestObserverState_=We.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===We.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=We.STALE_}))}function zw(e){e.lowestObserverState_!==We.STALE_&&(e.lowestObserverState_=We.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===We.POSSIBLY_STALE_?t.dependenciesState_=We.STALE_:t.dependenciesState_===We.UP_TO_DATE_&&(e.lowestObserverState_=We.UP_TO_DATE_)}))}function Uw(e){e.lowestObserverState_===We.UP_TO_DATE_&&(e.lowestObserverState_=We.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===We.UP_TO_DATE_&&(t.dependenciesState_=We.POSSIBLY_STALE_,t.onBecomeStale_())}))}var nr=function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=We.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Li.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),bg())},t.runReaction_=function(){if(!this.isDisposed){xn(),this.isScheduled=!1;var r=ue.trackingContext;if(ue.trackingContext=this,Gc(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}ue.trackingContext=r,En()}},t.track=function(r){if(!this.isDisposed){xn(),this.isRunning=!0;var o=ue.trackingContext;ue.trackingContext=this;var s=cg(this,r,void 0);ue.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Kc(this),Ni(s)&&this.reportExceptionInDerivation_(s.cause),En()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ue.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(s,r),ue.globalReactionErrorHandlers.forEach(function(a){return a(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(xn(),Kc(this),En()))},t.getDisposer_=function(r){var o=this,s=function a(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[be]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Jo(e,[{key:"isDisposed",get:function(){return sn(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=an(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return sn(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=an(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return sn(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=an(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return sn(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=an(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return sn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=an(this.flags_,e.diffValueMask_,r===1)}}])}();nr.isDisposedMask_=1,nr.isScheduledMask_=2,nr.isTrackPendingMask_=4,nr.isRunningMask_=8,nr.diffValueMask_=16;var Ww=100,Yc=function(t){return t()};function bg(){ue.inBatch>0||ue.isRunningReactions||Yc(Gw)}function Gw(){ue.isRunningReactions=!0;for(var e=ue.pendingReactions,t=0;e.length>0;){++t===Ww&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}ue.isRunningReactions=!1}var Ii=Kr("Reaction",nr);function Kw(e){var t=Yc;Yc=function(r){return e(function(){return t(r)})}}function ta(){return!1}function T9(e){}function _9(e){}function A9(e){}function qw(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var vg="action",Yw="action.bound",yg="autoAction",Zw="autoAction.bound",Xw="<unnamed action>",Zc=Qs(vg),Jw=Qs(Yw,{bound:!0}),Xc=Qs(yg,{autoAction:!0}),Qw=Qs(Zw,{autoAction:!0,bound:!0});function wg(e){var t=function(r,o){if(Hn(r))return Eo(r.name||Xw,r,e);if(Hn(o))return Eo(r,o,e);if(Js(o))return(e?Xc:Zc).decorate_20223_(r,o);if(So(o))return Xs(r,o,e?Xc:Zc);if(So(r))return tr(Qs(e?yg:vg,{name:r,autoAction:e}))};return t}var Oo=wg(!1);Object.assign(Oo,Zc);var na=wg(!0);Object.assign(na,Xc),Oo.bound=tr(Jw),na.bound=tr(Qw);function ra(e){return Hn(e)&&e.isMobxAction===!0}function Rw(e,t){var n,r,o,s;t===void 0&&(t=Hc);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new nr(a,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=Sg(t),d=!1;c=new nr(a,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((s=t)==null?void 0:s.signal)}var eS=function(t){return t()};function Sg(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:eS}function Cg(e,t,n){var r,o,s;n===void 0&&(n=Hc);var a=(r=n.name)!=null?r:"Reaction",l=Oo(a,n.onError?tS(n.onError,t):t),c=!n.scheduler&&!n.delay,u=Sg(n),d=!0,f=!1,g,h=n.compareStructural?Ro.structural:n.equals||Ro.default,m=new nr(a,function(){d||c?b():f||(f=!0,u(b))},n.onError,n.requiresObservable);function b(){if(f=!1,!m.isDisposed){var y=!1,v=g;m.track(function(){var S=Iw(!1,function(){return e(m)});y=d||!h(g,S),g=S}),(d&&n.fireImmediately||!d&&y)&&l(g,v,m),d=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||m.schedule_(),m.getDisposer_((s=n)==null?void 0:s.signal)}function tS(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var nS="onBO",rS="onBUO";function oS(e,t,n){return Eg(nS,e,t,n)}function xg(e,t,n){return Eg(rS,e,t,n)}function Eg(e,t,n,r){var o=typeof r=="function"?rs(t,n):rs(t),s=Hn(r)?r:n,a=e+"L";return o[a]?o[a].add(s):o[a]=new Set([s]),function(){var l=o[a];l&&(l.delete(s),l.size===0&&delete o[a])}}var sS="never",Vi="always",aS="observed";function iS(e){e.isolateGlobalState===!0&&Fw();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ue.useProxies=t===Vi?!0:t===sS?!1:typeof Proxy<"u"),t==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var r=n===Vi?Vi:n===aS;ue.enforceActions=r,ue.allowStateChanges=!(r===!0||r===Vi)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(ue[o]=!!e[o])}),ue.allowStateReads=!ue.observableRequiresReaction,e.reactionScheduler&&Kw(e.reactionScheduler)}function Pg(e,t,n,r){var o=Fy(t);return Qr(function(){var s=_o(e,r)[be];Xo(o).forEach(function(a){s.extend_(a,o[a],n&&a in n?n[a]:!0)})}),e}function lS(e,t){return Og(rs(e,t))}function Og(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=cS(e.observing_).map(Og)),t}function cS(e){return Array.from(new Set(e))}var uS=0;function Tg(){this.message="FLOW_CANCELLED"}Tg.prototype=Object.create(Error.prototype);var Jc=Rf("flow"),dS=Rf("flow.bound",{bound:!0}),To=Object.assign(function(t,n){if(Js(n))return Jc.decorate_20223_(t,n);if(So(n))return Xs(t,n,Jc);var r=t,o=r.name||"<unnamed flow>",s=function(){var l=this,c=arguments,u=++uS,d=Oo(o+" - runid: "+u+" - init",r).apply(l,c),f,g=void 0,h=new Promise(function(m,b){var y=0;f=b;function v(C){g=void 0;var E;try{E=Oo(o+" - runid: "+u+" - yield "+y++,d.next).call(d,C)}catch(x){return b(x)}w(E)}function S(C){g=void 0;var E;try{E=Oo(o+" - runid: "+u+" - yield "+y++,d.throw).call(d,C)}catch(x){return b(x)}w(E)}function w(C){if(Hn(C==null?void 0:C.then)){C.then(w,b);return}return C.done?m(C.value):(g=Promise.resolve(C.value),g.then(v,S))}v(void 0)});return h.cancel=Oo(o+" - runid: "+u+" - cancel",function(){try{g&&_g(g);var m=d.return(void 0),b=Promise.resolve(m.value);b.then(Yo,Yo),_g(b),f(new Tg)}catch(y){f(y)}}),h};return s.isMobXFlow=!0,s},Jc);To.bound=tr(dS);function _g(e){Hn(e.cancel)&&e.cancel()}function oa(e){return(e==null?void 0:e.isMobXFlow)===!0}function pS(e,t){return e?t!==void 0?ns(e)?e[be].values_.has(t):!1:ns(e)||!!e[be]||Bc(e)||Ii(e)||Rs(e):!1}function Qc(e){return pS(e)}function fS(e){if(ns(e))return e[be].ownKeys_();De(38)}function Hi(e,t,n){return e.set(t,n),n}function es(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Qc(e))return e;if(Vw(e)||Rs(e))return es(e.get(),t);if(t.has(e))return t.get(e);if(ia(e)){var n=Hi(t,e,new Array(e.length));return e.forEach(function(a,l){n[l]=es(a,t)}),n}if(Wn(e)){var r=Hi(t,e,new Set);return e.forEach(function(a){r.add(es(a,t))}),r}if(Jr(e)){var o=Hi(t,e,new Map);return e.forEach(function(a,l){o.set(l,es(a,t))}),o}else{var s=Hi(t,e,{});return fS(e).forEach(function(a){Ys.propertyIsEnumerable.call(e,a)&&(s[a]=es(e[a],t))}),s}}function Zr(e,t){return es(e,new Map)}function _r(e,t){t===void 0&&(t=void 0),xn();try{return e.apply(t)}finally{En()}}function ts(e){return e[be]}var gS={has:function(t,n){return ts(t).has_(n)},get:function(t,n){return ts(t).get_(n)},set:function(t,n,r){var o;return So(n)?(o=ts(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return So(n)?(r=ts(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=ts(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return ts(t).ownKeys_()},preventExtensions:function(t){De(13)}};function hS(e,t){var n,r;return zf(),e=_o(e,t),(r=(n=e[be]).proxy_)!=null?r:n.proxy_=new Proxy(e,gS)}function Pn(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function sa(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Uf(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function On(e,t){var n=Po();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&De(14),!!t);o++);return t}finally{Tr(n)}}function Bn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function aa(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Uf(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function zn(e,t){var n=Po(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);Tr(n)}}function mS(e,t,n){return Qr(function(){var r,o=_o(e,n)[be];(r=t)!=null||(t=Wy(e)),Xo(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Rc=Symbol("mobx-keys");function Ht(e,t,n){return Er(e)?Pg(e,e,t,n):(Qr(function(){var r=_o(e,n)[be];if(!e[Rc]){var o=Object.getPrototypeOf(e),s=new Set([].concat(Xo(e),Xo(o)));s.delete("constructor"),s.delete(be),Zs(o,Rc,s)}e[Rc].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}),e)}var Ag="splice",rr="update",bS=1e4,vS={get:function(t,n){var r=t[be];return n===be?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Or(Fi,n)?Fi[n]:t[n]},set:function(t,n,r){var o=t[be];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){De(15)}},eu=function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new qr(n),this.enhancer_=function(a,l){return r(a,l,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return sa(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),aa(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&De("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),a=0;a<r-o;a++)s[a]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&De(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&zg(r+o+1)},t.spliceWithArray_=function(r,o,s){var a=this;this.atom_;var l=this.values_.length;if(r===void 0?r=0:r>l?r=l:r<0&&(r=Math.max(0,l+r)),arguments.length===1?o=l-r:o==null?o=0:o=Math.max(0,Math.min(o,l-r)),s===void 0&&(s=Vc),Pn(this)){var c=On(this,{object:this.proxy_,type:Ag,index:r,removedCount:o,added:s});if(!c)return Vc;o=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(f){return a.enhancer_(f,void 0)}),this.legacyMode_){var u=s.length-o;this.updateArrayLength_(l,u)}var d=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<bS){var a;return(a=this.values_).splice.apply(a,[r,o].concat(s))}else{var l=this.values_.slice(r,r+o),c=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var d=0;d<c.length;d++)this.values_[r+s.length+d]=c[d];return l}},t.notifyArrayChildUpdate_=function(r,o,s){var a=!this.owned_&&ta(),l=Bn(this),c=l||a?{observableKind:"array",object:this.proxy_,type:rr,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),l&&zn(this,c)},t.notifyArraySplice_=function(r,o,s){var a=!this.owned_&&ta(),l=Bn(this),c=l||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ag,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),l&&zn(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&De(17,r,s.length),r<s.length){this.atom_;var a=s[r];if(Pn(this)){var l=On(this,{type:rr,object:this.proxy_,index:r,newValue:o});if(!l)return;o=l.newValue}o=this.enhancer_(o,a);var c=o!==a;c&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,a))}else{for(var u=new Array(r+1-s.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=o,this.spliceWithArray_(s.length,0,u)}},e}();function yS(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),zf(),Qr(function(){var o=new eu(n,t,r,!1);Gf(o.values_,be,o);var s=new Proxy(o.values_,vS);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var Fi={clear:function(){return this.splice(0)},replace:function(t){var n=this[be];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var a=this[be];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[be].spliceWithArray_(t,n,r)},push:function(){for(var t=this[be],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[be].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[be],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ue.trackingDerivation&&De(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&De(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[be],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};st("at",ln),st("concat",ln),st("flat",ln),st("includes",ln),st("indexOf",ln),st("join",ln),st("lastIndexOf",ln),st("slice",ln),st("toString",ln),st("toLocaleString",ln),st("toSorted",ln),st("toSpliced",ln),st("with",ln),st("every",Un),st("filter",Un),st("find",Un),st("findIndex",Un),st("findLast",Un),st("findLastIndex",Un),st("flatMap",Un),st("forEach",Un),st("map",Un),st("some",Un),st("toReversed",Un),st("reduce",Mg),st("reduceRight",Mg);function st(e,t){typeof Array.prototype[e]=="function"&&(Fi[e]=t(e))}function ln(e){return function(){var t=this[be];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Un(e){return function(t,n){var r=this,o=this[be];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(a,l){return t.call(n,a,l,r)})}}function Mg(e){return function(){var t=this,n=this[be];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,a,l){return o(s,a,l,t)},r[e].apply(r,arguments)}}var wS=Kr("ObservableArrayAdministration",eu);function ia(e){return xi(e)&&wS(e[be])}var SS={},Xr="add",Bi="delete",kg=function(){function e(n,r,o){var s=this;r===void 0&&(r=xo),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[be]=SS,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,Hn(Map)||De(18),Qr(function(){s.keysAtom_=Jf("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!ue.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var a=s=new Yr(this.has_(r),Ei,"ObservableMap.key?",!1);this.hasMap_.set(r,a),xg(a,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(Pn(this)){var a=On(this,{type:s?rr:Xr,object:this,newValue:o,name:r});if(!a)return this;o=a.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,Pn(this)){var s=On(this,{type:Bi,object:this,name:r});if(!s)return!1}if(this.has_(r)){var a=ta(),l=Bn(this),c=l||a?{observableKind:"map",debugObjectName:this.name_,type:Bi,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return _r(function(){var u;o.keysAtom_.reportChanged(),(u=o.hasMap_.get(r))==null||u.setNewValue_(!1);var d=o.data_.get(r);d.setNewValue_(void 0),o.data_.delete(r)}),l&&zn(this,c),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==ue.UNCHANGED){var a=ta(),l=Bn(this),c=l||a?{observableKind:"map",debugObjectName:this.name_,type:rr,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),l&&zn(this,c)}},t.addValue_=function(r,o){var s=this;this.keysAtom_,_r(function(){var u,d=new Yr(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,d),o=d.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var a=ta(),l=Bn(this),c=l||a?{observableKind:"map",debugObjectName:this.name_,type:Xr,object:this,name:r,newValue:o}:null;l&&zn(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Lg({next:function(){var a=o.next(),l=a.done,c=a.value;return{done:l,value:l?void 0:r.get(c)}}})},t.entries=function(){var r=this,o=this.keys();return Lg({next:function(){var a=o.next(),l=a.done,c=a.value;return{done:l,value:l?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var s=Qo(this),a;!(a=s()).done;){var l=a.value,c=l[0],u=l[1];r.call(o,u,c,this)}},t.merge=function(r){var o=this;return Jr(r)&&(r=new Map(r)),_r(function(){Er(r)?Hy(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var a=s[0],l=s[1];return o.set(a,l)}):Zo(r)?(Vy(r)||De(19,r),r.forEach(function(s,a){return o.set(a,s)})):r!=null&&De(20,r)}),this},t.clear=function(){var r=this;_r(function(){ug(function(){for(var o=Qo(r.keys()),s;!(s=o()).done;){var a=s.value;r.delete(a)}})})},t.replace=function(r){var o=this;return _r(function(){for(var s=CS(r),a=new Map,l=!1,c=Qo(o.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!s.has(d)){var f=o.delete(d);if(f)l=!0;else{var g=o.data_.get(d);a.set(d,g)}}}for(var h=Qo(s.entries()),m;!(m=h()).done;){var b=m.value,y=b[0],v=b[1],S=o.data_.has(y);if(o.set(y,v),o.data_.has(y)){var w=o.data_.get(y);a.set(y,w),S||(l=!0)}}if(!l)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var C=o.data_.keys(),E=a.keys(),x=C.next(),P=E.next();!x.done;){if(x.value!==P.value){o.keysAtom_.reportChanged();break}x=C.next(),P=E.next()}o.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return aa(this,r)},t.intercept_=function(r){return sa(this,r)},Jo(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Jr=Kr("ObservableMap",kg);function Lg(e){return e[Symbol.toStringTag]="MapIterator",au(e)}function CS(e){if(Zo(e)||Jr(e))return e;if(Array.isArray(e))return new Map(e);if(Er(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return De(21,e)}var xS={},$g=function(){function e(n,r,o){var s=this;r===void 0&&(r=xo),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[be]=xS,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,Hn(Set)||De(22),this.enhancer_=function(a,l){return r(a,l,o)},Qr(function(){s.atom_=Jf(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;_r(function(){ug(function(){for(var o=Qo(r.data_.values()),s;!(s=o()).done;){var a=s.value;r.delete(a)}})})},t.forEach=function(r,o){for(var s=Qo(this),a;!(a=s()).done;){var l=a.value;r.call(o,l,l,this)}},t.add=function(r){var o=this;if(this.atom_,Pn(this)){var s=On(this,{type:Xr,object:this,newValue:r});if(!s)return this}if(!this.has(r)){_r(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var a=!1,l=Bn(this),c=l||a?{observableKind:"set",debugObjectName:this.name_,type:Xr,object:this,newValue:r}:null;l&&zn(this,c)}return this},t.delete=function(r){var o=this;if(Pn(this)){var s=On(this,{type:Bi,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var a=!1,l=Bn(this),c=l||a?{observableKind:"set",debugObjectName:this.name_,type:Bi,object:this,oldValue:r}:null;return _r(function(){o.atom_.reportChanged(),o.data_.delete(r)}),l&&zn(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),s=Array.from(this.values());return Ng({next:function(){var l=r;return r+=1,l<s.length?{value:[o[l],s[l]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,s=Array.from(this.data_.values());return Ng({next:function(){return o<s.length?{value:r.dehanceValue_(s[o++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(Pr(r)&&!Wn(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Pr(r)&&!Wn(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Pr(r)&&!Wn(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Pr(r)&&!Wn(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return Wn(r)&&(r=new Set(r)),_r(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):Pr(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&De("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return aa(this,r)},t.intercept_=function(r){return sa(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Jo(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Wn=Kr("ObservableSet",$g);function Ng(e){return e[Symbol.toStringTag]="SetIterator",au(e)}var Dg=Object.create(null),jg="remove",Ig=function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=mw),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new qr("ObservableObject.keys"),this.isPlainObject_=Er(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof Fn)return s.set(o),!0;if(Pn(this)){var a=On(this,{type:rr,object:this.proxy_||this.target_,name:r,newValue:o});if(!a)return null;o=a.newValue}if(o=s.prepareNewValue_(o),o!==ue.UNCHANGED){var l=Bn(this),c=!1,u=l||c?{type:rr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),l&&zn(this,u)}return!0},t.get_=function(r){return ue.trackingDerivation&&!Or(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),Or(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!ue.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Yr(r in this.target_,Ei,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[er])!=null&&s[r])return;De(1,o.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Ys;){var l=Ci(a,r);if(l){var c=o.make_(this,r,l,a);if(c===0)return;if(c===1)break}a=Object.getPrototypeOf(a)}Hg(this,o,r)}},t.extend_=function(r,o,s,a){if(a===void 0&&(a=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,a);var l=s.extend_(this,r,o,a);return l&&Hg(this,s,r),l},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{xn();var a=this.delete_(r);if(!a)return a;if(Pn(this)){var l=On(this,{object:this.proxy_||this.target_,name:r,type:Xr,newValue:o.value});if(!l)return null;var c=l.newValue;o.value!==c&&(o=Co({},o,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else Rn(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{En()}return!0},t.defineObservableProperty_=function(r,o,s,a){a===void 0&&(a=!1),this.keysAtom_;try{xn();var l=this.delete_(r);if(!l)return l;if(Pn(this)){var c=On(this,{object:this.proxy_||this.target_,name:r,type:Xr,newValue:o});if(!c)return null;o=c.newValue}var u=Vg(r),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Rn(this.target_,r,d);var f=new Yr(o,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{En()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{xn();var a=this.delete_(r);if(!a)return a;if(Pn(this)){var l=On(this,{object:this.proxy_||this.target_,name:r,type:Xr,newValue:void 0});if(!l)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var c=Vg(r),u={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Rn(this.target_,r,u);this.values_.set(r,new Fn(o)),this.notifyPropertyAddition_(r,void 0)}finally{En()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Or(this.target_,r))return!0;if(Pn(this)){var s=On(this,{object:this.proxy_||this.target_,name:r,type:jg});if(!s)return null}try{var a;xn();var l=Bn(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=Ci(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Yr&&(d=u.value_),mg(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),l||c){var g={type:jg,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&zn(this,g)}}finally{En()}return!0},t.observe_=function(r,o){return aa(this,r)},t.intercept_=function(r){return sa(this,r)},t.notifyPropertyAddition_=function(r,o){var s,a=Bn(this),l=!1;if(a||l){var c=a||l?{type:Xr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;a&&zn(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Xo(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function _o(e,t){var n;if(Or(e,be))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new Ig(e,new Map,String(r),Tw(t));return Zs(e,be,o),e}var ES=Kr("ObservableObjectAdministration",Ig);function Vg(e){return Dg[e]||(Dg[e]={get:function(){return this[be].getObservablePropValue_(e)},set:function(n){return this[be].setObservablePropValue_(e,n)}})}function ns(e){return xi(e)?ES(e[be]):!1}function Hg(e,t,n){var r;(r=e.target_[er])==null||delete r[n]}var PS=Bg(0),OS=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),tu=0,Fg=function(){};function TS(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}TS(Fg,Array.prototype);var nu=function(e){function t(r,o,s,a){var l;return s===void 0&&(s="ObservableArray"),a===void 0&&(a=!1),l=e.call(this)||this,Qr(function(){var c=new eu(s,o,a,!0);c.proxy_=l,Gf(l,be,c),r&&r.length&&l.spliceWithArray(0,0,r),OS&&Object.defineProperty(l,"0",PS)}),l}Xf(t,e);var n=t.prototype;return n.concat=function(){this[be].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),s.map(function(l){return ia(l)?l.slice():l}))},n[Symbol.iterator]=function(){var r=this,o=0;return au({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Jo(t,[{key:"length",get:function(){return this[be].getArrayLength_()},set:function(o){this[be].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Fg);Object.entries(Fi).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Zs(nu.prototype,t,n)});function Bg(e){return{enumerable:!1,configurable:!0,get:function(){return this[be].get_(e)},set:function(n){this[be].set_(e,n)}}}function _S(e){Rn(nu.prototype,""+e,Bg(e))}function zg(e){if(e>tu){for(var t=tu;t<e+100;t++)_S(t);tu=e}}zg(1e3);function AS(e,t,n){return new nu(e,t,n)}function rs(e,t){if(typeof e=="object"&&e!==null){if(ia(e))return t!==void 0&&De(23),e[be].atom_;if(Wn(e))return e.atom_;if(Jr(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||De(25,t,ru(e)),n}if(ns(e)){if(!t)return De(26);var r=e[be].values_.get(t);return r||De(27,t,ru(e)),r}if(Bc(e)||Rs(e)||Ii(e))return e}else if(Hn(e)&&Ii(e[be]))return e[be];De(28)}function Ug(e,t){if(e||De(29),t!==void 0)return Ug(rs(e,t));if(Bc(e)||Rs(e)||Ii(e)||Jr(e)||Wn(e))return e;if(e[be])return e[be];De(24,e)}function ru(e,t){var n;if(t!==void 0)n=rs(e,t);else{if(ra(e))return e.name;ns(e)||Jr(e)||Wn(e)?n=Ug(e):n=rs(e)}return n.name_}function Qr(e){var t=Po(),n=Mi(!0);xn();try{return e()}finally{En(),ki(n),Tr(t)}}var Wg=Ys.toString;function ou(e,t,n){return n===void 0&&(n=-1),su(e,t,n)}function su(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var a=Wg.call(e);if(a!==Wg.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Gg(e),t=Gg(t);var l=a==="[object Array]";if(!l){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(Hn(c)&&c instanceof c&&Hn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===e)return o[d]===t;if(r.push(e),o.push(t),l){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!su(e[d],t[d],n-1,r,o))return!1}else{var f=Object.keys(e),g;if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(g=f[d],!(Or(t,g)&&su(e[g],t[g],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function Gg(e){return ia(e)?e.slice():Zo(e)||Jr(e)||Pr(e)||Wn(e)?Array.from(e.entries()):e}var Kg,MS=((Kg=Si().Iterator)==null?void 0:Kg.prototype)||{};function au(e){return e[Symbol.iterator]=kS,Object.assign(Object.create(MS),e)}function kS(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Si();typeof t[e]>"u"&&De("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qw,extras:{getDebugName:ru},$mobx:be});const qg="app.grapesjs.com",Yg="app-stage.grapesjs.com",Zg="gs-studio-root",Xg=[qg,Yg,"localhost","127.0.0.1",".local-credentialless.webcontainer.io",".local.webcontainer.io","-sandpack.codesandbox.io"],LS="license:check:start",Jg="license:check:end",or=()=>typeof window<"u",os=e=>e&&e.stopPropagation(),$S=(e,t)=>{const n=r=>r.key===e&&t();return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},NS=(e="")=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},DS=e=>$S("Escape",e),jS=(e,t={})=>{const n=ft(e)?{id:e,src:e}:e;return new Promise((r,o)=>{var c,u;const s=document.querySelector(`script[src="${n.src}"]`),{id:a}=n;if(s)return(c=t.onScript)==null||c.call(t,s),r(a);const l=document.createElement("script");l.src=n.src,l.onload=()=>r(a),l.onerror=()=>o(a),document.head.appendChild(l),(u=t.onScript)==null||u.call(t,l)})},IS=e=>{const t=e.map(n=>jS(n));return Promise.allSettled(t)};function VS(e){const t=e.ownerDocument.createElement("script");return t.text=e.innerHTML,Array.from(e.attributes).forEach(n=>t.setAttribute(n.nodeName,n.nodeValue)),t}function Qg(e){const t=r=>{var o;if(r.length){const s=r.shift(),a=VS(s);a.onerror=a.onload=t.bind(null,r),(o=s.parentNode)==null||o.replaceChild(a,s)}},n=Array.from(e.querySelectorAll("script"));t(n)}const Rg=e=>new DOMParser().parseFromString(e,"text/html"),HS=(e="")=>Rg(`<body>${e}</body>`).body.innerHTML,FS=(e="")=>Rg(`<head>${e}</head>`).head.innerHTML,BS=(e="",t)=>{const r=new DOMParser().parseFromString(e,"text/html");if(t){const s=r.querySelectorAll("svg")[0].style||{},a=qS(t)?`${t}px`:t;s.width=a,s.height=a,s.fill="currentColor"}return new XMLSerializer().serializeToString(r)},zS=({isDev:e,isStage:t})=>`${e?"":`https://${t?Yg:qg}`}/api`,eh=(e={})=>{const{width:t=300,height:n,text:r="IMAGE",bg:o="777",fg:s="white"}=e,a=n?`x${n}`:"";return`https://placehold.co/${t}${a}/${o}/${s}.png?text=${r}`},US=eh(),iu=()=>{const e=or()&&window.location.hostname;return!!e&&(Xg.includes(e)||Xg.some(t=>e.endsWith(t)))},sr=e=>e&&e.charAt(0).toUpperCase()+e.substring(1),WS=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase()),GS=()=>{},KS=240,Mt=e=>typeof e<"u",ft=e=>typeof e=="string",qS=e=>typeof e=="number";function it(e){return typeof e=="function"}function ss(e){return e&&!Array.isArray(e)&&typeof e=="object"}const YS=e=>!e||Object.keys(e).length===0,la=(e,t)=>{const n={...e},r={...t};for(const o in r){const s=n[o],a=r[o];ss(s)&&ss(a)?n[o]=la(s,a):n[o]=a}return n},as=(e,t)=>{const n=(e||"").toLocaleLowerCase(),r=(t||"").toLocaleLowerCase();return n.includes(r)},ZS=(e="")=>{const t=e[0]==="?"?e.substring(1):e,n=new URLSearchParams(t);return Object.fromEntries(n)},XS=(e=16)=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t},JS=e=>!!e.Components.getType("mjml"),lu=e=>(e||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._]+/g,"").replace(/--+/g,"-").trim();var zi,QS=new Uint8Array(16);function RS(){if(!zi&&(zi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(QS)}const e2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function t2(e){return typeof e=="string"&&e2.test(e)}for(var kt=[],cu=0;cu<256;++cu)kt.push((cu+256).toString(16).substr(1));function n2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kt[e[t+0]]+kt[e[t+1]]+kt[e[t+2]]+kt[e[t+3]]+"-"+kt[e[t+4]]+kt[e[t+5]]+"-"+kt[e[t+6]]+kt[e[t+7]]+"-"+kt[e[t+8]]+kt[e[t+9]]+"-"+kt[e[t+10]]+kt[e[t+11]]+kt[e[t+12]]+kt[e[t+13]]+kt[e[t+14]]+kt[e[t+15]]).toLowerCase();if(!t2(n))throw TypeError("Stringified UUID is invalid");return n}function th(e,t,n){e=e||{};var r=e.random||(e.rng||RS)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return n2(r)}var de=(e=>(e.toastAdd="studio:toastAdd",e.dialogOpen="studio:dialogOpen",e.dialogClose="studio:dialogClose",e.sidebarLeftSet="studio:sidebarLeft:set",e.sidebarLeftGet="studio:sidebarLeft:get",e.sidebarLeftToggle="studio:sidebarLeft:toggle",e.sidebarRightSet="studio:sidebarRight:set",e.sidebarRightGet="studio:sidebarRight:get",e.sidebarRightToggle="studio:sidebarRight:toggle",e.sidebarTopSet="studio:sidebarTop:set",e.sidebarTopGet="studio:sidebarTop:get",e.sidebarTopToggle="studio:sidebarTop:toggle",e.sidebarBottomSet="studio:sidebarBottom:set",e.sidebarBottomGet="studio:sidebarBottom:get",e.sidebarBottomToggle="studio:sidebarBottom:toggle",e.symbolAdd="studio:symbolAdd",e.symbolDetach="studio:symbolDetach",e.symbolOverride="studio:symbolOverride",e.symbolPropagateStyles="studio:propagateStyles",e.getPagesConfig="studio:getPagesConfig",e.setPagesConfig="studio:setPagesConfig",e.getPageSettings="studio:getPageSettings",e.setPageSettings="studio:setPageSettings",e.projectFiles="studio:projectFiles",e.canvasReload="studio:canvasReload",e.getBlocksPanel="studio:getBlocksPanel",e.setBlocksPanel="studio:setBlocksPanel",e.getStateContextMenu="studio:getStateContextMenu",e.setStateContextMenu="studio:setStateContextMenu",e.contextMenuComponent="studio:contextMenuComponent",e.layoutAdd="studio:layoutAdd",e.layoutRemove="studio:layoutRemove",e.layoutToggle="studio:layoutToggle",e.layoutUpdate="studio:layoutUpdate",e.layoutGet="studio:layoutGet",e.layoutConfigGet="studio:layoutConfigGet",e.layoutConfigSet="studio:layoutConfigSet",e.getStateTheme="studio:getStateTheme",e.setStateTheme="studio:setStateTheme",e.assetProviderGet="studio:assetProviderGet",e.assetProviderAdd="studio:assetProviderAdd",e.assetProviderRemove="studio:assetProviderRemove",e.fontGet="studio:fontGet",e.fontAdd="studio:fontAdd",e.fontRemove="studio:fontRemove",e.fontManagerOpen="studio:fontManagerOpen",e.menuFontLoad="studio:menuFontLoad",e.toggleStateDataSource="studio:toggleStateDataSource",e.getStateDataSource="studio:getStateDataSource",e.setDragAbsolute="studio:setDragAbsolute",e))(de||{}),cn=(e=>(e.layoutToggleId="studio:layoutToggle:",e.toggleBlocksPanel="studio:toggleBlocksPanel",e.pageSettingsUpdate="studio:pageSettingsUpdate",e.toggleDataSourcesPreview="studio:toggleDataSourcesPreview",e))(cn||{});const nh=new Set,un=new WeakMap,is=new WeakMap,Ao=new WeakMap,uu=new WeakMap,r2=new WeakMap,ls=new WeakMap,Ui=new WeakMap;let Rr;const Mo="__aa_tgt",du="__aa_del",o2=e=>{const t=c2(e);t&&t.forEach(n=>u2(n))},s2=e=>{e.forEach(t=>{t.target===Rr&&i2(),un.has(t.target)&&ko(t.target)})};function a2(e){const t=uu.get(e);t==null||t.disconnect();let n=un.get(e),r=0;const o=5;n||(n=us(e),un.set(e,n));const{offsetWidth:s,offsetHeight:a}=Rr,c=[n.top-o,s-(n.left+o+n.width),a-(n.top+o+n.height),n.left-o].map(d=>`${-1*Math.floor(d)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&ko(e)},{root:Rr,threshold:1,rootMargin:c});u.observe(e),uu.set(e,u)}function ko(e){clearTimeout(Ui.get(e));const t=Wi(e),n=typeof t=="function"?500:t.duration;Ui.set(e,setTimeout(()=>{const r=Ao.get(e);(!r||r.finished)&&(un.set(e,us(e)),a2(e))},n))}function i2(){clearTimeout(Ui.get(Rr)),Ui.set(Rr,setTimeout(()=>{nh.forEach(e=>sh(e,t=>rh(()=>ko(t))))},100))}function l2(e){setTimeout(()=>{r2.set(e,setInterval(()=>rh(ko.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function rh(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let pu,cs;typeof window<"u"&&(Rr=document.documentElement,pu=new MutationObserver(o2),cs=new ResizeObserver(s2),cs.observe(Rr));function c2(e){return e.reduce((t,n)=>{if(t===!1)return!1;if(n.target instanceof Element){if(fu(n.target),!t.has(n.target)){t.add(n.target);for(let r=0;r<n.target.children.length;r++){const o=n.target.children.item(r);if(o){if(du in o)return!1;fu(n.target,o),t.add(o)}}}if(n.removedNodes.length)for(let r=0;r<n.removedNodes.length;r++){const o=n.removedNodes[r];if(du in o)return!1;o instanceof Element&&(t.add(o),fu(n.target,o),is.set(o,[n.previousSibling,n.nextSibling]))}}return t},new Set)}function fu(e,t){!t&&!(Mo in e)?Object.defineProperty(e,Mo,{value:e}):t&&!(Mo in t)&&Object.defineProperty(t,Mo,{value:e})}function u2(e){var t;const n=Rr.contains(e),r=un.has(e);n&&is.has(e)&&is.delete(e),Ao.has(e)&&((t=Ao.get(e))===null||t===void 0||t.cancel()),r&&n?d2(e):r&&!n?f2(e):p2(e)}function ar(e){return Number(e.replace(/[^0-9.\-]/g,""))}function us(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function oh(e,t,n){let r=t.width,o=t.height,s=n.width,a=n.height;const l=getComputedStyle(e);if(l.getPropertyValue("box-sizing")==="content-box"){const u=ar(l.paddingTop)+ar(l.paddingBottom)+ar(l.borderTopWidth)+ar(l.borderBottomWidth),d=ar(l.paddingLeft)+ar(l.paddingRight)+ar(l.borderRightWidth)+ar(l.borderLeftWidth);r-=d,s-=d,o-=u,a-=u}return[r,s,o,a].map(Math.round)}function Wi(e){return Mo in e&&ls.has(e[Mo])?ls.get(e[Mo]):{duration:250,easing:"ease-in-out"}}function sh(e,...t){t.forEach(n=>n(e,ls.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(o=>o(r,ls.has(r)))}}function d2(e){const t=un.get(e),n=us(e);let r;if(!t)return;const o=Wi(e);if(typeof o!="function"){const s=t.left-n.left,a=t.top-n.top,[l,c,u,d]=oh(e,t,n),f={transform:`translate(${s}px, ${a}px)`},g={transform:"translate(0, 0)"};l!==c&&(f.width=`${l}px`,g.width=`${c}px`),u!==d&&(f.height=`${u}px`,g.height=`${d}px`),r=e.animate([f,g],o)}else r=new Animation(o(e,"remain",t,n)),r.play();Ao.set(e,r),un.set(e,n),r.addEventListener("finish",ko.bind(null,e))}function p2(e){const t=us(e);un.set(e,t);const n=Wi(e);let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),Ao.set(e,r),r.addEventListener("finish",ko.bind(null,e))}function f2(e){if(!is.has(e)||!un.has(e))return;const[t,n]=is.get(e);Object.defineProperty(e,du,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):t&&t.parentNode&&t.parentNode.appendChild(e);const[r,o,s,a]=g2(e),l=Wi(e),c=un.get(e);let u;Object.assign(e.style,{position:"absolute",top:`${r}px`,left:`${o}px`,width:`${s}px`,height:`${a}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof l!="function"?u=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:l.duration,easing:"ease-out"}):(u=new Animation(l(e,"remove",c)),u.play()),Ao.set(e,u),u.addEventListener("finish",()=>{var d;e.remove(),un.delete(e),is.delete(e),Ao.delete(e),(d=uu.get(e))===null||d===void 0||d.disconnect()})}function g2(e){const t=un.get(e),[n,,r]=oh(e,t,us(e));let o=e.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const s=getComputedStyle(o),a=un.get(o)||us(o),l=Math.round(t.top-a.top)-ar(s.borderTopWidth),c=Math.round(t.left-a.left)-ar(s.borderLeftWidth);return[l,c,n,r]}function h2(e,t={}){pu&&cs&&(getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),sh(e,ko,l2,n=>cs==null?void 0:cs.observe(n)),typeof t=="function"?ls.set(e,t):ls.set(e,{duration:250,easing:"ease-in-out",...t}),pu.observe(e,{childList:!0}),nh.add(e))}function m2(e){const t=p.useRef(null);return p.useEffect(()=>{t.current instanceof HTMLElement&&h2(t.current,e)},[t]),t}if(!p.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!mS)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function b2(e){e()}function v2(e){e||(e=b2),iS({reactionScheduler:e})}function y2(e){return lS(e)}var w2=1e4,S2=1e4,C2=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=w2),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var o=Date.now();n.registrations.forEach(function(s,a){o-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,S2))}}),e}(),x2=typeof FinalizationRegistry<"u"?FinalizationRegistry:C2,gu=new x2(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function hu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ah={exports:{}},mu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function E2(){if(ih)return mu;ih=1;var e=p;function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function l(f,g){var h=g(),m=r({inst:{value:h,getSnapshot:g}}),b=m[0].inst,y=m[1];return s(function(){b.value=h,b.getSnapshot=g,c(b)&&y({inst:b})},[f,h,g]),o(function(){return c(b)&&y({inst:b}),f(function(){c(b)&&y({inst:b})})},[f]),a(h),h}function c(f){var g=f.getSnapshot;f=f.value;try{var h=g();return!n(f,h)}catch{return!0}}function u(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return mu.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,mu}ah.exports=E2();var P2=ah.exports;function lh(e){e.reaction=new nr("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function O2(e,t){t===void 0&&(t="observed");var n=p.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(l){return gu.unregister(r),r.onStoreChange=l,r.reaction||(lh(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o=n.current;o.reaction||(lh(o),gu.register(n,o,o)),p.useDebugValue(o.reaction,y2),P2.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var s,a;if(o.reaction.track(function(){try{s=e()}catch(l){a=l}}),a)throw a;return s}var bu,vu,ch=typeof Symbol=="function"&&Symbol.for,T2=(vu=(bu=Object.getOwnPropertyDescriptor(function(){},"name"))===null||bu===void 0?void 0:bu.configurable)!==null&&vu!==void 0?vu:!1,uh=ch?Symbol.for("react.forward_ref"):typeof p.forwardRef=="function"&&p.forwardRef(function(e){return null}).$$typeof,dh=ch?Symbol.for("react.memo"):typeof p.memo=="function"&&p.memo(function(e){return null}).$$typeof;function oe(e,t){var n;if(dh&&e.$$typeof===dh)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,o=e,s=e.displayName||e.name;if(uh&&e.$$typeof===uh&&(r=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(l,c){return O2(function(){return o(l,c)},s)};return a.displayName=e.displayName,T2&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=p.forwardRef(a)),a=p.memo(a),A2(e,a),a}var _2={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function A2(e,t){Object.keys(e).forEach(function(n){_2[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var yu;v2(on.unstable_batchedUpdates),yu=gu.finalizeAllImmediately;const G=H;function H(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).flatMap(o=>typeof o=="string"?o.split(" ").map(s=>{if(s=s.replace(/gjs-/g,"gs-utl-"),!s.includes("gs-utl-")&&!s.startsWith("gs-")){const a=s.split(":"),l=a.pop(),c=a.join(":"),u=l==null?void 0:l.startsWith("!"),f=`gs-utl-${u?l==null?void 0:l.slice(1):l}`,g=u?`!${f}`:f;return c?`${c}:${g}`:g}return s}):o).join(" ")}var M2="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z",k2="M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z",L2="M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z",$2="M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z",N2="M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z",D2="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",j2="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",I2="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z",V2="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z",H2="M3,21V3H21V21H3M5,5V19H19V5H5Z",F2="M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z",B2="M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19",z2="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z",U2="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",W2="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z",G2="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",K2="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",q2="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",Y2="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Z2="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",X2="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",J2="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",Q2="M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z",R2="M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M12.5,11H11.5A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 11.5,8H12.5A1.5,1.5 0 0,1 14,9.5H16A3.5,3.5 0 0,0 12.5,6H11.5A3.5,3.5 0 0,0 8,9.5A3.5,3.5 0 0,0 11.5,13H12.5A1.5,1.5 0 0,1 14,14.5A1.5,1.5 0 0,1 12.5,16H11.5A1.5,1.5 0 0,1 10,14.5H8A3.5,3.5 0 0,0 11.5,18H12.5A3.5,3.5 0 0,0 16,14.5A3.5,3.5 0 0,0 12.5,11Z",eC="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",tC="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",nC="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",rC="M23 19C22.9 19.2 22.8 19.4 22.7 19.5L18.3 15.1C20.5 15.6 22.2 17.1 23 19M12 5C15.9 5 18 6.5 18 7C18 7.5 15.9 8.9 12.2 9L14.1 10.9C15.6 10.7 17 10.3 18 9.7V12.5C17.7 12.7 17.4 12.9 17 13.1C18 13.1 19 13.3 20 13.7V7C20 4.8 16.4 3 12 3C10.1 3 8.4 3.3 7.1 3.9L8.7 5.5C9.5 5.2 10.7 5 12 5M22.1 21.5L20.8 22.8L20.2 22.2C19.2 22.7 18.1 23.1 17 23.1C14.3 23.1 11.9 21.4 11 19.1C11.6 17.7 12.6 16.6 13.9 15.9L12.4 14.4C11.7 14.8 11.1 15.4 10.5 16C8.8 15.9 7.2 15.5 5.9 14.8V17C5.9 17.3 7 18.2 8.9 18.6L8.8 19L9.1 19.7C9.3 20.1 9.4 20.4 9.6 20.8C6.4 20.3 4 18.8 4 17V7C4 6.7 4.1 6.4 4.2 6.1L1.1 3L2.4 1.7L22.1 21.5M12.1 14L8.7 10.6C7.6 10.4 6.7 10 5.9 9.6V12.4C7.2 13.4 9.5 13.9 11.9 13.9C12 14 12.1 14 12.1 14M18.8 20.7L17.7 19.6C17.6 19.9 17.3 20 17 20C16.4 20 16 19.6 16 19C16 18.7 16.1 18.4 16.4 18.2L15.3 17.1C14.8 17.6 14.5 18.2 14.5 18.9C14.5 20.3 15.6 21.4 17 21.4C17.7 21.5 18.4 21.2 18.8 20.7Z",oC="M9.1 19.7L8.8 19L9 18.6C7.1 18.1 6 17.3 6 17V14.8C7.3 15.4 8.8 15.8 10.6 16C11.3 15.2 12.2 14.5 13.1 14H12C9.6 14 7.3 13.4 6 12.5V9.6C7.5 10.4 9.6 11 12 11S16.5 10.5 18 9.6V12.4C17.7 12.6 17.4 12.8 17 13C18 13 19 13.2 20 13.6V7C20 4.8 16.4 3 12 3S4 4.8 4 7V17C4 18.8 6.4 20.3 9.7 20.8C9.5 20.5 9.3 20.1 9.1 19.7M12 5C15.9 5 18 6.5 18 7S15.9 9 12 9 6 7.5 6 7 8.1 5 12 5M17 18C17.6 18 18 18.4 18 19S17.6 20 17 20 16 19.6 16 19 16.4 18 17 18M17 15C14.3 15 11.9 16.7 11 19C11.9 21.3 14.3 23 17 23S22.1 21.3 23 19C22.1 16.7 19.7 15 17 15M17 21.5C15.6 21.5 14.5 20.4 14.5 19S15.6 16.5 17 16.5 19.5 17.6 19.5 19 18.4 21.5 17 21.5Z",sC="M12 3C7.58 3 4 4.79 4 7V17C4 19.21 7.59 21 12 21S20 19.21 20 17V7C20 4.79 16.42 3 12 3M18 17C18 17.5 15.87 19 12 19S6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16S16.39 15.55 18 14.77V17M18 12.45C16.7 13.4 14.42 14 12 14C9.58 14 7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11C14.39 11 16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5C15.87 5 18 6.5 18 7S15.87 9 12 9Z",aC="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",iC="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",lC="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",cC="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",uC="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",dC="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",pC="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z",fC="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z",gC="M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z",hC="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",mC="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",bC="M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z",vC="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",yC="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",wC="M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z",SC="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",CC="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",xC="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",EC="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z",PC="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z",OC="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",TC="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",_C="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",AC="M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z",MC="M7,10L12,15L17,10H7Z",kC="M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z",LC="M12,2C13.85,2 15.55,2.78 16.9,4.1L18.6,1.93L20.18,3.16L18.2,5.68C19.33,7.41 20,9.6 20,12C20,17.5 16.42,22 12,22C10.15,22 8.45,21.22 7.1,19.9L5.4,22.07L3.82,20.84L5.8,18.32C4.67,16.59 4,14.4 4,12C4,6.5 7.58,2 12,2M12,4C8.69,4 6,7.58 6,12C6,13.73 6.41,15.33 7.11,16.64L15.67,5.67C14.66,4.62 13.38,4 12,4M12,20C15.31,20 18,16.42 18,12C18,10.27 17.59,8.67 16.89,7.36L8.33,18.33C9.34,19.38 10.62,20 12,20Z",$C="M4,17V9H2V7H6V17H4M22,15C22,16.11 21.1,17 20,17H16V15H20V13H18V11H20V9H16V7H20A2,2 0 0,1 22,9V10.5A1.5,1.5 0 0,1 20.5,12A1.5,1.5 0 0,1 22,13.5V15M14,15V17H8V13C8,11.89 8.9,11 10,11H12V9H8V7H12A2,2 0 0,1 14,9V11C14,12.11 13.1,13 12,13H10V15H14Z",NC="M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z",DC="M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z",jC="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z",IC="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",VC="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",HC="M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z",FC="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",BC="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z",zC="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",UC="M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",WC="M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z",GC="M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z",KC="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",qC="M17 6H7C3.69 6 1 8.69 1 12S3.69 18 7 18H17C20.31 18 23 15.31 23 12S20.31 6 17 6M17 16H7C4.79 16 3 14.21 3 12S4.79 8 7 8H17C19.21 8 21 9.79 21 12S19.21 16 17 16M17 9C15.34 9 14 10.34 14 12S15.34 15 17 15 20 13.66 20 12 18.66 9 17 9Z",YC="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z",ZC="M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z",XC="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",JC="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z",QC="M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z",RC="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",ex="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";const N=p.forwardRef(function({as:t,children:n,className:r,col:o,revert:s,full:a,nowrap:l,space:c,gap:u,justify:d,items:f,...g},h){const m=t||"div";return i.jsx(m,{ref:h,className:H([r,"gs-utl-flex",o&&!s&&"gs-utl-flex-col",o&&s&&"gs-utl-flex-col-reverse",!o&&s&&"gs-utl-flex-row-reverse",a&&!o&&"gs-utl-w-full",a&&o&&"gs-utl-h-full",l?"gs-utl-flex-nowrap":"gs-utl-flex-wrap",c==="x2s"&&(o?"gs-utl-space-y-0.5":"gs-utl-space-x-0.5"),c==="xs"&&(o?"gs-utl-space-y-1":"gs-utl-space-x-1"),c==="s"&&(o?"gs-utl-space-y-2":"gs-utl-space-x-2"),c==="m"&&(o?"gs-utl-space-y-4":"gs-utl-space-x-4"),c==="l"&&(o?"gs-utl-space-y-6":"gs-utl-space-x-6"),c==="xl"&&(o?"gs-utl-space-y-8":"gs-utl-space-x-8"),u==="x2s"&&"gs-utl-gap-0.5",u==="xs"&&"gs-utl-gap-1",u==="s"&&"gs-utl-gap-2",u==="m"&&"gs-utl-gap-4",u==="l"&&"gs-utl-gap-6",u==="xl"&&"gs-utl-gap-8",f==="start"&&"gs-utl-items-start",f==="end"&&"gs-utl-items-end",f==="center"&&"gs-utl-items-center",d==="start"&&"gs-utl-justify-start",d==="end"&&"gs-utl-justify-end",d==="center"&&"gs-utl-justify-center",d==="between"&&"gs-utl-justify-between"]),...g,children:n})}),D=p.forwardRef(function({children:t,className:n,grow:r,...o},s){return i.jsx("div",{ref:s,className:H([n,r&&"flex-1"]),...o,children:t})});var wu={exports:{}},Su,ph;function tx(){if(ph)return Su;ph=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Su=e,Su}var Cu,fh;function nx(){if(fh)return Cu;fh=1;var e=tx();function t(){}function n(){}return n.resetWarningCache=t,Cu=function(){function r(a,l,c,u,d,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function o(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Cu}var gh;function rx(){return gh||(gh=1,wu.exports=nx()()),wu.exports}var ox=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(r,o,s){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(1&o&&(r=n(r)),8&o||4&o&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&o&&typeof r!="string")for(var a in r)n.d(s,a,(function(l){return r[l]}).bind(null,a));return s},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=2)}([function(e,t){e.exports=rx()},function(e,t){e.exports=p},function(e,t,n){n.r(t);var r=n(1),o=n(0),s=function(){return(s=Object.assign||function(m){for(var b,y=1,v=arguments.length;y<v;y++)for(var S in b=arguments[y])Object.prototype.hasOwnProperty.call(b,S)&&(m[S]=b[S]);return m}).apply(this,arguments)},a=function(m,b){var y={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&b.indexOf(v)<0&&(y[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(v=Object.getOwnPropertySymbols(m);S<v.length;S++)b.indexOf(v[S])<0&&Object.prototype.propertyIsEnumerable.call(m,v[S])&&(y[v[S]]=m[v[S]])}return y},l=0,c=r.forwardRef(function(m,b){var y=m.title,v=y===void 0?null:y,S=m.description,w=S===void 0?null:S,C=m.size,E=C===void 0?null:C,x=m.color,P=x===void 0?"currentColor":x,T=m.horizontal,_=T===void 0?null:T,O=m.vertical,k=O===void 0?null:O,M=m.rotate,F=M===void 0?null:M,U=m.spin,A=U===void 0?null:U,L=m.style,W=L===void 0?{}:L,K=m.children,$=a(m,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);l++;var V,I=A!==null&&A,B=r.Children.map(K,function(ie){var q=ie;I!==!0&&(I=(A===null?q.props.spin:A)===!0);var Y=q.props.size;typeof E=="number"&&typeof q.props.size=="number"&&(Y=q.props.size/E);var R={size:Y,color:P===null?q.props.color:P,horizontal:_===null?q.props.horizontal:_,vertical:k===null?q.props.vertical:k,rotate:F===null?q.props.rotate:F,spin:A===null?q.props.spin:A,inStack:!0};return r.cloneElement(q,R)});E!==null&&(W.width=typeof E=="string"?E:1.5*E+"rem");var te,X="stack_labelledby_"+l,J="stack_describedby_"+l;if(v)V=w?X+" "+J:X;else if(te="presentation",w)throw new Error("title attribute required when description is set");return r.createElement("svg",s({ref:b,viewBox:"0 0 24 24",style:W,role:te,"aria-labelledby":V},$),v&&r.createElement("title",{id:X},v),w&&r.createElement("desc",{id:J},w),I&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),B)});c.displayName="Stack",c.propTypes={size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),children:o.oneOfType([o.arrayOf(o.node),o.node]).isRequired,className:o.string,style:o.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return h}),n.d(t,"Stack",function(){return u});var d=function(){return(d=Object.assign||function(m){for(var b,y=1,v=arguments.length;y<v;y++)for(var S in b=arguments[y])Object.prototype.hasOwnProperty.call(b,S)&&(m[S]=b[S]);return m}).apply(this,arguments)},f=function(m,b){var y={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&b.indexOf(v)<0&&(y[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(v=Object.getOwnPropertySymbols(m);S<v.length;S++)b.indexOf(v[S])<0&&Object.prototype.propertyIsEnumerable.call(m,v[S])&&(y[v[S]]=m[v[S]])}return y},g=0,h=r.forwardRef(function(m,b){var y=m.path,v=m.id,S=v===void 0?++g:v,w=m.title,C=w===void 0?null:w,E=m.description,x=E===void 0?null:E,P=m.size,T=P===void 0?null:P,_=m.color,O=_===void 0?"currentColor":_,k=m.horizontal,M=k!==void 0&&k,F=m.vertical,U=F!==void 0&&F,A=m.rotate,L=A===void 0?0:A,W=m.spin,K=W!==void 0&&W,$=m.style,V=$===void 0?{}:$,I=m.inStack,B=I!==void 0&&I,te=f(m,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),X={},J=[];T!==null&&(B?J.push("scale("+T+")"):(V.width=typeof T=="string"?T:1.5*T+"rem",V.height=V.width)),M&&J.push("scaleX(-1)"),U&&J.push("scaleY(-1)"),L!==0&&J.push("rotate("+L+"deg)"),O!==null&&(X.fill=O);var ie=r.createElement("path",d({d:y,style:X},B?te:{})),q=ie;J.length>0&&(V.transform=J.join(" "),V.transformOrigin="center",B&&(q=r.createElement("g",{style:V},ie,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Y,R=q,le=K===!0||typeof K!="number"?2:K,ae=!B&&(M||U);if(le<0&&(ae=!ae),K&&(R=r.createElement("g",{style:{animation:"spin"+(ae?"-inverse":"")+" linear "+Math.abs(le)+"s infinite",transformOrigin:"center"}},q,!(M||U||L!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),B)return R;var ye,we="icon_labelledby_"+S,Xe="icon_describedby_"+S;if(C)Y=x?we+" "+Xe:we;else if(ye="presentation",x)throw new Error("title attribute required when description is set");return r.createElement("svg",d({ref:b,viewBox:"0 0 24 24",style:V,role:ye,"aria-labelledby":Y},te),C&&r.createElement("title",{id:we},C),x&&r.createElement("desc",{id:Xe},x),!B&&K&&(ae?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),R)});h.displayName="Icon",h.propTypes={path:o.string.isRequired,size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),style:o.object,inStack:o.bool,className:o.string},h.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=h}]);const sx=hu(ox);var hh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=o(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)t.call(s,l)&&s[l]&&(a=o(a,l));return a}function o(s,a){return a?s?s+" "+a:s+a:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hh);var ax=hh.exports;const j=hu(ax),mh=new Map,xu=p.forwardRef(function({svg:t,iconSize:n,...r},o){let s=mh.get(t);return s||(s=BS(t,n),mh.set(t,s)),i.jsx("div",{...r,ref:o,dangerouslySetInnerHTML:{__html:s}})});var Z=(e=>(e.alertRhombus="alertRhombus",e.alignHorizontalCenter="alignHorizontalCenter",e.alignHorizontalLeft="alignHorizontalLeft",e.alignHorizontalRight="alignHorizontalRight",e.applicationBracketsOutline="applicationBracketsOutline",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowULeftTop="arrowULeftTop",e.arrowURightTop="arrowURightTop",e.borderAllVariant="borderAllVariant",e.borderRadius="borderRadius",e.borderStyle="borderStyle",e.cellphoneLink="cellphoneLink",e.check="check",e.checkBold="checkBold",e.checkboxBlank="checkboxBlank",e.chevronUp="chevronUp",e.chevronDown="chevronDown",e.chevronLeft="chevronLeft",e.chevronRight="chevronRight",e.close="close",e.codeBraces="codeBraces",e.cog="cog",e.contentCopy="contentCopy",e.contentSave="contentSave",e.delete="delete",e.dotsVertical="dotsVertical",e.email="email",e.emailOutline="emailOutline",e.eye="eye",e.eyedropperVariant="eyedropperVariant",e.eyeOff="eyeOff",e.eyeOffOutline="eyeOffOutline",e.eyeOutline="eyeOutline",e.fire="fire",e.flare="flare",e.floppy="floppy",e.folder="folder",e.fullscreen="fullscreen",e.gradientVertical="gradientVertical",e.helpCircle="helpCircle",e.image="image",e.information="information",e.informationVariant="informationVariant",e.layers="layers",e.link="link",e.lock="lock",e.lockOpenVariant="lockOpenVariant",e.menuDown="menuDown",e.newspaperVariantOutline="newspaperVariantOutline",e.paletteSwatch="paletteSwatch",e.panVertical="panVertical",e.phone="phone",e.plus="plus",e.plusBox="plusBox",e.powerPlug="powerPlug",e.refresh="refresh",e.rhombusOutline="rhombusOutline",e.tag="tag",e.target="target",e.targetVariant="targetVariant",e.textBoxMultiple="textBoxMultiple",e.trayArrowDown="trayArrowDown",e.unfoldLessHorizontal="unfoldLessHorizontal",e.unfoldMoreHorizontal="unfoldMoreHorizontal",e.viewDayOutline="viewDayOutline",e.viewGridPlus="viewGridPlus",e.web="web",e.xml="xml",e.databaseOutline="databaseOutline",e.databaseOutlineOn="databaseOutlineOn",e.databaseOutlineOff="databaseOutlineOff",e.toggleSwitchOutline="toggleSwitchOutline",e.toggleSwitchOffOutline="toggleSwitchOffOutline",e.codeBrackets="codeBrackets",e.null="null",e.codeString="string",e.number="number",e))(Z||{});const Gi={alertRhombus:M2,alignHorizontalCenter:k2,alignHorizontalLeft:L2,alignHorizontalRight:$2,applicationBracketsOutline:N2,arrowDown:D2,arrowRight:j2,arrowULeftTop:I2,arrowURightTop:V2,borderAllVariant:H2,borderRadius:F2,borderStyle:B2,cellphoneLink:z2,check:U2,checkBold:W2,checkboxBlank:G2,chevronUp:Z2,chevronDown:K2,chevronLeft:q2,chevronRight:Y2,close:X2,codeBraces:J2,cog:eC,contentCopy:tC,contentSave:nC,delete:aC,dotsVertical:iC,email:lC,emailOutline:cC,eye:uC,eyedropperVariant:gC,eyeOff:dC,eyeOffOutline:pC,eyeOutline:fC,fire:hC,flare:mC,floppy:bC,folder:vC,fullscreen:yC,gradientVertical:wC,helpCircle:SC,image:CC,information:xC,informationVariant:EC,layers:PC,link:OC,lock:_C,lockOpenVariant:AC,menuDown:MC,newspaperVariantOutline:kC,paletteSwatch:NC,panVertical:DC,phone:jC,plus:IC,plusBox:VC,powerPlug:HC,refresh:FC,rhombusOutline:BC,tag:zC,target:UC,targetVariant:WC,textBoxMultiple:GC,trayArrowDown:YC,unfoldLessHorizontal:ZC,unfoldMoreHorizontal:XC,viewDayOutline:JC,viewGridPlus:QC,web:RC,xml:ex,databaseOutline:sC,databaseOutlineOn:oC,databaseOutlineOff:rC,codeBrackets:Q2,toggleSwitchOutline:qC,toggleSwitchOffOutline:KC,null:LC,string:R2,number:$C},ix="gs-cmp-icon",ne=oe(function({className:t,icon:n,size:r,rotate:o,horizontal:s,vertical:a}){var f;const l=(f=gL())==null?void 0:f.sdkCustomIcons,c=(l==null?void 0:l[n])||(Gi==null?void 0:Gi[n])||n,u=[s&&"scaleX(-1)",a&&"scaleY(-1)",o&&`rotate(${o}deg)`].filter(g=>!!g).join(" ");if(!c)return null;const d=j(ix,t);return c.startsWith("<svg")||c.startsWith("<?xml")?i.jsx(xu,{className:d,style:{transform:u||void 0},svg:c,iconSize:r}):i.jsx(sx,{className:d,path:c,size:r,rotate:o,horizontal:s,vertical:a})}),bh=150;var je=(e=>(e.txt="gs-theme-cl-txt",e.bg="gs-theme-cl-bg",e.br="gs-theme-cl-br",e.bgA="gs-theme-cl-bgA",e.bgA2="gs-theme-cl-bgA2",e.hBgAct="gs-theme-cl-hBgAct",e.hBgA2="gs-theme-cl-hBgA2",e.tA="gs-theme-cl-tA",e.tAo="gs-theme-cl-tAo",e.hTAo="gs-theme-cl-hTAo",e.grouphTAo="gs-theme-cl-grouphTAo",e.bA="gs-theme-cl-bA",e.bg0="gs-theme-cl-bg0",e.bgH="gs-theme-cl-bgH",e.hBgH="gs-theme-cl-hBgH",e.bgH2="gs-theme-cl-bgH2",e.hBgH2="gs-theme-cl-hBgH2",e.sel="gs-theme-cl-sel",e.selBr="gs-theme-cl-selBr",e.cmp="gs-theme-cl-cmp",e.cmpBgSoft="gs-theme-cl-cmpBgSoft",e.cmpBgSoftX="gs-theme-cl-cmpBgSoftX",e.cmpBr="gs-theme-cl-cmpBr",e.cmpSymbol="gs-theme-cl-cmpSymbol",e.cmpBgSymbolSoft="gs-theme-cl-cmpBgSymbolSoft",e.cmpBgSymbolSoftX="gs-theme-cl-cmpBgSymbolSoftX",e.cmpSymbolBr="gs-theme-cl-cmpSymbolBr",e.cmpTxtActive="gs-theme-cl-cmpTxtActive",e.focus="gs-theme-ring-focus",e.inputText="gs-theme-elStyles-inputText",e))(je||{});const z={bgTr:"gs-utl-bg-transparent",txt:"gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",txtLowEmphasis:"gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",txtHighEmphasis:"gs-utl-text-black dark:gs-utl-text-gray-200",txtHighEmphasisH:"hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",tA:"gs-theme-cl-tA gs-utl-text-violet-400",tAo:"gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",hTAo:"gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",grouphTAo:"gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",bA:"gs-theme-cl-bA gs-utl-border-violet-400",bgA:"gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",bgA2:"gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",bgO:"gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",bg:"gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",bgBlur:"gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",bgH:"gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",bgH75:"gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",hBgH:"gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",bgH2:"gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",hBgH2:"gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",hBgAct:"gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",hBgA2:"gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",hBgDark:"hover:gs-utl-bg-black/10",sel:"gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",selBr:"gs-theme-cl-selBr gs-utl-border-pink-900",cmp:"gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",cmpSymbol:"gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",cmpBgSoft:"gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",cmpBgSymbolSoft:"gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",cmpBgSoftX:"gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",cmpBgSymbolSoftX:"gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",cmpTxtActive:"gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",cmpBr:"gs-theme-cl-cmpBr gs-utl-border-blue-450",cmpSymbolBr:"gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",cmpTargetBg:"gs-utl-bg-amber-500 gs-utl-text-white",cmpTargetBgOpac:"gs-utl-bg-amber-500/5",cmpTargetBr:"gs-utl-border-amber-500",tW:"gs-utl-text-amber-500",bgW:"gs-utl-bg-amber-500",bgRed:"gs-utl-bg-red-500",hBgRed:"hover:gs-utl-bg-red-600",hBgW:"hover:gs-utl-bg-amber-600",br:"gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",brRed:"gs-utl-border-red-500",brLight:"gs-utl-border-white/25"},Eu={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-scale-95 gs-utl-opacity-0",enterTo:"gs-utl-opacity-100",leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-scale-100 gs-utl-opacity-100",leaveTo:"gs-utl-scale-95 gs-utl-opacity-0"},vh={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-opacity-0",enterTo:"gs-utl-opacity-100"},ca={...vh,...{leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-opacity-100",leaveTo:"gs-utl-opacity-0"}},Le={xy:"gs-utl-px-4 gs-utl-py-2",xyS:"gs-utl-px-2 gs-utl-py-1",xyS2:"gs-utl-px-2 gs-utl-py-0.5",x:"gs-utl-px-4",xS:"gs-utl-px-2",y:"gs-utl-py-2",s:"gs-utl-p-2"},Pu={bg:z.bg,bgH:z.bgH},yh={bg:"gs-utl-bg-zinc-700",txt:"gs-utl-text-white",block:"gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"},re={rnd:"gs-utl-rounded",pill:"gs-utl-rounded-full",b:"gs-utl-border",bT:"gs-utl-border-transparent",bS:"gs-utl-border-2",bt:"gs-utl-border-t",bb:"gs-utl-border-b",br:"gs-utl-border-r",bl:"gs-utl-border-l",bA:"gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"},ua={focus:"gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",deepFocus:"focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"},se={s3x:"13px",s2x:"14px",sx:"16px",s:"18px",m:"20px",l:"22px"},$e={click:"gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",hover:"gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",hoverGroup:"group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",dot:"gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",scrollX:"gs-utl-overflow-x-auto gs-utl-overflow-y-hidden",scrollY:"gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",txtEllips:"gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",coverAbs:"gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",hiddenVisually:"gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001]",disabled:"gs-utl-opacity-50 gs-utl-pointer-events-none",disabledM:"gs-utl-opacity-50 gs-utl-cursor-not-allowed",noFocusOut:"focus:gs-utl-outline-none",spin:"gs-utl-animate-spin-fast"},ds={link:H(z.tAo),inputText:"gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"},Ou={itemList:({index:e=0,open:t=!1,length:n=0}={})=>H(z.bgH2,Le.xyS,z.br,e&&re.bt,(t||e===n-1)&&re.bb)},wh=e=>({bg:e?"#18181b":"#f9f9f9",text:e?"#9ca3af":"#111827",link:e?"#a78bfa":"#5b21b6"}),da=e=>{let t={isSymbol:!1,bg:z.cmp,bgSoft:`${z.cmpBgSoft} ${z.cmpTxtActive}`,bgSoftX:z.cmpBgSoftX,border:z.cmpBr,txt:""};if(!(e!=null&&e.em))return t;const{isSymbol:n}=e.em.Components.getSymbolInfo(e);return n&&(t={isSymbol:n,bg:z.cmpSymbol,bgSoft:`${z.cmpBgSymbolSoft} ${z.cmpTxtActive}`,bgSoftX:z.cmpBgSymbolSoftX,border:z.cmpSymbolBr,txt:""}),t},Sh=({variant:e,size:t="m",className:n,active:r,border:o=!0,rounded:s=!0,disabled:a=!1,withBg:l,block:c,full:u})=>{const d=e==="pr",f=e==="out",g=e==="out-clear",h=e==="warn",m=e==="danger",b=o&&(f||g||!e);return["gs-utl-transition-colors gs-utl-cursor-pointer",c&&"gs-utl-block",t==="s"&&"gs-utl-p-1 gs-utl-text-sm",t==="m"&&"gs-utl-p-1 gs-utl-px-2",t==="m2"&&"gs-utl-p-1 gs-utl-px-3",t==="lg"&&"gs-utl-p-2 gs-utl-px-4 gs-utl-text-lg",n,s&&re.rnd,b&&`${re.b} ${z.br}`,l&&z.bg,b&&H(re.b,f&&z.bA,f&&z.tAo,!a&&z.hBgH),h&&H(z.bgW,z.hBgW,!a&&z.hBgW,"gs-utl-text-white"),m&&H(z.bgRed,!a&&z.hBgRed,"gs-utl-text-white"),d&&H(z.bgA2,!a&&z.hBgAct),r&&z.bgA,a&&"disabled:gs-utl-opacity-80 gs-utl-cursor-not-allowed",u&&"gs-utl-w-full",ua.focus]};function Ie({children:e,...t}){const{variant:n,size:r,active:o,border:s,rounded:a,block:l,full:c,className:u,icon:d,loading:f,withBg:g,type:h="button",...m}=t,b=f?{icon:TC,size:"18px",className:H("animate-spin-fast")}:ft(d)?{icon:d,size:"18px"}:d;return i.jsx("button",{className:H(Sh(t)),disabled:t.disabled,type:h,...m,children:b?i.jsxs(N,{className:H("gap-2"),items:"center",justify:"center",nowrap:!0,children:[i.jsx(D,{children:i.jsx(ne,{...b})}),e&&i.jsx(D,{children:e})]}):e})}function ps(e,t,n){let r=n.initialDeps??[],o;return()=>{var s,a,l,c;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((h,m)=>r[m]!==h)))return o;r=d;let g;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(g=Date.now()),o=t(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const h=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-g)*100)/100,b=m/16,y=(v,S)=>{for(v=String(v);v.length<S;)v=" "+v;return v};console.info(`%c⏱ ${y(m,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,o),o}}function Tu(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const lx=(e,t)=>Math.abs(e-t)<1,cx=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},ux=e=>e,dx=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},px=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=a=>{const{width:l,height:c}=a;t({width:Math.round(l),height:Math.round(c)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const l=a[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},Ch={passive:!0},fx=typeof window>"u"?!0:"onscrollend"in window,gx=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const s=fx?()=>{}:cx(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),a=u=>()=>{const{horizontal:d,isRtl:f}=e.options;o=d?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),t(o,u)},l=a(!0),c=a(!1);return c(),n.addEventListener("scroll",l,Ch),n.addEventListener("scrollend",c,Ch),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",c)}},hx=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},mx=(e,{adjustments:t=0,behavior:n},r)=>{var o,s;const a=e+t;(s=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||s.call(o,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class bx{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var s;return(s=r())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:o=>{var s;return(s=r())==null?void 0:s.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ux,rangeExtractor:dx,onChange:()=>{},measureElement:hx,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=ps(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,s=new Map;for(let a=r-1;a>=0;a--){const l=n[a];if(o.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&o.set(l.lane,!0),o.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,l)=>a.end===l.end?a.index-l.index:a.end-l.end)[0]:void 0},this.getMeasurementOptions=ps(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=ps(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:a},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const f=s(d),g=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=g?g.end+this.options.gap:r+o,m=l.get(f),b=typeof m=="number"?m:this.options.estimateSize(d),y=h+b,v=g?g.lane:d%this.options.lanes;u[d]={index:d,start:h,size:b,end:y,key:f,lane:v}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ps(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,o)=>this.range=n.length>0&&r>0?vx({measurements:n,outerSize:r,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ps(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,o,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:o,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),s=this.measurementsCache[o];if(!s)return;const a=s.key,l=this.elementsCache.get(a);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const s=this.itemSizeCache.get(o.key)??o.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,a,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=ps(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let s=0,a=n.length;s<a;s++){const l=n[s],c=r[l];o.push(c)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Tu(r[xh(0,r.length-1,o=>Tu(r[o]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(n<=s?r="start":n>=s+o?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-o:r==="center"&&(n=n-o/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-o;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(o.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(o.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const l=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[a,l]=s;this._scrollToOffset(a,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=Tu(this.getOffsetForIndex(n,l));lx(u,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:o})}else this.scrollToIndex(n,{align:l,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;return r.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const xh=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,s=n(o);if(s<r)e=o+1;else if(s>r)t=o-1;else return o}return e>0?e-1:0};function vx({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=xh(0,r,l=>e[l].start,n);let a=s;for(;a<r&&e[a].end<n+t;)a++;return{startIndex:s,endIndex:a}}const yx=typeof document<"u"?Be.useLayoutEffect:Be.useEffect;function wx(e){const t=Be.useReducer(()=>({}),{})[1],n={...e,onChange:(o,s)=>{var a;s?on.flushSync(t):t(),(a=e.onChange)==null||a.call(e,o,s)}},[r]=Be.useState(()=>new bx(n));return r.setOptions(n),Be.useEffect(()=>r._didMount(),[]),yx(()=>r._willUpdate()),r}function Sx(e){return wx({observeElementRect:px,observeElementOffset:gx,scrollToFn:mx,...e})}var Cx=Object.defineProperty,xx=(e,t,n)=>t in e?Cx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_u=(e,t,n)=>(xx(e,typeof t!="symbol"?t+"":t,n),n);let Ex=class{constructor(){_u(this,"current",this.detect()),_u(this,"handoffState","pending"),_u(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ar=new Ex,Ne=(e,t)=>{Ar.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function St(e){let t=p.useRef(e);return Ne(()=>{t.current=e},[e]),t}function pa(e,t){let[n,r]=p.useState(e),o=St(e);return Ne(()=>r(o.current),[o,r,...t]),n}let Q=function(e){let t=St(e);return p.useCallback((...n)=>t.current(...n),[t])};function Ki(e,t,n){let[r,o]=p.useState(n),s=e!==void 0,a=p.useRef(s),l=p.useRef(!1),c=p.useRef(!1);return s&&!a.current&&!l.current?(l.current=!0,a.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&a.current&&!c.current&&(c.current=!0,a.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,Q(u=>(s||o(u),t==null?void 0:t(u)))]}function fa(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Tn(){let e=[],t={addEventListener(n,r,o,s){return n.addEventListener(r,o,s),t.add(()=>n.removeEventListener(r,o,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return fa(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Tn();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function _n(){let[e]=p.useState(Tn);return p.useEffect(()=>()=>e.dispose(),[e]),e}function Px(){let e=typeof document>"u";return"useSyncExternalStore"in Be?(t=>t.useSyncExternalStore)(Be)(()=>()=>{},()=>!1,()=>!e):!1}function fs(){let e=Px(),[t,n]=Be.useState(Ar.isHandoffComplete);return t&&Ar.isHandoffComplete===!1&&n(!1),Be.useEffect(()=>{t!==!0&&n(!0)},[t]),Be.useEffect(()=>Ar.handoff(),[]),e?!1:t}var Eh;let qe=(Eh=p.useId)!=null?Eh:function(){let e=fs(),[t,n]=p.useState(e?()=>Ar.nextId():null);return Ne(()=>{t===null&&n(Ar.nextId())},[t]),t!=null?""+t:void 0};function Se(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Se),r}function eo(e){return Ar.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Au=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ye=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Ye||{}),Gn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Gn||{}),Ox=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ox||{});function qi(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Au)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Yi=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Yi||{});function Mu(e,t=0){var n;return e===((n=eo(e))==null?void 0:n.body)?!1:Se(t,{0(){return e.matches(Au)},1(){let r=e;for(;r!==null;){if(r.matches(Au))return!0;r=r.parentElement}return!1}})}var Tx=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Tx||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Lo(e){e==null||e.focus({preventScroll:!0})}let _x=["textarea","input"].join(",");function Ax(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,_x))!=null?n:!1}function Mr(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),s=t(r);if(o===null||s===null)return 0;let a=o.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ct(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Mr(e):e:qi(e);o.length>0&&a.length>1&&(a=a.filter(h=>!o.includes(h))),r=r??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=a.length,g;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(t&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}g=a[h],g==null||g.focus(u),d+=l}while(g!==s.activeElement);return t&6&&Ax(g)&&g.select(),2}function Ph(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Mx(){return/Android/gi.test(window.navigator.userAgent)}function Oh(){return Ph()||Mx()}function Zi(e,t,n){let r=St(t);p.useEffect(()=>{function o(s){r.current(s)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function Th(e,t,n){let r=St(t);p.useEffect(()=>{function o(s){r.current(s)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function Xi(e,t,n=!0){let r=p.useRef(!1);p.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(a,l){if(!r.current||a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||a.composed&&a.composedPath().includes(f))return}return!Mu(c,Yi.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}let s=p.useRef(null);Zi("pointerdown",a=>{var l,c;r.current&&(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Zi("mousedown",a=>{var l,c;r.current&&(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Zi("click",a=>{Oh()||s.current&&(o(a,()=>s.current),s.current=null)},!0),Zi("touchend",a=>o(a,()=>a.target instanceof HTMLElement?a.target:null),!0),Th("blur",a=>o(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function kr(...e){return p.useMemo(()=>eo(...e),[...e])}function _h(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function gs(e,t){let[n,r]=p.useState(()=>_h(e));return Ne(()=>{r(_h(e))},[e.type,e.as]),Ne(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let Ah=Symbol();function ku(e,t=!0){return Object.assign(e,{[Ah]:t})}function Ae(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=Q(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Ah]))?void 0:n}function Mh(e){return[e.screenX,e.screenY]}function kh(){let e=p.useRef([-1,-1]);return{wasMoved(t){let n=Mh(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Mh(t)}}}function Lh({container:e,accept:t,walk:n,enabled:r=!0}){let o=p.useRef(t),s=p.useRef(n);p.useEffect(()=>{o.current=t,s.current=n},[t,n]),Ne(()=>{if(!e||!r)return;let a=eo(e);if(!a)return;let l=o.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,r,o,s])}function ga(e,t){let n=p.useRef([]),r=Q(e);p.useEffect(()=>{let o=[...n.current];for(let[s,a]of t.entries())if(n.current[s]!==a){let l=r(t,o);return n.current=t,l}},[r,...t])}function Ji(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var jt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(jt||{}),to=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(to||{});function Oe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:s=!0,name:a,mergeRefs:l}){l=l??kx;let c=$h(t,e);if(s)return Qi(c,n,r,a,l);let u=o??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Qi(f,n,r,a,l)}if(u&1){let{unmount:d=!0,...f}=c;return Se(d?0:1,{0(){return null},1(){return Qi({...f,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return Qi(c,n,r,a,l)}function Qi(e,t={},n,r,o){let{as:s=n,children:a,refName:l="ref",...c}=$u(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let g=!1,h=[];for(let[m,b]of Object.entries(t))typeof b=="boolean"&&(g=!0),b===!0&&h.push(m);g&&(f["data-headlessui-state"]=h.join(" "))}if(s===p.Fragment&&Object.keys(hs(c)).length>0){if(!p.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let g=d.props,h=typeof(g==null?void 0:g.className)=="function"?(...b)=>Ji(g==null?void 0:g.className(...b),c.className):Ji(g==null?void 0:g.className,c.className),m=h?{className:h}:{};return p.cloneElement(d,Object.assign({},$h(d.props,hs($u(c,["ref"]))),f,u,{ref:o(d.ref,u.ref)},m))}return p.createElement(s,Object.assign({},$u(c,["ref"]),s!==p.Fragment&&u,s!==p.Fragment&&f),d)}function Lu(){let e=p.useRef([]),t=p.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function kx(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function $h(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...s){let a=n[r];for(let l of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...s)}}});return t}function Te(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function hs(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function $u(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Lx="div";var dn=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(dn||{});function $x(e,t){var n;let{features:r=1,...o}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Oe({ourProps:s,theirProps:o,slot:{},defaultTag:Lx,name:"Hidden"})}let pn=Te($x),Nu=p.createContext(null);Nu.displayName="OpenClosedContext";var Ke=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ke||{});function no(){return p.useContext(Nu)}function ha({value:e,children:t}){return p.createElement(Nu.Provider,{value:e},t)}function Nx(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ir=[];Nx(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&ir[0]!==t.target&&(ir.unshift(t.target),ir=ir.filter(n=>n!=null&&n.isConnected),ir.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Lr(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Dx(n)?!1:r}function Dx(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function jx(e){throw new Error("Unexpected object: "+e)}var Ge=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ge||{});function Du(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let s=0;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=o-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=o+1;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(t.resolveId(n[s],s,n)===e.id)return s;return r}case 5:return null;default:jx(e)}}function Ri(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))Dh(n,Nh(t,r),o);return n}function Nh(e,t){return e?e+"["+t+"]":t}function Dh(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())Dh(e,Nh(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Ri(n,t,e)}function jh(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}var ge=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ge||{}),Ix=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ix||{}),Vx=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Vx||{}),Hx=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Hx||{}),Fx=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(Fx||{});function ju(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((a,l)=>a.dataRef.current.order-l.dataRef.current.order):Mr(r,a=>a.dataRef.current.domRef.current),s=n?o.indexOf(n):null;return s===-1&&(s=null),{options:o,activeOptionIndex:s}}let Bx={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,r,o,s,a;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let d=t.focus===Ge.Specific?t.idx:Du(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var g,h;return(h=(g=e.activeOptionIndex)!=null?g:e.virtual.options.findIndex(m=>!e.virtual.disabled(m)))!=null?h:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===d&&e.activationTrigger===f?e:{...e,activeOptionIndex:d,activationTrigger:f}}let l=ju(e);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=t.focus===Ge.Specific?t.idx:Du(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(a=t.trigger)!=null?a:2;return e.activeOptionIndex===c&&e.activationTrigger===u?e:{...e,...l,activeOptionIndex:c,activationTrigger:u}},3:(e,t)=>{var n,r,o;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let s=t.payload,a=ju(e,c=>(c.push(s),c));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(s));let l={...e,...a,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=ju(e,o=>{let s=o.findIndex(a=>a.id===t.id);return s!==-1&&o.splice(s,1),o});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?r=o:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},Iu=p.createContext(null);Iu.displayName="ComboboxActionsContext";function ma(e){let t=p.useContext(Iu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ma),n}return t}let Ih=p.createContext(null);function zx(e){var t;let n=$o("VirtualProvider"),[r,o]=p.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[n.optionsRef.current]),s=Sx({scrollPaddingStart:r,scrollPaddingEnd:o,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[a,l]=p.useState(0);return Ne(()=>{l(c=>c+1)},[(t=n.virtual)==null?void 0:t.options]),p.createElement(Ih.Provider,{value:s},p.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.45"}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&s.scrollToIndex(n.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return p.createElement(p.Fragment,{key:c.key},p.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n.virtual.options[c.index],open:n.comboboxState===0}),{key:`${a}-${c.key}`,"data-index":c.index,"aria-setsize":n.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Vu=p.createContext(null);Vu.displayName="ComboboxDataContext";function $o(e){let t=p.useContext(Vu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$o),n}return t}function Ux(e,t){return Se(t.type,Bx,e,t)}let Wx=p.Fragment;function Gx(e,t){let{value:n,defaultValue:r,onChange:o,form:s,name:a,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:g=!1,virtual:h=null,...m}=e,b=!1,y=null,[v=f?[]:void 0,S]=Ki(n,o,r),[w,C]=p.useReducer(Ux,{dataRef:p.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),E=p.useRef(!1),x=p.useRef({static:!1,hold:!1}),P=p.useRef(null),T=p.useRef(null),_=p.useRef(null),O=p.useRef(null),k=Q(typeof l=="string"?(R,le)=>{let ae=l;return(R==null?void 0:R[ae])===(le==null?void 0:le[ae])}:l??((R,le)=>R===le)),M=Q(R=>w.options.findIndex(le=>k(le.dataRef.current.value,R))),F=p.useCallback(R=>Se(A.mode,{1:()=>v.some(le=>k(le,R)),0:()=>k(v,R)}),[v]),U=Q(R=>w.activeOptionIndex===M(R)),A=p.useMemo(()=>({...w,immediate:b,optionsPropsRef:x,labelRef:P,inputRef:T,buttonRef:_,optionsRef:O,value:v,defaultValue:r,disabled:c,mode:f?1:0,virtual:w.virtual,get activeOptionIndex(){if(E.current&&w.activeOptionIndex===null&&w.options.length>0){let R=w.options.findIndex(le=>!le.dataRef.current.disabled);if(R!==-1)return R}return w.activeOptionIndex},calculateIndex:M,compare:k,isSelected:F,isActive:U,nullable:d,__demoMode:u}),[v,r,c,f,d,u,w,y]);Ne(()=>{},[y,void 0]),Ne(()=>{w.dataRef.current=A},[A]),Xi([A.buttonRef,A.inputRef,A.optionsRef],()=>J.closeCombobox(),A.comboboxState===0);let L=p.useMemo(()=>{var R,le,ae;return{open:A.comboboxState===0,disabled:c,activeIndex:A.activeOptionIndex,activeOption:A.activeOptionIndex===null?null:A.virtual?A.virtual.options[(R=A.activeOptionIndex)!=null?R:0]:(ae=(le=A.options[A.activeOptionIndex])==null?void 0:le.dataRef.current.value)!=null?ae:null,value:v}},[A,c,v]),W=Q(()=>{if(A.activeOptionIndex!==null){if(A.virtual)te(A.virtual.options[A.activeOptionIndex]);else{let{dataRef:R}=A.options[A.activeOptionIndex];te(R.current.value)}J.goToOption(Ge.Specific,A.activeOptionIndex)}}),K=Q(()=>{C({type:0}),E.current=!0}),$=Q(()=>{C({type:1}),E.current=!1}),V=Q((R,le,ae)=>(E.current=!1,R===Ge.Specific?C({type:2,focus:Ge.Specific,idx:le,trigger:ae}):C({type:2,focus:R,trigger:ae}))),I=Q((R,le)=>(C({type:3,payload:{id:R,dataRef:le}}),()=>{A.isActive(le.current.value)&&(E.current=!0),C({type:4,id:R})})),B=Q(R=>(C({type:5,id:R}),()=>C({type:5,id:null}))),te=Q(R=>Se(A.mode,{0(){return S==null?void 0:S(R)},1(){let le=A.value.slice(),ae=le.findIndex(ye=>k(ye,R));return ae===-1?le.push(R):le.splice(ae,1),S==null?void 0:S(le)}})),X=Q(R=>{C({type:6,trigger:R})}),J=p.useMemo(()=>({onChange:te,registerOption:I,registerLabel:B,goToOption:V,closeCombobox:$,openCombobox:K,setActivationTrigger:X,selectActiveOption:W}),[]),ie=t===null?{}:{ref:t},q=p.useRef(null),Y=_n();return p.useEffect(()=>{q.current&&r!==void 0&&Y.addEventListener(q.current,"reset",()=>{S==null||S(r)})},[q,S]),p.createElement(Iu.Provider,{value:J},p.createElement(Vu.Provider,{value:A},p.createElement(ha,{value:Se(A.comboboxState,{0:Ke.Open,1:Ke.Closed})},a!=null&&v!=null&&Ri({[a]:v}).map(([R,le],ae)=>p.createElement(pn,{features:dn.Hidden,ref:ae===0?ye=>{var we;q.current=(we=ye==null?void 0:ye.closest("form"))!=null?we:null}:void 0,...hs({key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:R,value:le})})),Oe({ourProps:ie,theirProps:m,slot:L,defaultTag:Wx,name:"Combobox"}))))}let Kx="input";function qx(e,t){var n,r,o,s,a;let l=qe(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...g}=e,h=$o("Combobox.Input"),m=ma("Combobox.Input"),b=Ae(h.inputRef,t),y=kr(h.inputRef),v=p.useRef(!1),S=_n(),w=Q(()=>{m.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),m.goToOption(Ge.Nothing)}),C=function(){var A;return typeof d=="function"&&h.value!==void 0?(A=d(h.value))!=null?A:"":typeof h.value=="string"?h.value:""}();ga(([A,L],[W,K])=>{if(v.current)return;let $=h.inputRef.current;$&&((K===0&&L===1||A!==W)&&($.value=A),requestAnimationFrame(()=>{if(v.current||!$||(y==null?void 0:y.activeElement)!==$)return;let{selectionStart:V,selectionEnd:I}=$;Math.abs((I??0)-(V??0))===0&&V===0&&$.setSelectionRange($.value.length,$.value.length)}))},[C,h.comboboxState,y]),ga(([A],[L])=>{if(A===0&&L===1){if(v.current)return;let W=h.inputRef.current;if(!W)return;let K=W.value,{selectionStart:$,selectionEnd:V,selectionDirection:I}=W;W.value="",W.value=K,I!==null?W.setSelectionRange($,V,I):W.setSelectionRange($,V)}},[h.comboboxState]);let E=p.useRef(!1),x=Q(()=>{E.current=!0}),P=Q(()=>{S.nextFrame(()=>{E.current=!1})}),T=Q(A=>{switch(v.current=!0,A.key){case ge.Enter:if(v.current=!1,h.comboboxState!==0||E.current)return;if(A.preventDefault(),A.stopPropagation(),h.activeOptionIndex===null){m.closeCombobox();return}m.selectActiveOption(),h.mode===0&&m.closeCombobox();break;case ge.ArrowDown:return v.current=!1,A.preventDefault(),A.stopPropagation(),Se(h.comboboxState,{0:()=>m.goToOption(Ge.Next),1:()=>m.openCombobox()});case ge.ArrowUp:return v.current=!1,A.preventDefault(),A.stopPropagation(),Se(h.comboboxState,{0:()=>m.goToOption(Ge.Previous),1:()=>{m.openCombobox(),S.nextFrame(()=>{h.value||m.goToOption(Ge.Last)})}});case ge.Home:if(A.shiftKey)break;return v.current=!1,A.preventDefault(),A.stopPropagation(),m.goToOption(Ge.First);case ge.PageUp:return v.current=!1,A.preventDefault(),A.stopPropagation(),m.goToOption(Ge.First);case ge.End:if(A.shiftKey)break;return v.current=!1,A.preventDefault(),A.stopPropagation(),m.goToOption(Ge.Last);case ge.PageDown:return v.current=!1,A.preventDefault(),A.stopPropagation(),m.goToOption(Ge.Last);case ge.Escape:return v.current=!1,h.comboboxState!==0?void 0:(A.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&A.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&w(),m.closeCombobox());case ge.Tab:if(v.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&m.selectActiveOption(),m.closeCombobox();break}}),_=Q(A=>{u==null||u(A),h.nullable&&h.mode===0&&A.target.value===""&&w(),m.openCombobox()}),O=Q(A=>{var L,W,K;let $=(L=A.relatedTarget)!=null?L:ir.find(V=>V!==A.currentTarget);if(v.current=!1,!((W=h.optionsRef.current)!=null&&W.contains($))&&!((K=h.buttonRef.current)!=null&&K.contains($))&&h.comboboxState===0)return A.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?w():h.activationTrigger!==1&&m.selectActiveOption()),m.closeCombobox()}),k=Q(A=>{var L,W,K;let $=(L=A.relatedTarget)!=null?L:ir.find(V=>V!==A.currentTarget);(W=h.buttonRef.current)!=null&&W.contains($)||(K=h.optionsRef.current)!=null&&K.contains($)||h.disabled||h.immediate&&h.comboboxState!==0&&(m.openCombobox(),S.nextFrame(()=>{m.setActivationTrigger(1)}))}),M=pa(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),F=p.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),U={ref:b,id:c,role:"combobox",type:f,"aria-controls":(n=h.optionsRef.current)==null?void 0:n.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(r=h.options.find(A=>{var L;return!((L=h.virtual)!=null&&L.disabled(A.dataRef.current.value))&&h.compare(A.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:r.id:(o=h.options[h.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":M,"aria-autocomplete":"list",defaultValue:(a=(s=e.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?a:h.defaultValue,disabled:h.disabled,onCompositionStart:x,onCompositionEnd:P,onKeyDown:T,onChange:_,onFocus:k,onBlur:O};return Oe({ourProps:U,theirProps:g,slot:F,defaultTag:Kx,name:"Combobox.Input"})}let Yx="button";function Zx(e,t){var n;let r=$o("Combobox.Button"),o=ma("Combobox.Button"),s=Ae(r.buttonRef,t),a=qe(),{id:l=`headlessui-combobox-button-${a}`,...c}=e,u=_n(),d=Q(b=>{switch(b.key){case ge.ArrowDown:return b.preventDefault(),b.stopPropagation(),r.comboboxState===1&&o.openCombobox(),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case ge.ArrowUp:return b.preventDefault(),b.stopPropagation(),r.comboboxState===1&&(o.openCombobox(),u.nextFrame(()=>{r.value||o.goToOption(Ge.Last)})),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case ge.Escape:return r.comboboxState!==0?void 0:(b.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&b.stopPropagation(),o.closeCombobox(),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})}));default:return}}),f=Q(b=>{if(Lr(b.currentTarget))return b.preventDefault();r.comboboxState===0?o.closeCombobox():(b.preventDefault(),o.openCombobox()),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})})}),g=pa(()=>{if(r.labelId)return[r.labelId,l].join(" ")},[r.labelId,l]),h=p.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),m={ref:s,id:l,type:gs(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":g,disabled:r.disabled,onClick:f,onKeyDown:d};return Oe({ourProps:m,theirProps:c,slot:h,defaultTag:Yx,name:"Combobox.Button"})}let Xx="label";function Jx(e,t){let n=qe(),{id:r=`headlessui-combobox-label-${n}`,...o}=e,s=$o("Combobox.Label"),a=ma("Combobox.Label"),l=Ae(s.labelRef,t);Ne(()=>a.registerLabel(r),[r]);let c=Q(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=p.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Oe({ourProps:{ref:l,id:r,onClick:c},theirProps:o,slot:u,defaultTag:Xx,name:"Combobox.Label"})}let Qx="ul",Rx=jt.RenderStrategy|jt.Static;function eE(e,t){let n=qe(),{id:r=`headlessui-combobox-options-${n}`,hold:o=!1,...s}=e,a=$o("Combobox.Options"),l=Ae(a.optionsRef,t),c=no(),u=(()=>c!==null?(c&Ke.Open)===Ke.Open:a.comboboxState===0)();Ne(()=>{var h;a.optionsPropsRef.current.static=(h=e.static)!=null?h:!1},[a.optionsPropsRef,e.static]),Ne(()=>{a.optionsPropsRef.current.hold=o},[a.optionsPropsRef,o]),Lh({container:a.optionsRef.current,enabled:a.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=pa(()=>{var h,m;return(m=a.labelId)!=null?m:(h=a.buttonRef.current)==null?void 0:h.id},[a.labelId,a.buttonRef.current]),f=p.useMemo(()=>({open:a.comboboxState===0,option:void 0}),[a]),g={"aria-labelledby":d,role:"listbox","aria-multiselectable":a.mode===1?!0:void 0,id:r,ref:l};return a.virtual&&a.comboboxState===0&&Object.assign(s,{children:p.createElement(zx,null,s.children)}),Oe({ourProps:g,theirProps:s,slot:f,defaultTag:Qx,features:Rx,visible:u,name:"Combobox.Options"})}let tE="li";function nE(e,t){var n;let r=qe(),{id:o=`headlessui-combobox-option-${r}`,disabled:s=!1,value:a,order:l=null,...c}=e,u=$o("Combobox.Option"),d=ma("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(a):u.activeOptionIndex===null?!1:((n=u.options[u.activeOptionIndex])==null?void 0:n.id)===o,g=u.isSelected(a),h=p.useRef(null),m=St({disabled:s,value:a,domRef:h,order:l}),b=p.useContext(Ih),y=Ae(t,h,b?b.measureElement:null),v=Q(()=>d.onChange(a));Ne(()=>d.registerOption(o,m),[m,o]);let S=p.useRef(!(u.virtual||u.__demoMode));Ne(()=>{if(!u.virtual||!u.__demoMode)return;let O=Tn();return O.requestAnimationFrame(()=>{S.current=!0}),O.dispose},[u.virtual,u.__demoMode]),Ne(()=>{if(!S.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let O=Tn();return O.requestAnimationFrame(()=>{var k,M;(M=(k=h.current)==null?void 0:k.scrollIntoView)==null||M.call(k,{block:"nearest"})}),O.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let w=Q(O=>{var k;if(s||(k=u.virtual)!=null&&k.disabled(a))return O.preventDefault();v(),Oh()||requestAnimationFrame(()=>{var M;return(M=u.inputRef.current)==null?void 0:M.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=Q(()=>{var O;if(s||(O=u.virtual)!=null&&O.disabled(a))return d.goToOption(Ge.Nothing);let k=u.calculateIndex(a);d.goToOption(Ge.Specific,k)}),E=kh(),x=Q(O=>E.update(O)),P=Q(O=>{var k;if(!E.wasMoved(O)||s||(k=u.virtual)!=null&&k.disabled(a)||f)return;let M=u.calculateIndex(a);d.goToOption(Ge.Specific,M,0)}),T=Q(O=>{var k;E.wasMoved(O)&&(s||(k=u.virtual)!=null&&k.disabled(a)||f&&(u.optionsPropsRef.current.hold||d.goToOption(Ge.Nothing)))}),_=p.useMemo(()=>({active:f,selected:g,disabled:s}),[f,g,s]);return Oe({ourProps:{id:o,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":g,disabled:void 0,onClick:w,onFocus:C,onPointerEnter:x,onMouseEnter:x,onPointerMove:P,onMouseMove:P,onPointerLeave:T,onMouseLeave:T},theirProps:c,slot:_,defaultTag:tE,name:"Combobox.Option"})}let rE=Te(Gx),oE=Te(Zx),sE=Te(qx),aE=Te(Jx),iE=Te(eE),lE=Te(nE),ms=Object.assign(rE,{Input:sE,Button:oE,Label:aE,Options:iE,Option:lE});function Hu(e,t,n,r){let o=St(n);p.useEffect(()=>{e=e??window;function s(a){o.current(a)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function bs(){let e=p.useRef(!1);return Ne(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Vh(e){let t=Q(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,fa(()=>{n.current&&t()})}),[t])}var fn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(fn||{});function Fu(){let e=p.useRef(0);return Th("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Hh(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let cE="div";var Fh=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Fh||{});function uE(e,t){let n=p.useRef(null),r=Ae(n,t),{initialFocus:o,containers:s,features:a=30,...l}=e;fs()||(a=1);let c=kr(n);fE({ownerDocument:c},!!(a&16));let u=gE({ownerDocument:c,container:n,initialFocus:o},!!(a&2));hE({ownerDocument:c,container:n,containers:s,previousActiveElement:u},!!(a&8));let d=Fu(),f=Q(b=>{let y=n.current;y&&(v=>v())(()=>{Se(d.current,{[fn.Forwards]:()=>{Ct(y,Ye.First,{skipElements:[b.relatedTarget]})},[fn.Backwards]:()=>{Ct(y,Ye.Last,{skipElements:[b.relatedTarget]})}})})}),g=_n(),h=p.useRef(!1),m={ref:r,onKeyDown(b){b.key=="Tab"&&(h.current=!0,g.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){let y=Hh(s);n.current instanceof HTMLElement&&y.add(n.current);let v=b.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(Bh(y,v)||(h.current?Ct(n.current,Se(d.current,{[fn.Forwards]:()=>Ye.Next,[fn.Backwards]:()=>Ye.Previous})|Ye.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&Lo(b.target)))}};return p.createElement(p.Fragment,null,!!(a&4)&&p.createElement(pn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:dn.Focusable}),Oe({ourProps:m,theirProps:l,defaultTag:cE,name:"FocusTrap"}),!!(a&4)&&p.createElement(pn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:dn.Focusable}))}let dE=Te(uE),ba=Object.assign(dE,{features:Fh});function pE(e=!0){let t=p.useRef(ir.slice());return ga(([n],[r])=>{r===!0&&n===!1&&fa(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=ir.slice())},[e,ir,t]),Q(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function fE({ownerDocument:e},t){let n=pE(t);ga(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Lo(n())},[t]),Vh(()=>{t&&Lo(n())})}function gE({ownerDocument:e,container:t,initialFocus:n},r){let o=p.useRef(null),s=bs();return ga(()=>{if(!r)return;let a=t.current;a&&fa(()=>{if(!s.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){o.current=l;return}}else if(a.contains(l)){o.current=l;return}n!=null&&n.current?Lo(n.current):Ct(a,Ye.First)===Gn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function hE({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let s=bs();Hu(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Hh(n);t.current instanceof HTMLElement&&l.add(t.current);let c=r.current;if(!c)return;let u=a.target;u&&u instanceof HTMLElement?Bh(l,u)?(r.current=u,Lo(u)):(a.preventDefault(),a.stopPropagation(),Lo(c)):Lo(r.current)},!0)}function Bh(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let zh=p.createContext(!1);function mE(){return p.useContext(zh)}function Bu(e){return p.createElement(zh.Provider,{value:e.force},e.children)}function bE(e){let t=mE(),n=p.useContext(Uh),r=kr(e),[o,s]=p.useState(()=>{if(!t&&n!==null||Ar.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return p.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),p.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),o}let vE=p.Fragment;function yE(e,t){let n=e,r=p.useRef(null),o=Ae(ku(d=>{r.current=d}),t),s=kr(r),a=bE(r),[l]=p.useState(()=>{var d;return Ar.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=p.useContext(zu),u=fs();return Ne(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),Ne(()=>{if(l&&c)return c.register(l)},[c,l]),Vh(()=>{var d;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),u?!a||!l?null:on.createPortal(Oe({ourProps:{ref:o},theirProps:n,defaultTag:vE,name:"Portal"}),l):null}let wE=p.Fragment,Uh=p.createContext(null);function SE(e,t){let{target:n,...r}=e,o={ref:Ae(t)};return p.createElement(Uh.Provider,{value:n},Oe({ourProps:o,theirProps:r,defaultTag:wE,name:"Popover.Group"}))}let zu=p.createContext(null);function Wh(){let e=p.useContext(zu),t=p.useRef([]),n=Q(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=Q(s=>{let a=t.current.indexOf(s);a!==-1&&t.current.splice(a,1),e&&e.unregister(s)}),o=p.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,p.useMemo(()=>function({children:s}){return p.createElement(zu.Provider,{value:o},s)},[o])]}let CE=Te(yE),xE=Te(SE),Uu=Object.assign(CE,{Group:xE});function EE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const PE=typeof Object.is=="function"?Object.is:EE,{useState:OE,useEffect:TE,useLayoutEffect:_E,useDebugValue:AE}=Be;function ME(e,t,n){const r=t(),[{inst:o},s]=OE({inst:{value:r,getSnapshot:t}});return _E(()=>{o.value=r,o.getSnapshot=t,Wu(o)&&s({inst:o})},[e,r,t]),TE(()=>(Wu(o)&&s({inst:o}),e(()=>{Wu(o)&&s({inst:o})})),[e]),AE(r),r}function Wu(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!PE(n,r)}catch{return!0}}function kE(e,t,n){return t()}const LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$E=!LE,NE=$E?kE:ME,DE="useSyncExternalStore"in Be?(e=>e.useSyncExternalStore)(Be):NE;function jE(e){return DE(e.subscribe,e.getSnapshot,e.getSnapshot)}function IE(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...s){let a=t[o].call(n,...s);a&&(n=a,r.forEach(l=>l()))}}}function VE(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,s=e-o;n.style(r,"paddingRight",`${s}px`)}}}function HE(){return Ph()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(s=>s()).some(s=>s.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Tn();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function FE(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function BE(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let No=IE(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Tn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:BE(n)},o=[HE(),VE(),FE()];o.forEach(({before:s})=>s==null?void 0:s(r)),o.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});No.subscribe(()=>{let e=No.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&No.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&No.dispatch("TEARDOWN",n)}});function zE(e,t,n){let r=jE(No),o=e?r.get(e):void 0,s=o?o.count>0:!1;return Ne(()=>{if(!(!e||!t))return No.dispatch("PUSH",e,n),()=>No.dispatch("POP",e,n)},[t,e]),s}let Gu=new Map,va=new Map;function Gh(e,t=!0){Ne(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var a;if(!r)return;let l=(a=va.get(r))!=null?a:1;if(l===1?va.delete(r):va.set(r,l-1),l!==1)return;let c=Gu.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,Gu.delete(r))}let s=(n=va.get(r))!=null?n:0;return va.set(r,s+1),s!==0||(Gu.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}function Kh({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=p.useRef((r=n==null?void 0:n.current)!=null?r:null),s=kr(o),a=Q(()=>{var l,c,u;let d=[];for(let f of e)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(t!=null&&t.current)for(let f of t.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(o.current)||f.contains((u=(c=o.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(g=>f.contains(g))||d.push(f));return d});return{resolveContainers:a,contains:Q(l=>a().some(c=>c.contains(l))),mainTreeNodeRef:o,MainTreeNode:p.useMemo(()=>function(){return n!=null?null:p.createElement(pn,{features:dn.Hidden,ref:o})},[o,n])}}function UE(){let e=p.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:p.useMemo(()=>function(){return p.createElement(pn,{features:dn.Hidden,ref:e})},[e])}}let Ku=p.createContext(()=>{});Ku.displayName="StackContext";var qu=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(qu||{});function WE(){return p.useContext(Ku)}function GE({children:e,onUpdate:t,type:n,element:r,enabled:o}){let s=WE(),a=Q((...l)=>{t==null||t(...l),s(...l)});return Ne(()=>{let l=o===void 0||o===!0;return l&&a(0,n,r),()=>{l&&a(1,n,r)}},[a,n,r,o]),p.createElement(Ku.Provider,{value:a},e)}let qh=p.createContext(null);function Yh(){let e=p.useContext(qh);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Yh),t}return e}function el(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=Q(s=>(t(a=>[...a,s]),()=>t(a=>{let l=a.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),o=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return p.createElement(qh.Provider,{value:o},n.children)},[t])]}let KE="p";function qE(e,t){let n=qe(),{id:r=`headlessui-description-${n}`,...o}=e,s=Yh(),a=Ae(t);Ne(()=>s.register(r),[r,s.register]);let l={ref:a,...s.props,id:r};return Oe({ourProps:l,theirProps:o,slot:s.slot||{},defaultTag:KE,name:s.name||"Description"})}let YE=Te(qE),Yu=Object.assign(YE,{});var ZE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ZE||{}),XE=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(XE||{});let JE={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},tl=p.createContext(null);tl.displayName="DialogContext";function ya(e){let t=p.useContext(tl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ya),n}return t}function QE(e,t,n=()=>[document.body]){zE(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function RE(e,t){return Se(t.type,JE,e,t)}let eP="div",tP=jt.RenderStrategy|jt.Static;function nP(e,t){let n=qe(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:s,initialFocus:a,role:l="dialog",__demoMode:c=!1,...u}=e,[d,f]=p.useState(0),g=p.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=no();o===void 0&&h!==null&&(o=(h&Ke.Open)===Ke.Open);let m=p.useRef(null),b=Ae(m,t),y=kr(m),v=e.hasOwnProperty("open")||h!==null,S=e.hasOwnProperty("onClose");if(!v&&!S)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!S)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let w=o?0:1,[C,E]=p.useReducer(RE,{titleId:null,descriptionId:null,panelRef:p.createRef()}),x=Q(()=>s(!1)),P=Q(ae=>E({type:0,id:ae})),T=fs()?c?!1:w===0:!1,_=d>1,O=p.useContext(tl)!==null,[k,M]=Wh(),F={get current(){var ae;return(ae=C.panelRef.current)!=null?ae:m.current}},{resolveContainers:U,mainTreeNodeRef:A,MainTreeNode:L}=Kh({portals:k,defaultContainers:[F]}),W=_?"parent":"leaf",K=h!==null?(h&Ke.Closing)===Ke.Closing:!1,$=(()=>O||K?!1:T)(),V=p.useCallback(()=>{var ae,ye;return(ye=Array.from((ae=y==null?void 0:y.querySelectorAll("body > *"))!=null?ae:[]).find(we=>we.id==="headlessui-portal-root"?!1:we.contains(A.current)&&we instanceof HTMLElement))!=null?ye:null},[A]);Gh(V,$);let I=(()=>_?!0:T)(),B=p.useCallback(()=>{var ae,ye;return(ye=Array.from((ae=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?ae:[]).find(we=>we.contains(A.current)&&we instanceof HTMLElement))!=null?ye:null},[A]);Gh(B,I);let te=(()=>!(!T||_))();Xi(U,ae=>{ae.preventDefault(),x()},te);let X=(()=>!(_||w!==0))();Hu(y==null?void 0:y.defaultView,"keydown",ae=>{X&&(ae.defaultPrevented||ae.key===ge.Escape&&(ae.preventDefault(),ae.stopPropagation(),x()))});let J=(()=>!(K||w!==0||O))();QE(y,J,U),p.useEffect(()=>{if(w!==0||!m.current)return;let ae=new ResizeObserver(ye=>{for(let we of ye){let Xe=we.target.getBoundingClientRect();Xe.x===0&&Xe.y===0&&Xe.width===0&&Xe.height===0&&x()}});return ae.observe(m.current),()=>ae.disconnect()},[w,m,x]);let[ie,q]=el(),Y=p.useMemo(()=>[{dialogState:w,close:x,setTitleId:P},C],[w,C,x,P]),R=p.useMemo(()=>({open:w===0}),[w]),le={ref:b,id:r,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":ie};return p.createElement(GE,{type:"Dialog",enabled:w===0,element:m,onUpdate:Q((ae,ye)=>{ye==="Dialog"&&Se(ae,{[qu.Add]:()=>f(we=>we+1),[qu.Remove]:()=>f(we=>we-1)})})},p.createElement(Bu,{force:!0},p.createElement(Uu,null,p.createElement(tl.Provider,{value:Y},p.createElement(Uu.Group,{target:m},p.createElement(Bu,{force:!1},p.createElement(q,{slot:R,name:"Dialog.Description"},p.createElement(ba,{initialFocus:a,containers:U,features:T?Se(W,{parent:ba.features.RestoreFocus,leaf:ba.features.All&~ba.features.FocusLock}):ba.features.None},p.createElement(M,null,Oe({ourProps:le,theirProps:u,slot:R,defaultTag:eP,features:tP,visible:w===0,name:"Dialog"}))))))))),p.createElement(L,null))}let rP="div";function oP(e,t){let n=qe(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:s,close:a}]=ya("Dialog.Overlay"),l=Ae(t),c=Q(d=>{if(d.target===d.currentTarget){if(Lr(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),a()}}),u=p.useMemo(()=>({open:s===0}),[s]);return Oe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:o,slot:u,defaultTag:rP,name:"Dialog.Overlay"})}let sP="div";function aP(e,t){let n=qe(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:s},a]=ya("Dialog.Backdrop"),l=Ae(t);p.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let c=p.useMemo(()=>({open:s===0}),[s]);return p.createElement(Bu,{force:!0},p.createElement(Uu,null,Oe({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:o,slot:c,defaultTag:sP,name:"Dialog.Backdrop"})))}let iP="div";function lP(e,t){let n=qe(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:s},a]=ya("Dialog.Panel"),l=Ae(t,a.panelRef),c=p.useMemo(()=>({open:s===0}),[s]),u=Q(d=>{d.stopPropagation()});return Oe({ourProps:{ref:l,id:r,onClick:u},theirProps:o,slot:c,defaultTag:iP,name:"Dialog.Panel"})}let cP="h2";function uP(e,t){let n=qe(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:s,setTitleId:a}]=ya("Dialog.Title"),l=Ae(t);p.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=p.useMemo(()=>({open:s===0}),[s]);return Oe({ourProps:{ref:l,id:r},theirProps:o,slot:c,defaultTag:cP,name:"Dialog.Title"})}let dP=Te(nP),pP=Te(aP),fP=Te(lP),gP=Te(oP),hP=Te(uP),wa=Object.assign(dP,{Backdrop:pP,Panel:fP,Overlay:gP,Title:hP,Description:Yu});var Zh;let mP=(Zh=p.startTransition)!=null?Zh:function(e){e()};var bP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bP||{}),vP=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(vP||{});let yP={0:e=>({...e,disclosureState:Se(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Zu=p.createContext(null);Zu.displayName="DisclosureContext";function Xu(e){let t=p.useContext(Zu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xu),n}return t}let Ju=p.createContext(null);Ju.displayName="DisclosureAPIContext";function Xh(e){let t=p.useContext(Ju);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xh),n}return t}let Qu=p.createContext(null);Qu.displayName="DisclosurePanelContext";function wP(){return p.useContext(Qu)}function SP(e,t){return Se(t.type,yP,e,t)}let CP=p.Fragment;function xP(e,t){let{defaultOpen:n=!1,...r}=e,o=p.useRef(null),s=Ae(t,ku(y=>{o.current=y},e.as===void 0||e.as===p.Fragment)),a=p.useRef(null),l=p.useRef(null),c=p.useReducer(SP,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:l,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},f]=c,g=Q(y=>{f({type:1});let v=eo(o);if(!v||!d)return;let S=(()=>y?y instanceof HTMLElement?y:y.current instanceof HTMLElement?y.current:v.getElementById(d):v.getElementById(d))();S==null||S.focus()}),h=p.useMemo(()=>({close:g}),[g]),m=p.useMemo(()=>({open:u===0,close:g}),[u,g]),b={ref:s};return p.createElement(Zu.Provider,{value:c},p.createElement(Ju.Provider,{value:h},p.createElement(ha,{value:Se(u,{0:Ke.Open,1:Ke.Closed})},Oe({ourProps:b,theirProps:r,slot:m,defaultTag:CP,name:"Disclosure"}))))}let EP="button";function PP(e,t){let n=qe(),{id:r=`headlessui-disclosure-button-${n}`,...o}=e,[s,a]=Xu("Disclosure.Button"),l=wP(),c=l===null?!1:l===s.panelId,u=p.useRef(null),d=Ae(u,t,c?null:s.buttonRef),f=Lu();p.useEffect(()=>{if(!c)return a({type:2,buttonId:r}),()=>{a({type:2,buttonId:null})}},[r,a,c]);let g=Q(S=>{var w;if(c){if(s.disclosureState===1)return;switch(S.key){case ge.Space:case ge.Enter:S.preventDefault(),S.stopPropagation(),a({type:0}),(w=s.buttonRef.current)==null||w.focus();break}}else switch(S.key){case ge.Space:case ge.Enter:S.preventDefault(),S.stopPropagation(),a({type:0});break}}),h=Q(S=>{switch(S.key){case ge.Space:S.preventDefault();break}}),m=Q(S=>{var w;Lr(S.currentTarget)||e.disabled||(c?(a({type:0}),(w=s.buttonRef.current)==null||w.focus()):a({type:0}))}),b=p.useMemo(()=>({open:s.disclosureState===0}),[s]),y=gs(e,u),v=c?{ref:d,type:y,onKeyDown:g,onClick:m}:{ref:d,id:r,type:y,"aria-expanded":s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:g,onKeyUp:h,onClick:m};return Oe({mergeRefs:f,ourProps:v,theirProps:o,slot:b,defaultTag:EP,name:"Disclosure.Button"})}let OP="div",TP=jt.RenderStrategy|jt.Static;function _P(e,t){let n=qe(),{id:r=`headlessui-disclosure-panel-${n}`,...o}=e,[s,a]=Xu("Disclosure.Panel"),{close:l}=Xh("Disclosure.Panel"),c=Lu(),u=Ae(t,s.panelRef,m=>{mP(()=>a({type:m?4:5}))});p.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let d=no(),f=(()=>d!==null?(d&Ke.Open)===Ke.Open:s.disclosureState===0)(),g=p.useMemo(()=>({open:s.disclosureState===0,close:l}),[s,l]),h={ref:u,id:r};return p.createElement(Qu.Provider,{value:s.panelId},Oe({mergeRefs:c,ourProps:h,theirProps:o,slot:g,defaultTag:OP,features:TP,visible:f,name:"Disclosure.Panel"}))}let AP=Te(xP),MP=Te(PP),kP=Te(_P),Ru=Object.assign(AP,{Button:MP,Panel:kP}),Jh=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Qh(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let s=!1;for(let l of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let a=s?(n=o.innerText)!=null?n:"":r;return Jh.test(a)&&(a=a.replace(Jh,"")),a}function LP(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let s=document.getElementById(o);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():Qh(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Qh(e).trim()}function $P(e){let t=p.useRef(""),n=p.useRef("");return Q(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let s=LP(r).trim().toLowerCase();return t.current=o,n.current=s,s})}var NP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(NP||{}),DP=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(DP||{}),jP=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(jP||{}),IP=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(IP||{});function ed(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Mr(t(e.options.slice()),s=>s.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let VP={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=ed(e),o=Du(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(a=>{var l;return!a.dataRef.current.disabled&&((l=a.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),s=o?e.options.indexOf(o):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ed(e,o=>[...o,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=ed(e,r=>{let o=r.findIndex(s=>s.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},td=p.createContext(null);td.displayName="ListboxActionsContext";function Sa(e){let t=p.useContext(td);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sa),n}return t}let nd=p.createContext(null);nd.displayName="ListboxDataContext";function Ca(e){let t=p.useContext(nd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ca),n}return t}function HP(e,t){return Se(t.type,VP,e,t)}let FP=p.Fragment;function BP(e,t){let{value:n,defaultValue:r,form:o,name:s,onChange:a,by:l=(X,J)=>X===J,disabled:c=!1,horizontal:u=!1,multiple:d=!1,...f}=e;const g=u?"horizontal":"vertical";let h=Ae(t),[m=d?[]:void 0,b]=Ki(n,a,r),[y,v]=p.useReducer(HP,{dataRef:p.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),S=p.useRef({static:!1,hold:!1}),w=p.useRef(null),C=p.useRef(null),E=p.useRef(null),x=Q(typeof l=="string"?(X,J)=>{let ie=l;return(X==null?void 0:X[ie])===(J==null?void 0:J[ie])}:l),P=p.useCallback(X=>Se(T.mode,{1:()=>m.some(J=>x(J,X)),0:()=>x(m,X)}),[m]),T=p.useMemo(()=>({...y,value:m,disabled:c,mode:d?1:0,orientation:g,compare:x,isSelected:P,optionsPropsRef:S,labelRef:w,buttonRef:C,optionsRef:E}),[m,c,d,y]);Ne(()=>{y.dataRef.current=T},[T]),Xi([T.buttonRef,T.optionsRef],(X,J)=>{var ie;v({type:1}),Mu(J,Yi.Loose)||(X.preventDefault(),(ie=T.buttonRef.current)==null||ie.focus())},T.listboxState===0);let _=p.useMemo(()=>({open:T.listboxState===0,disabled:c,value:m}),[T,c,m]),O=Q(X=>{let J=T.options.find(ie=>ie.id===X);J&&W(J.dataRef.current.value)}),k=Q(()=>{if(T.activeOptionIndex!==null){let{dataRef:X,id:J}=T.options[T.activeOptionIndex];W(X.current.value),v({type:2,focus:Ge.Specific,id:J})}}),M=Q(()=>v({type:0})),F=Q(()=>v({type:1})),U=Q((X,J,ie)=>X===Ge.Specific?v({type:2,focus:Ge.Specific,id:J,trigger:ie}):v({type:2,focus:X,trigger:ie})),A=Q((X,J)=>(v({type:5,id:X,dataRef:J}),()=>v({type:6,id:X}))),L=Q(X=>(v({type:7,id:X}),()=>v({type:7,id:null}))),W=Q(X=>Se(T.mode,{0(){return b==null?void 0:b(X)},1(){let J=T.value.slice(),ie=J.findIndex(q=>x(q,X));return ie===-1?J.push(X):J.splice(ie,1),b==null?void 0:b(J)}})),K=Q(X=>v({type:3,value:X})),$=Q(()=>v({type:4})),V=p.useMemo(()=>({onChange:W,registerOption:A,registerLabel:L,goToOption:U,closeListbox:F,openListbox:M,selectActiveOption:k,selectOption:O,search:K,clearSearch:$}),[]),I={ref:h},B=p.useRef(null),te=_n();return p.useEffect(()=>{B.current&&r!==void 0&&te.addEventListener(B.current,"reset",()=>{b==null||b(r)})},[B,b]),p.createElement(td.Provider,{value:V},p.createElement(nd.Provider,{value:T},p.createElement(ha,{value:Se(T.listboxState,{0:Ke.Open,1:Ke.Closed})},s!=null&&m!=null&&Ri({[s]:m}).map(([X,J],ie)=>p.createElement(pn,{features:dn.Hidden,ref:ie===0?q=>{var Y;B.current=(Y=q==null?void 0:q.closest("form"))!=null?Y:null}:void 0,...hs({key:X,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:X,value:J})})),Oe({ourProps:I,theirProps:f,slot:_,defaultTag:FP,name:"Listbox"}))))}let zP="button";function UP(e,t){var n;let r=qe(),{id:o=`headlessui-listbox-button-${r}`,...s}=e,a=Ca("Listbox.Button"),l=Sa("Listbox.Button"),c=Ae(a.buttonRef,t),u=_n(),d=Q(y=>{switch(y.key){case ge.Space:case ge.Enter:case ge.ArrowDown:y.preventDefault(),l.openListbox(),u.nextFrame(()=>{a.value||l.goToOption(Ge.First)});break;case ge.ArrowUp:y.preventDefault(),l.openListbox(),u.nextFrame(()=>{a.value||l.goToOption(Ge.Last)});break}}),f=Q(y=>{switch(y.key){case ge.Space:y.preventDefault();break}}),g=Q(y=>{if(Lr(y.currentTarget))return y.preventDefault();a.listboxState===0?(l.closeListbox(),u.nextFrame(()=>{var v;return(v=a.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(y.preventDefault(),l.openListbox())}),h=pa(()=>{if(a.labelId)return[a.labelId,o].join(" ")},[a.labelId,o]),m=p.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled,value:a.value}),[a]),b={ref:c,id:o,type:gs(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.listboxState===0,"aria-labelledby":h,disabled:a.disabled,onKeyDown:d,onKeyUp:f,onClick:g};return Oe({ourProps:b,theirProps:s,slot:m,defaultTag:zP,name:"Listbox.Button"})}let WP="label";function GP(e,t){let n=qe(),{id:r=`headlessui-listbox-label-${n}`,...o}=e,s=Ca("Listbox.Label"),a=Sa("Listbox.Label"),l=Ae(s.labelRef,t);Ne(()=>a.registerLabel(r),[r]);let c=Q(()=>{var d;return(d=s.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=p.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return Oe({ourProps:{ref:l,id:r,onClick:c},theirProps:o,slot:u,defaultTag:WP,name:"Listbox.Label"})}let KP="ul",qP=jt.RenderStrategy|jt.Static;function YP(e,t){var n;let r=qe(),{id:o=`headlessui-listbox-options-${r}`,...s}=e,a=Ca("Listbox.Options"),l=Sa("Listbox.Options"),c=Ae(a.optionsRef,t),u=_n(),d=_n(),f=no(),g=(()=>f!==null?(f&Ke.Open)===Ke.Open:a.listboxState===0)();p.useEffect(()=>{var v;let S=a.optionsRef.current;S&&a.listboxState===0&&S!==((v=eo(S))==null?void 0:v.activeElement)&&S.focus({preventScroll:!0})},[a.listboxState,a.optionsRef]);let h=Q(v=>{switch(d.dispose(),v.key){case ge.Space:if(a.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),l.search(v.key);case ge.Enter:if(v.preventDefault(),v.stopPropagation(),a.activeOptionIndex!==null){let{dataRef:S}=a.options[a.activeOptionIndex];l.onChange(S.current.value)}a.mode===0&&(l.closeListbox(),Tn().nextFrame(()=>{var S;return(S=a.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})}));break;case Se(a.orientation,{vertical:ge.ArrowDown,horizontal:ge.ArrowRight}):return v.preventDefault(),v.stopPropagation(),l.goToOption(Ge.Next);case Se(a.orientation,{vertical:ge.ArrowUp,horizontal:ge.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),l.goToOption(Ge.Previous);case ge.Home:case ge.PageUp:return v.preventDefault(),v.stopPropagation(),l.goToOption(Ge.First);case ge.End:case ge.PageDown:return v.preventDefault(),v.stopPropagation(),l.goToOption(Ge.Last);case ge.Escape:return v.preventDefault(),v.stopPropagation(),l.closeListbox(),u.nextFrame(()=>{var S;return(S=a.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})});case ge.Tab:v.preventDefault(),v.stopPropagation();break;default:v.key.length===1&&(l.search(v.key),d.setTimeout(()=>l.clearSearch(),350));break}}),m=pa(()=>{var v;return(v=a.buttonRef.current)==null?void 0:v.id},[a.buttonRef.current]),b=p.useMemo(()=>({open:a.listboxState===0}),[a]),y={"aria-activedescendant":a.activeOptionIndex===null||(n=a.options[a.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":a.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":a.orientation,id:o,onKeyDown:h,role:"listbox",tabIndex:0,ref:c};return Oe({ourProps:y,theirProps:s,slot:b,defaultTag:KP,features:qP,visible:g,name:"Listbox.Options"})}let ZP="li";function XP(e,t){let n=qe(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:s,...a}=e,l=Ca("Listbox.Option"),c=Sa("Listbox.Option"),u=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,d=l.isSelected(s),f=p.useRef(null),g=$P(f),h=St({disabled:o,value:s,domRef:f,get textValue(){return g()}}),m=Ae(t,f);Ne(()=>{if(l.listboxState!==0||!u||l.activationTrigger===0)return;let x=Tn();return x.requestAnimationFrame(()=>{var P,T;(T=(P=f.current)==null?void 0:P.scrollIntoView)==null||T.call(P,{block:"nearest"})}),x.dispose},[f,u,l.listboxState,l.activationTrigger,l.activeOptionIndex]),Ne(()=>c.registerOption(r,h),[h,r]);let b=Q(x=>{if(o)return x.preventDefault();c.onChange(s),l.mode===0&&(c.closeListbox(),Tn().nextFrame(()=>{var P;return(P=l.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})}))}),y=Q(()=>{if(o)return c.goToOption(Ge.Nothing);c.goToOption(Ge.Specific,r)}),v=kh(),S=Q(x=>v.update(x)),w=Q(x=>{v.wasMoved(x)&&(o||u||c.goToOption(Ge.Specific,r,0))}),C=Q(x=>{v.wasMoved(x)&&(o||u&&c.goToOption(Ge.Nothing))}),E=p.useMemo(()=>({active:u,selected:d,disabled:o}),[u,d,o]);return Oe({ourProps:{id:r,ref:m,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:b,onFocus:y,onPointerEnter:S,onMouseEnter:S,onPointerMove:w,onMouseMove:w,onPointerLeave:C,onMouseLeave:C},theirProps:a,slot:E,defaultTag:ZP,name:"Listbox.Option"})}let JP=Te(BP),QP=Te(UP),RP=Te(GP),e5=Te(YP),t5=Te(XP),xa=Object.assign(JP,{Button:QP,Label:RP,Options:e5,Option:t5});var n5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(n5||{}),r5=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(r5||{});let o5={0:e=>{let t={...e,popoverState:Se(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},rd=p.createContext(null);rd.displayName="PopoverContext";function nl(e){let t=p.useContext(rd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nl),n}return t}let od=p.createContext(null);od.displayName="PopoverAPIContext";function sd(e){let t=p.useContext(od);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,sd),n}return t}let ad=p.createContext(null);ad.displayName="PopoverGroupContext";function Rh(){return p.useContext(ad)}let rl=p.createContext(null);rl.displayName="PopoverPanelContext";function s5(){return p.useContext(rl)}function a5(e,t){return Se(t.type,o5,e,t)}let i5="div";function l5(e,t){var n;let{__demoMode:r=!1,...o}=e,s=p.useRef(null),a=Ae(t,ku(L=>{s.current=L})),l=p.useRef([]),c=p.useReducer(a5,{__demoMode:r,popoverState:r?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:p.createRef(),afterPanelSentinel:p.createRef()}),[{popoverState:u,button:d,buttonId:f,panel:g,panelId:h,beforePanelSentinel:m,afterPanelSentinel:b},y]=c,v=kr((n=s.current)!=null?n:d),S=p.useMemo(()=>{if(!d||!g)return!1;for(let B of document.querySelectorAll("body > *"))if(Number(B==null?void 0:B.contains(d))^Number(B==null?void 0:B.contains(g)))return!0;let L=qi(),W=L.indexOf(d),K=(W+L.length-1)%L.length,$=(W+1)%L.length,V=L[K],I=L[$];return!g.contains(V)&&!g.contains(I)},[d,g]),w=St(f),C=St(h),E=p.useMemo(()=>({buttonId:w,panelId:C,close:()=>y({type:1})}),[w,C,y]),x=Rh(),P=x==null?void 0:x.registerPopover,T=Q(()=>{var L;return(L=x==null?void 0:x.isFocusWithinPopoverGroup())!=null?L:(v==null?void 0:v.activeElement)&&((d==null?void 0:d.contains(v.activeElement))||(g==null?void 0:g.contains(v.activeElement)))});p.useEffect(()=>P==null?void 0:P(E),[P,E]);let[_,O]=Wh(),k=Kh({mainTreeNodeRef:x==null?void 0:x.mainTreeNodeRef,portals:_,defaultContainers:[d,g]});Hu(v==null?void 0:v.defaultView,"focus",L=>{var W,K,$,V;L.target!==window&&L.target instanceof HTMLElement&&u===0&&(T()||d&&g&&(k.contains(L.target)||(K=(W=m.current)==null?void 0:W.contains)!=null&&K.call(W,L.target)||(V=($=b.current)==null?void 0:$.contains)!=null&&V.call($,L.target)||y({type:1})))},!0),Xi(k.resolveContainers,(L,W)=>{y({type:1}),Mu(W,Yi.Loose)||(L.preventDefault(),d==null||d.focus())},u===0);let M=Q(L=>{y({type:1});let W=(()=>L?L instanceof HTMLElement?L:"current"in L&&L.current instanceof HTMLElement?L.current:d:d)();W==null||W.focus()}),F=p.useMemo(()=>({close:M,isPortalled:S}),[M,S]),U=p.useMemo(()=>({open:u===0,close:M}),[u,M]),A={ref:a};return p.createElement(rl.Provider,{value:null},p.createElement(rd.Provider,{value:c},p.createElement(od.Provider,{value:F},p.createElement(ha,{value:Se(u,{0:Ke.Open,1:Ke.Closed})},p.createElement(O,null,Oe({ourProps:A,theirProps:o,slot:U,defaultTag:i5,name:"Popover"}),p.createElement(k.MainTreeNode,null))))))}let c5="button";function u5(e,t){let n=qe(),{id:r=`headlessui-popover-button-${n}`,...o}=e,[s,a]=nl("Popover.Button"),{isPortalled:l}=sd("Popover.Button"),c=p.useRef(null),u=`headlessui-focus-sentinel-${qe()}`,d=Rh(),f=d==null?void 0:d.closeOthers,g=s5()!==null;p.useEffect(()=>{if(!g)return a({type:3,buttonId:r}),()=>{a({type:3,buttonId:null})}},[g,r,a]);let[h]=p.useState(()=>Symbol()),m=Ae(c,t,g?null:k=>{if(k)s.buttons.current.push(h);else{let M=s.buttons.current.indexOf(h);M!==-1&&s.buttons.current.splice(M,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),k&&a({type:2,button:k})}),b=Ae(c,t),y=kr(c),v=Q(k=>{var M,F,U;if(g){if(s.popoverState===1)return;switch(k.key){case ge.Space:case ge.Enter:k.preventDefault(),(F=(M=k.target).click)==null||F.call(M),a({type:1}),(U=s.button)==null||U.focus();break}}else switch(k.key){case ge.Space:case ge.Enter:k.preventDefault(),k.stopPropagation(),s.popoverState===1&&(f==null||f(s.buttonId)),a({type:0});break;case ge.Escape:if(s.popoverState!==0)return f==null?void 0:f(s.buttonId);if(!c.current||y!=null&&y.activeElement&&!c.current.contains(y.activeElement))return;k.preventDefault(),k.stopPropagation(),a({type:1});break}}),S=Q(k=>{g||k.key===ge.Space&&k.preventDefault()}),w=Q(k=>{var M,F;Lr(k.currentTarget)||e.disabled||(g?(a({type:1}),(M=s.button)==null||M.focus()):(k.preventDefault(),k.stopPropagation(),s.popoverState===1&&(f==null||f(s.buttonId)),a({type:0}),(F=s.button)==null||F.focus()))}),C=Q(k=>{k.preventDefault(),k.stopPropagation()}),E=s.popoverState===0,x=p.useMemo(()=>({open:E}),[E]),P=gs(e,c),T=g?{ref:b,type:P,onKeyDown:v,onClick:w}:{ref:m,id:s.buttonId,type:P,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,onKeyDown:v,onKeyUp:S,onClick:w,onMouseDown:C},_=Fu(),O=Q(()=>{let k=s.panel;if(!k)return;function M(){Se(_.current,{[fn.Forwards]:()=>Ct(k,Ye.First),[fn.Backwards]:()=>Ct(k,Ye.Last)})===Gn.Error&&Ct(qi().filter(F=>F.dataset.headlessuiFocusGuard!=="true"),Se(_.current,{[fn.Forwards]:Ye.Next,[fn.Backwards]:Ye.Previous}),{relativeTo:s.button})}M()});return p.createElement(p.Fragment,null,Oe({ourProps:T,theirProps:o,slot:x,defaultTag:c5,name:"Popover.Button"}),E&&!g&&l&&p.createElement(pn,{id:u,features:dn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}))}let d5="div",p5=jt.RenderStrategy|jt.Static;function f5(e,t){let n=qe(),{id:r=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:s},a]=nl("Popover.Overlay"),l=Ae(t),c=no(),u=(()=>c!==null?(c&Ke.Open)===Ke.Open:s===0)(),d=Q(g=>{if(Lr(g.currentTarget))return g.preventDefault();a({type:1})}),f=p.useMemo(()=>({open:s===0}),[s]);return Oe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:d},theirProps:o,slot:f,defaultTag:d5,features:p5,visible:u,name:"Popover.Overlay"})}let g5="div",h5=jt.RenderStrategy|jt.Static;function m5(e,t){let n=qe(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,...s}=e,[a,l]=nl("Popover.Panel"),{close:c,isPortalled:u}=sd("Popover.Panel"),d=`headlessui-focus-sentinel-before-${qe()}`,f=`headlessui-focus-sentinel-after-${qe()}`,g=p.useRef(null),h=Ae(g,t,T=>{l({type:4,panel:T})}),m=kr(g),b=Lu();Ne(()=>(l({type:5,panelId:r}),()=>{l({type:5,panelId:null})}),[r,l]);let y=no(),v=(()=>y!==null?(y&Ke.Open)===Ke.Open:a.popoverState===0)(),S=Q(T=>{var _;switch(T.key){case ge.Escape:if(a.popoverState!==0||!g.current||m!=null&&m.activeElement&&!g.current.contains(m.activeElement))return;T.preventDefault(),T.stopPropagation(),l({type:1}),(_=a.button)==null||_.focus();break}});p.useEffect(()=>{var T;e.static||a.popoverState===1&&((T=e.unmount)==null||T)&&l({type:4,panel:null})},[a.popoverState,e.unmount,e.static,l]),p.useEffect(()=>{if(a.__demoMode||!o||a.popoverState!==0||!g.current)return;let T=m==null?void 0:m.activeElement;g.current.contains(T)||Ct(g.current,Ye.First)},[a.__demoMode,o,g,a.popoverState]);let w=p.useMemo(()=>({open:a.popoverState===0,close:c}),[a,c]),C={ref:h,id:r,onKeyDown:S,onBlur:o&&a.popoverState===0?T=>{var _,O,k,M,F;let U=T.relatedTarget;U&&g.current&&((_=g.current)!=null&&_.contains(U)||(l({type:1}),((k=(O=a.beforePanelSentinel.current)==null?void 0:O.contains)!=null&&k.call(O,U)||(F=(M=a.afterPanelSentinel.current)==null?void 0:M.contains)!=null&&F.call(M,U))&&U.focus({preventScroll:!0})))}:void 0,tabIndex:-1},E=Fu(),x=Q(()=>{let T=g.current;if(!T)return;function _(){Se(E.current,{[fn.Forwards]:()=>{var O;Ct(T,Ye.First)===Gn.Error&&((O=a.afterPanelSentinel.current)==null||O.focus())},[fn.Backwards]:()=>{var O;(O=a.button)==null||O.focus({preventScroll:!0})}})}_()}),P=Q(()=>{let T=g.current;if(!T)return;function _(){Se(E.current,{[fn.Forwards]:()=>{var O;if(!a.button)return;let k=qi(),M=k.indexOf(a.button),F=k.slice(0,M+1),U=[...k.slice(M+1),...F];for(let A of U.slice())if(A.dataset.headlessuiFocusGuard==="true"||(O=a.panel)!=null&&O.contains(A)){let L=U.indexOf(A);L!==-1&&U.splice(L,1)}Ct(U,Ye.First,{sorted:!1})},[fn.Backwards]:()=>{var O;Ct(T,Ye.Previous)===Gn.Error&&((O=a.button)==null||O.focus())}})}_()});return p.createElement(rl.Provider,{value:r},v&&u&&p.createElement(pn,{id:d,ref:a.beforePanelSentinel,features:dn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:x}),Oe({mergeRefs:b,ourProps:C,theirProps:s,slot:w,defaultTag:g5,features:h5,visible:v,name:"Popover.Panel"}),v&&u&&p.createElement(pn,{id:f,ref:a.afterPanelSentinel,features:dn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}))}let b5="div";function v5(e,t){let n=p.useRef(null),r=Ae(n,t),[o,s]=p.useState([]),a=UE(),l=Q(b=>{s(y=>{let v=y.indexOf(b);if(v!==-1){let S=y.slice();return S.splice(v,1),S}return y})}),c=Q(b=>(s(y=>[...y,b]),()=>l(b))),u=Q(()=>{var b;let y=eo(n);if(!y)return!1;let v=y.activeElement;return(b=n.current)!=null&&b.contains(v)?!0:o.some(S=>{var w,C;return((w=y.getElementById(S.buttonId.current))==null?void 0:w.contains(v))||((C=y.getElementById(S.panelId.current))==null?void 0:C.contains(v))})}),d=Q(b=>{for(let y of o)y.buttonId.current!==b&&y.close()}),f=p.useMemo(()=>({registerPopover:c,unregisterPopover:l,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:a.mainTreeNodeRef}),[c,l,u,d,a.mainTreeNodeRef]),g=p.useMemo(()=>({}),[]),h=e,m={ref:r};return p.createElement(ad.Provider,{value:f},Oe({ourProps:m,theirProps:h,slot:g,defaultTag:b5,name:"Popover.Group"}),p.createElement(a.MainTreeNode,null))}let y5=Te(l5),w5=Te(u5),S5=Te(f5),C5=Te(m5),x5=Te(v5),id=Object.assign(y5,{Button:w5,Overlay:S5,Panel:C5,Group:x5}),e1=p.createContext(null);function t1(){let e=p.useContext(e1);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,t1),t}return e}function ld(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=Q(s=>(t(a=>[...a,s]),()=>t(a=>{let l=a.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),o=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return p.createElement(e1.Provider,{value:o},n.children)},[t])]}let E5="label";function P5(e,t){let n=qe(),{id:r=`headlessui-label-${n}`,passive:o=!1,...s}=e,a=t1(),l=Ae(t);Ne(()=>a.register(r),[r,a.register]);let c={ref:l,...a.props,id:r};return o&&("onClick"in c&&(delete c.htmlFor,delete c.onClick),"onClick"in s&&delete s.onClick),Oe({ourProps:c,theirProps:s,slot:a.slot||{},defaultTag:E5,name:a.name||"Label"})}let O5=Te(P5),n1=Object.assign(O5,{});function r1(e=0){let[t,n]=p.useState(e),r=bs(),o=p.useCallback(c=>{r.current&&n(u=>u|c)},[t,r]),s=p.useCallback(c=>!!(t&c),[t]),a=p.useCallback(c=>{r.current&&n(u=>u&~c)},[n,r]),l=p.useCallback(c=>{r.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:o,hasFlag:s,removeFlag:a,toggleFlag:l}}var T5=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(T5||{});let _5={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Mr(n,r=>r.element.current)}},1(e,t){let n=e.options.slice(),r=e.options.findIndex(o=>o.id===t.id);return r===-1?e:(n.splice(r,1),{...e,options:n})}},cd=p.createContext(null);cd.displayName="RadioGroupDataContext";function o1(e){let t=p.useContext(cd);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,o1),n}return t}let ud=p.createContext(null);ud.displayName="RadioGroupActionsContext";function s1(e){let t=p.useContext(ud);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,s1),n}return t}function A5(e,t){return Se(t.type,_5,e,t)}let M5="div";function k5(e,t){let n=qe(),{id:r=`headlessui-radiogroup-${n}`,value:o,defaultValue:s,form:a,name:l,onChange:c,by:u=($,V)=>$===V,disabled:d=!1,...f}=e,g=Q(typeof u=="string"?($,V)=>{let I=u;return($==null?void 0:$[I])===(V==null?void 0:V[I])}:u),[h,m]=p.useReducer(A5,{options:[]}),b=h.options,[y,v]=ld(),[S,w]=el(),C=p.useRef(null),E=Ae(C,t),[x,P]=Ki(o,c,s),T=p.useMemo(()=>b.find($=>!$.propsRef.current.disabled),[b]),_=p.useMemo(()=>b.some($=>g($.propsRef.current.value,x)),[b,x]),O=Q($=>{var V;if(d||g($,x))return!1;let I=(V=b.find(B=>g(B.propsRef.current.value,$)))==null?void 0:V.propsRef.current;return I!=null&&I.disabled?!1:(P==null||P($),!0)});Lh({container:C.current,accept($){return $.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let k=Q($=>{let V=C.current;if(!V)return;let I=eo(V),B=b.filter(te=>te.propsRef.current.disabled===!1).map(te=>te.element.current);switch($.key){case ge.Enter:jh($.currentTarget);break;case ge.ArrowLeft:case ge.ArrowUp:if($.preventDefault(),$.stopPropagation(),Ct(B,Ye.Previous|Ye.WrapAround)===Gn.Success){let te=b.find(X=>X.element.current===(I==null?void 0:I.activeElement));te&&O(te.propsRef.current.value)}break;case ge.ArrowRight:case ge.ArrowDown:if($.preventDefault(),$.stopPropagation(),Ct(B,Ye.Next|Ye.WrapAround)===Gn.Success){let te=b.find(X=>X.element.current===(I==null?void 0:I.activeElement));te&&O(te.propsRef.current.value)}break;case ge.Space:{$.preventDefault(),$.stopPropagation();let te=b.find(X=>X.element.current===(I==null?void 0:I.activeElement));te&&O(te.propsRef.current.value)}break}}),M=Q($=>(m({type:0,...$}),()=>m({type:1,id:$.id}))),F=p.useMemo(()=>({value:x,firstOption:T,containsCheckedOption:_,disabled:d,compare:g,...h}),[x,T,_,d,g,h]),U=p.useMemo(()=>({registerOption:M,change:O}),[M,O]),A={ref:E,id:r,role:"radiogroup","aria-labelledby":y,"aria-describedby":S,onKeyDown:k},L=p.useMemo(()=>({value:x}),[x]),W=p.useRef(null),K=_n();return p.useEffect(()=>{W.current&&s!==void 0&&K.addEventListener(W.current,"reset",()=>{O(s)})},[W,O]),p.createElement(w,{name:"RadioGroup.Description"},p.createElement(v,{name:"RadioGroup.Label"},p.createElement(ud.Provider,{value:U},p.createElement(cd.Provider,{value:F},l!=null&&x!=null&&Ri({[l]:x}).map(([$,V],I)=>p.createElement(pn,{features:dn.Hidden,ref:I===0?B=>{var te;W.current=(te=B==null?void 0:B.closest("form"))!=null?te:null}:void 0,...hs({key:$,as:"input",type:"radio",checked:V!=null,hidden:!0,readOnly:!0,form:a,disabled:d,name:$,value:V})})),Oe({ourProps:A,theirProps:f,slot:L,defaultTag:M5,name:"RadioGroup"})))))}var L5=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(L5||{});let $5="div";function N5(e,t){var n;let r=qe(),{id:o=`headlessui-radiogroup-option-${r}`,value:s,disabled:a=!1,...l}=e,c=p.useRef(null),u=Ae(c,t),[d,f]=ld(),[g,h]=el(),{addFlag:m,removeFlag:b,hasFlag:y}=r1(1),v=St({value:s,disabled:a}),S=o1("RadioGroup.Option"),w=s1("RadioGroup.Option");Ne(()=>w.registerOption({id:o,element:c,propsRef:v}),[o,w,c,v]);let C=Q(M=>{var F;if(Lr(M.currentTarget))return M.preventDefault();w.change(s)&&(m(2),(F=c.current)==null||F.focus())}),E=Q(M=>{if(Lr(M.currentTarget))return M.preventDefault();m(2)}),x=Q(()=>b(2)),P=((n=S.firstOption)==null?void 0:n.id)===o,T=S.disabled||a,_=S.compare(S.value,s),O={ref:u,id:o,role:"radio","aria-checked":_?"true":"false","aria-labelledby":d,"aria-describedby":g,"aria-disabled":T?!0:void 0,tabIndex:(()=>T?-1:_||!S.containsCheckedOption&&P?0:-1)(),onClick:T?void 0:C,onFocus:T?void 0:E,onBlur:T?void 0:x},k=p.useMemo(()=>({checked:_,disabled:T,active:y(2)}),[_,T,y]);return p.createElement(h,{name:"RadioGroup.Description"},p.createElement(f,{name:"RadioGroup.Label"},Oe({ourProps:O,theirProps:l,slot:k,defaultTag:$5,name:"RadioGroup.Option"})))}let D5=Te(k5),j5=Te(N5),a1=Object.assign(D5,{Option:j5,Label:n1,Description:Yu}),dd=p.createContext(null);dd.displayName="GroupContext";let I5=p.Fragment;function V5(e){var t;let[n,r]=p.useState(null),[o,s]=ld(),[a,l]=el(),c=p.useMemo(()=>({switch:n,setSwitch:r,labelledby:o,describedby:a}),[n,r,o,a]),u={},d=e;return p.createElement(l,{name:"Switch.Description"},p.createElement(s,{name:"Switch.Label",props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(f){n&&(f.currentTarget.tagName==="LABEL"&&f.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},p.createElement(dd.Provider,{value:c},Oe({ourProps:u,theirProps:d,defaultTag:I5,name:"Switch.Group"}))))}let H5="button";function F5(e,t){var n;let r=qe(),{id:o=`headlessui-switch-${r}`,checked:s,defaultChecked:a=!1,onChange:l,disabled:c=!1,name:u,value:d,form:f,...g}=e,h=p.useContext(dd),m=p.useRef(null),b=Ae(m,t,h===null?null:h.setSwitch),[y,v]=Ki(s,l,a),S=Q(()=>v==null?void 0:v(!y)),w=Q(_=>{if(Lr(_.currentTarget))return _.preventDefault();_.preventDefault(),S()}),C=Q(_=>{_.key===ge.Space?(_.preventDefault(),S()):_.key===ge.Enter&&jh(_.currentTarget)}),E=Q(_=>_.preventDefault()),x=p.useMemo(()=>({checked:y}),[y]),P={id:o,ref:b,role:"switch",type:gs(e,m),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":y,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,disabled:c,onClick:w,onKeyUp:C,onKeyPress:E},T=_n();return p.useEffect(()=>{var _;let O=(_=m.current)==null?void 0:_.closest("form");O&&a!==void 0&&T.addEventListener(O,"reset",()=>{v(a)})},[m,v]),p.createElement(p.Fragment,null,u!=null&&y&&p.createElement(pn,{features:dn.Hidden,...hs({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:c,form:f,checked:y,name:u,value:d})}),Oe({ourProps:P,theirProps:g,slot:x,defaultTag:H5,name:"Switch"}))}let B5=Te(F5),z5=V5,pd=Object.assign(B5,{Group:z5,Label:n1,Description:Yu});function U5({onFocus:e}){let[t,n]=p.useState(!0),r=bs();return t?p.createElement(pn,{as:"button",type:"button",features:dn.Focusable,onFocus:o=>{o.preventDefault();let s,a=50;function l(){if(a--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(l)}s=requestAnimationFrame(l)}}):null}const i1=Be.createContext(null);function W5(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let s=Array.from(r.keys()).indexOf(t);function a(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[s,a]}}}function G5({children:e}){let t=Be.useRef(W5());return Be.createElement(i1.Provider,{value:t},e)}function l1(e){let t=Be.useContext(i1);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=K5(),[r,o]=t.current.get(e,n);return Be.useEffect(()=>o,[]),r}function K5(){var e,t,n;let r=(n=(t=(e=Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let o=[],s=r;for(;s;)o.push(s.index),s=s.return;return"$."+o.join(".")}var q5=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(q5||{}),Y5=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Y5||{}),Z5=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Z5||{});let X5={0(e,t){var n;let r=Mr(e.tabs,d=>d.current),o=Mr(e.panels,d=>d.current),s=r.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let d=Se(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Se(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return a;let f=Se(d,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...a,selectedIndex:f===-1?e.selectedIndex:f}}let l=r.slice(0,t.index),c=[...r.slice(t.index),...l].find(d=>s.includes(d));if(!c)return a;let u=(n=r.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Mr([...e.tabs,t.tab],s=>s.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Mr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},fd=p.createContext(null);fd.displayName="TabsDataContext";function vs(e){let t=p.useContext(fd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vs),n}return t}let gd=p.createContext(null);gd.displayName="TabsActionsContext";function hd(e){let t=p.useContext(gd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hd),n}return t}function J5(e,t){return Se(t.type,X5,e,t)}let Q5=p.Fragment;function R5(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:s,selectedIndex:a=null,...l}=e;const c=r?"vertical":"horizontal",u=o?"manual":"auto";let d=a!==null,f=St({isControlled:d}),g=Ae(t),[h,m]=p.useReducer(J5,{info:f,selectedIndex:a??n,tabs:[],panels:[]}),b=p.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),y=St(s||(()=>{})),v=St(h.tabs),S=p.useMemo(()=>({orientation:c,activation:u,...h}),[c,u,h]),w=Q(_=>(m({type:1,tab:_}),()=>m({type:2,tab:_}))),C=Q(_=>(m({type:3,panel:_}),()=>m({type:4,panel:_}))),E=Q(_=>{x.current!==_&&y.current(_),d||m({type:0,index:_})}),x=St(d?e.selectedIndex:h.selectedIndex),P=p.useMemo(()=>({registerTab:w,registerPanel:C,change:E}),[]);Ne(()=>{m({type:0,index:a??n})},[a]),Ne(()=>{if(x.current===void 0||h.tabs.length<=0)return;let _=Mr(h.tabs,O=>O.current);_.some((O,k)=>h.tabs[k]!==O)&&E(_.indexOf(h.tabs[x.current]))});let T={ref:g};return p.createElement(G5,null,p.createElement(gd.Provider,{value:P},p.createElement(fd.Provider,{value:S},S.tabs.length<=0&&p.createElement(U5,{onFocus:()=>{var _,O;for(let k of v.current)if(((_=k.current)==null?void 0:_.tabIndex)===0)return(O=k.current)==null||O.focus(),!0;return!1}}),Oe({ourProps:T,theirProps:l,slot:b,defaultTag:Q5,name:"Tabs"}))))}let eO="div";function tO(e,t){let{orientation:n,selectedIndex:r}=vs("Tab.List"),o=Ae(t);return Oe({ourProps:{ref:o,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:eO,name:"Tabs.List"})}let nO="button";function rO(e,t){var n,r;let o=qe(),{id:s=`headlessui-tabs-tab-${o}`,...a}=e,{orientation:l,activation:c,selectedIndex:u,tabs:d,panels:f}=vs("Tab"),g=hd("Tab"),h=vs("Tab"),m=p.useRef(null),b=Ae(m,t);Ne(()=>g.registerTab(m),[g,m]);let y=l1("tabs"),v=d.indexOf(m);v===-1&&(v=y);let S=v===u,w=Q(O=>{var k;let M=O();if(M===Gn.Success&&c==="auto"){let F=(k=eo(m))==null?void 0:k.activeElement,U=h.tabs.findIndex(A=>A.current===F);U!==-1&&g.change(U)}return M}),C=Q(O=>{let k=d.map(M=>M.current).filter(Boolean);if(O.key===ge.Space||O.key===ge.Enter){O.preventDefault(),O.stopPropagation(),g.change(v);return}switch(O.key){case ge.Home:case ge.PageUp:return O.preventDefault(),O.stopPropagation(),w(()=>Ct(k,Ye.First));case ge.End:case ge.PageDown:return O.preventDefault(),O.stopPropagation(),w(()=>Ct(k,Ye.Last))}if(w(()=>Se(l,{vertical(){return O.key===ge.ArrowUp?Ct(k,Ye.Previous|Ye.WrapAround):O.key===ge.ArrowDown?Ct(k,Ye.Next|Ye.WrapAround):Gn.Error},horizontal(){return O.key===ge.ArrowLeft?Ct(k,Ye.Previous|Ye.WrapAround):O.key===ge.ArrowRight?Ct(k,Ye.Next|Ye.WrapAround):Gn.Error}}))===Gn.Success)return O.preventDefault()}),E=p.useRef(!1),x=Q(()=>{var O;E.current||(E.current=!0,(O=m.current)==null||O.focus({preventScroll:!0}),g.change(v),fa(()=>{E.current=!1}))}),P=Q(O=>{O.preventDefault()}),T=p.useMemo(()=>{var O;return{selected:S,disabled:(O=e.disabled)!=null?O:!1}},[S,e.disabled]),_={ref:b,onKeyDown:C,onMouseDown:P,onClick:x,id:s,role:"tab",type:gs(e,m),"aria-controls":(r=(n=f[v])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1};return Oe({ourProps:_,theirProps:a,slot:T,defaultTag:nO,name:"Tabs.Tab"})}let oO="div";function sO(e,t){let{selectedIndex:n}=vs("Tab.Panels"),r=Ae(t),o=p.useMemo(()=>({selectedIndex:n}),[n]);return Oe({ourProps:{ref:r},theirProps:e,slot:o,defaultTag:oO,name:"Tabs.Panels"})}let aO="div",iO=jt.RenderStrategy|jt.Static;function lO(e,t){var n,r,o,s;let a=qe(),{id:l=`headlessui-tabs-panel-${a}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:f,panels:g}=vs("Tab.Panel"),h=hd("Tab.Panel"),m=p.useRef(null),b=Ae(m,t);Ne(()=>h.registerPanel(m),[h,m,l]);let y=l1("panels"),v=g.indexOf(m);v===-1&&(v=y);let S=v===d,w=p.useMemo(()=>({selected:S}),[S]),C={ref:b,id:l,role:"tabpanel","aria-labelledby":(r=(n=f[v])==null?void 0:n.current)==null?void 0:r.id,tabIndex:S?c:-1};return!S&&((o=u.unmount)==null||o)&&!((s=u.static)!=null&&s)?p.createElement(pn,{as:"span","aria-hidden":"true",...C}):Oe({ourProps:C,theirProps:u,slot:w,defaultTag:aO,features:iO,visible:S,name:"Tabs.Panel"})}let cO=Te(rO),uO=Te(R5),dO=Te(tO),pO=Te(sO),fO=Te(lO),Ea=Object.assign(cO,{Group:uO,List:dO,Panels:pO,Panel:fO});function gO(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function md(e,...t){e&&t.length>0&&e.classList.add(...t)}function bd(e,...t){e&&t.length>0&&e.classList.remove(...t)}function hO(e,t){let n=Tn();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[s,a]=[r,o].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+a;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function mO(e,t,n,r){let o=n?"enter":"leave",s=Tn(),a=r!==void 0?gO(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Se(o,{enter:()=>t.enter,leave:()=>t.leave}),c=Se(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Se(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return bd(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),md(e,...t.base,...l,...u),s.nextFrame(()=>{bd(e,...t.base,...l,...u),md(e,...t.base,...l,...c),hO(e,()=>(bd(e,...t.base,...l),md(e,...t.base,...t.entered),a()))}),s.dispose}function bO({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:s}){let a=bs(),l=_n(),c=St(n);Ne(()=>{e&&(c.current="enter")},[e]),Ne(()=>{let u=Tn();l.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&a.current)return u.dispose(),o.current(c.current),u.add(mO(d,r.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[n])}function ro(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ol=p.createContext(null);ol.displayName="TransitionContext";var vO=(e=>(e.Visible="visible",e.Hidden="hidden",e))(vO||{});function yO(){let e=p.useContext(ol);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function wO(){let e=p.useContext(sl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let sl=p.createContext(null);sl.displayName="NestingContext";function al(e){return"children"in e?al(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function c1(e,t){let n=St(e),r=p.useRef([]),o=bs(),s=_n(),a=Q((h,m=to.Hidden)=>{let b=r.current.findIndex(({el:y})=>y===h);b!==-1&&(Se(m,{[to.Unmount](){r.current.splice(b,1)},[to.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var y;!al(r)&&o.current&&((y=n.current)==null||y.call(n))}))}),l=Q(h=>{let m=r.current.find(({el:b})=>b===h);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:h,state:"visible"}),()=>a(h,to.Unmount)}),c=p.useRef([]),u=p.useRef(Promise.resolve()),d=p.useRef({enter:[],leave:[],idle:[]}),f=Q((h,m,b)=>{c.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([y])=>y!==h)),t==null||t.chains.current[m].push([h,new Promise(y=>{c.current.push(y)})]),t==null||t.chains.current[m].push([h,new Promise(y=>{Promise.all(d.current[m].map(([v,S])=>S)).then(()=>y())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(m)):b(m)}),g=Q((h,m,b)=>{Promise.all(d.current[m].splice(0).map(([y,v])=>v)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>b(m))});return p.useMemo(()=>({children:r,register:l,unregister:a,onStart:f,onStop:g,wait:u,chains:d}),[l,a,r,f,g,d,u])}function SO(){}let CO=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function u1(e){var t;let n={};for(let r of CO)n[r]=(t=e[r])!=null?t:SO;return n}function xO(e){let t=p.useRef(u1(e));return p.useEffect(()=>{t.current=u1(e)},[e]),t}let EO="div",d1=jt.RenderStrategy;function PO(e,t){var n,r;let{beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:g,leaveFrom:h,leaveTo:m,...b}=e,y=p.useRef(null),v=Ae(y,t),S=(n=b.unmount)==null||n?to.Unmount:to.Hidden,{show:w,appear:C,initial:E}=yO(),[x,P]=p.useState(w?"visible":"hidden"),T=wO(),{register:_,unregister:O}=T;p.useEffect(()=>_(y),[_,y]),p.useEffect(()=>{if(S===to.Hidden&&y.current){if(w&&x!=="visible"){P("visible");return}return Se(x,{hidden:()=>O(y),visible:()=>_(y)})}},[x,y,_,O,w,S]);let k=St({base:ro(b.className),enter:ro(c),enterFrom:ro(u),enterTo:ro(d),entered:ro(f),leave:ro(g),leaveFrom:ro(h),leaveTo:ro(m)}),M=xO({beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l}),F=fs();p.useEffect(()=>{if(F&&x==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,x,F]);let U=E&&!C,A=C&&w&&E,L=(()=>!F||U?"idle":w?"enter":"leave")(),W=r1(0),K=Q(X=>Se(X,{enter:()=>{W.addFlag(Ke.Opening),M.current.beforeEnter()},leave:()=>{W.addFlag(Ke.Closing),M.current.beforeLeave()},idle:()=>{}})),$=Q(X=>Se(X,{enter:()=>{W.removeFlag(Ke.Opening),M.current.afterEnter()},leave:()=>{W.removeFlag(Ke.Closing),M.current.afterLeave()},idle:()=>{}})),V=c1(()=>{P("hidden"),O(y)},T),I=p.useRef(!1);bO({immediate:A,container:y,classes:k,direction:L,onStart:St(X=>{I.current=!0,V.onStart(y,X,K)}),onStop:St(X=>{I.current=!1,V.onStop(y,X,$),X==="leave"&&!al(V)&&(P("hidden"),O(y))})});let B=b,te={ref:v};return A?B={...B,className:Ji(b.className,...k.current.enter,...k.current.enterFrom)}:I.current&&(B.className=Ji(b.className,(r=y.current)==null?void 0:r.className),B.className===""&&delete B.className),p.createElement(sl.Provider,{value:V},p.createElement(ha,{value:Se(x,{visible:Ke.Open,hidden:Ke.Closed})|W.flags},Oe({ourProps:te,theirProps:B,defaultTag:EO,features:d1,visible:x==="visible",name:"Transition.Child"})))}function OO(e,t){let{show:n,appear:r=!1,unmount:o=!0,...s}=e,a=p.useRef(null),l=Ae(a,t);fs();let c=no();if(n===void 0&&c!==null&&(n=(c&Ke.Open)===Ke.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=p.useState(n?"visible":"hidden"),f=c1(()=>{d("hidden")}),[g,h]=p.useState(!0),m=p.useRef([n]);Ne(()=>{g!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),h(!1))},[m,n]);let b=p.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);p.useEffect(()=>{if(n)d("visible");else if(!al(f))d("hidden");else{let w=a.current;if(!w)return;let C=w.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[n,f]);let y={unmount:o},v=Q(()=>{var w;g&&h(!1),(w=e.beforeEnter)==null||w.call(e)}),S=Q(()=>{var w;g&&h(!1),(w=e.beforeLeave)==null||w.call(e)});return p.createElement(sl.Provider,{value:f},p.createElement(ol.Provider,{value:b},Oe({ourProps:{...y,as:p.Fragment,children:p.createElement(p1,{ref:l,...y,...s,beforeEnter:v,beforeLeave:S})},theirProps:{},defaultTag:p.Fragment,features:d1,visible:u==="visible",name:"Transition"})))}function TO(e,t){let n=p.useContext(ol)!==null,r=no()!==null;return p.createElement(p.Fragment,null,!n&&r?p.createElement(vd,{ref:t,...e}):p.createElement(p1,{ref:t,...e}))}let vd=Te(OO),p1=Te(PO),_O=Te(TO),lr=Object.assign(vd,{Child:_O,Root:vd});var f1=function(t){return t.reduce(function(n,r){var o=r[0],s=r[1];return n[o]=s,n},{})},g1=typeof window<"u"&&window.document&&window.document.createElement?Be.useLayoutEffect:Be.useEffect,Wt="top",An="bottom",Mn="right",Gt="left",yd="auto",Pa=[Wt,An,Mn,Gt],ys="start",Oa="end",AO="clippingParents",h1="viewport",Ta="popper",MO="reference",m1=Pa.reduce(function(e,t){return e.concat([t+"-"+ys,t+"-"+Oa])},[]),b1=[].concat(Pa,[yd]).reduce(function(e,t){return e.concat([t,t+"-"+ys,t+"-"+Oa])},[]),kO="beforeRead",LO="read",$O="afterRead",NO="beforeMain",DO="main",jO="afterMain",IO="beforeWrite",VO="write",HO="afterWrite",FO=[kO,LO,$O,NO,DO,jO,IO,VO,HO];function cr(e){return e?(e.nodeName||"").toLowerCase():null}function gn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Do(e){var t=gn(e).Element;return e instanceof t||e instanceof Element}function kn(e){var t=gn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function wd(e){if(typeof ShadowRoot>"u")return!1;var t=gn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function BO(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},s=t.elements[n];!kn(s)||!cr(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(a){var l=o[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function zO(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],s=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(c,u){return c[u]="",c},{});!kn(o)||!cr(o)||(Object.assign(o.style,l),Object.keys(s).forEach(function(c){o.removeAttribute(c)}))})}}const UO={name:"applyStyles",enabled:!0,phase:"write",fn:BO,effect:zO,requires:["computeStyles"]};function ur(e){return e.split("-")[0]}var jo=Math.max,il=Math.min,ws=Math.round;function Sd(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function v1(){return!/^((?!chrome|android).)*safari/i.test(Sd())}function Ss(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,s=1;t&&kn(e)&&(o=e.offsetWidth>0&&ws(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ws(r.height)/e.offsetHeight||1);var a=Do(e)?gn(e):window,l=a.visualViewport,c=!v1()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/o,d=(r.top+(c&&l?l.offsetTop:0))/s,f=r.width/o,g=r.height/s;return{width:f,height:g,top:d,right:u+f,bottom:d+g,left:u,x:u,y:d}}function Cd(e){var t=Ss(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function y1(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&wd(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $r(e){return gn(e).getComputedStyle(e)}function WO(e){return["table","td","th"].indexOf(cr(e))>=0}function oo(e){return((Do(e)?e.ownerDocument:e.document)||window.document).documentElement}function ll(e){return cr(e)==="html"?e:e.assignedSlot||e.parentNode||(wd(e)?e.host:null)||oo(e)}function w1(e){return!kn(e)||$r(e).position==="fixed"?null:e.offsetParent}function GO(e){var t=/firefox/i.test(Sd()),n=/Trident/i.test(Sd());if(n&&kn(e)){var r=$r(e);if(r.position==="fixed")return null}var o=ll(e);for(wd(o)&&(o=o.host);kn(o)&&["html","body"].indexOf(cr(o))<0;){var s=$r(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function _a(e){for(var t=gn(e),n=w1(e);n&&WO(n)&&$r(n).position==="static";)n=w1(n);return n&&(cr(n)==="html"||cr(n)==="body"&&$r(n).position==="static")?t:n||GO(e)||t}function xd(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Aa(e,t,n){return jo(e,il(t,n))}function KO(e,t,n){var r=Aa(e,t,n);return r>n?n:r}function S1(){return{top:0,right:0,bottom:0,left:0}}function C1(e){return Object.assign({},S1(),e)}function x1(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var qO=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,C1(typeof t!="number"?t:x1(t,Pa))};function YO(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ur(n.placement),c=xd(l),u=[Gt,Mn].indexOf(l)>=0,d=u?"height":"width";if(!(!s||!a)){var f=qO(o.padding,n),g=Cd(s),h=c==="y"?Wt:Gt,m=c==="y"?An:Mn,b=n.rects.reference[d]+n.rects.reference[c]-a[c]-n.rects.popper[d],y=a[c]-n.rects.reference[c],v=_a(s),S=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,w=b/2-y/2,C=f[h],E=S-g[d]-f[m],x=S/2-g[d]/2+w,P=Aa(C,x,E),T=c;n.modifiersData[r]=(t={},t[T]=P,t.centerOffset=P-x,t)}}function ZO(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||y1(t.elements.popper,o)&&(t.elements.arrow=o))}const XO={name:"arrow",enabled:!0,phase:"main",fn:YO,effect:ZO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cs(e){return e.split("-")[1]}var JO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function QO(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:ws(n*o)/o||0,y:ws(r*o)/o||0}}function E1(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,g=a.x,h=g===void 0?0:g,m=a.y,b=m===void 0?0:m,y=typeof d=="function"?d({x:h,y:b}):{x:h,y:b};h=y.x,b=y.y;var v=a.hasOwnProperty("x"),S=a.hasOwnProperty("y"),w=Gt,C=Wt,E=window;if(u){var x=_a(n),P="clientHeight",T="clientWidth";if(x===gn(n)&&(x=oo(n),$r(x).position!=="static"&&l==="absolute"&&(P="scrollHeight",T="scrollWidth")),x=x,o===Wt||(o===Gt||o===Mn)&&s===Oa){C=An;var _=f&&x===E&&E.visualViewport?E.visualViewport.height:x[P];b-=_-r.height,b*=c?1:-1}if(o===Gt||(o===Wt||o===An)&&s===Oa){w=Mn;var O=f&&x===E&&E.visualViewport?E.visualViewport.width:x[T];h-=O-r.width,h*=c?1:-1}}var k=Object.assign({position:l},u&&JO),M=d===!0?QO({x:h,y:b},gn(n)):{x:h,y:b};if(h=M.x,b=M.y,c){var F;return Object.assign({},k,(F={},F[C]=S?"0":"",F[w]=v?"0":"",F.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",F))}return Object.assign({},k,(t={},t[C]=S?b+"px":"",t[w]=v?h+"px":"",t.transform="",t))}function RO(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:ur(t.placement),variation:Cs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,E1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,E1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const eT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:RO,data:{}};var cl={passive:!0};function tT(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=o===void 0?!0:o,a=r.resize,l=a===void 0?!0:a,c=gn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,cl)}),l&&c.addEventListener("resize",n.update,cl),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,cl)}),l&&c.removeEventListener("resize",n.update,cl)}}const nT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tT,data:{}};var rT={left:"right",right:"left",bottom:"top",top:"bottom"};function ul(e){return e.replace(/left|right|bottom|top/g,function(t){return rT[t]})}var oT={start:"end",end:"start"};function P1(e){return e.replace(/start|end/g,function(t){return oT[t]})}function Ed(e){var t=gn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Pd(e){return Ss(oo(e)).left+Ed(e).scrollLeft}function sT(e,t){var n=gn(e),r=oo(e),o=n.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(o){s=o.width,a=o.height;var u=v1();(u||!u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:l+Pd(e),y:c}}function aT(e){var t,n=oo(e),r=Ed(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=jo(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=jo(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+Pd(e),c=-r.scrollTop;return $r(o||n).direction==="rtl"&&(l+=jo(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:l,y:c}}function Od(e){var t=$r(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function O1(e){return["html","body","#document"].indexOf(cr(e))>=0?e.ownerDocument.body:kn(e)&&Od(e)?e:O1(ll(e))}function Ma(e,t){var n;t===void 0&&(t=[]);var r=O1(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=gn(r),a=o?[s].concat(s.visualViewport||[],Od(r)?r:[]):r,l=t.concat(a);return o?l:l.concat(Ma(ll(a)))}function Td(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function iT(e,t){var n=Ss(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function T1(e,t,n){return t===h1?Td(sT(e,n)):Do(t)?iT(t,n):Td(aT(oo(e)))}function lT(e){var t=Ma(ll(e)),n=["absolute","fixed"].indexOf($r(e).position)>=0,r=n&&kn(e)?_a(e):e;return Do(r)?t.filter(function(o){return Do(o)&&y1(o,r)&&cr(o)!=="body"}):[]}function cT(e,t,n,r){var o=t==="clippingParents"?lT(e):[].concat(t),s=[].concat(o,[n]),a=s[0],l=s.reduce(function(c,u){var d=T1(e,u,r);return c.top=jo(d.top,c.top),c.right=il(d.right,c.right),c.bottom=il(d.bottom,c.bottom),c.left=jo(d.left,c.left),c},T1(e,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function _1(e){var t=e.reference,n=e.element,r=e.placement,o=r?ur(r):null,s=r?Cs(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(o){case Wt:c={x:a,y:t.y-n.height};break;case An:c={x:a,y:t.y+t.height};break;case Mn:c={x:t.x+t.width,y:l};break;case Gt:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var u=o?xd(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case ys:c[u]=c[u]-(t[d]/2-n[d]/2);break;case Oa:c[u]=c[u]+(t[d]/2-n[d]/2);break}}return c}function ka(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,l=n.boundary,c=l===void 0?AO:l,u=n.rootBoundary,d=u===void 0?h1:u,f=n.elementContext,g=f===void 0?Ta:f,h=n.altBoundary,m=h===void 0?!1:h,b=n.padding,y=b===void 0?0:b,v=C1(typeof y!="number"?y:x1(y,Pa)),S=g===Ta?MO:Ta,w=e.rects.popper,C=e.elements[m?S:g],E=cT(Do(C)?C:C.contextElement||oo(e.elements.popper),c,d,a),x=Ss(e.elements.reference),P=_1({reference:x,element:w,strategy:"absolute",placement:o}),T=Td(Object.assign({},w,P)),_=g===Ta?T:x,O={top:E.top-_.top+v.top,bottom:_.bottom-E.bottom+v.bottom,left:E.left-_.left+v.left,right:_.right-E.right+v.right},k=e.modifiersData.offset;if(g===Ta&&k){var M=k[o];Object.keys(O).forEach(function(F){var U=[Mn,An].indexOf(F)>=0?1:-1,A=[Wt,An].indexOf(F)>=0?"y":"x";O[F]+=M[A]*U})}return O}function uT(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?b1:c,d=Cs(r),f=d?l?m1:m1.filter(function(m){return Cs(m)===d}):Pa,g=f.filter(function(m){return u.indexOf(m)>=0});g.length===0&&(g=f);var h=g.reduce(function(m,b){return m[b]=ka(e,{placement:b,boundary:o,rootBoundary:s,padding:a})[ur(b)],m},{});return Object.keys(h).sort(function(m,b){return h[m]-h[b]})}function dT(e){if(ur(e)===yd)return[];var t=ul(e);return[P1(e),t,P1(t)]}function pT(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,g=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,b=n.allowedAutoPlacements,y=t.options.placement,v=ur(y),S=v===y,w=c||(S||!m?[ul(y)]:dT(y)),C=[y].concat(w).reduce(function(X,J){return X.concat(ur(J)===yd?uT(t,{placement:J,boundary:d,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:b}):J)},[]),E=t.rects.reference,x=t.rects.popper,P=new Map,T=!0,_=C[0],O=0;O<C.length;O++){var k=C[O],M=ur(k),F=Cs(k)===ys,U=[Wt,An].indexOf(M)>=0,A=U?"width":"height",L=ka(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:g,padding:u}),W=U?F?Mn:Gt:F?An:Wt;E[A]>x[A]&&(W=ul(W));var K=ul(W),$=[];if(s&&$.push(L[M]<=0),l&&$.push(L[W]<=0,L[K]<=0),$.every(function(X){return X})){_=k,T=!1;break}P.set(k,$)}if(T)for(var V=m?3:1,I=function(J){var ie=C.find(function(q){var Y=P.get(q);if(Y)return Y.slice(0,J).every(function(R){return R})});if(ie)return _=ie,"break"},B=V;B>0;B--){var te=I(B);if(te==="break")break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}}const fT={name:"flip",enabled:!0,phase:"main",fn:pT,requiresIfExists:["offset"],data:{_skip:!1}};function A1(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function M1(e){return[Wt,Mn,An,Gt].some(function(t){return e[t]>=0})}function gT(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,a=ka(t,{elementContext:"reference"}),l=ka(t,{altBoundary:!0}),c=A1(a,r),u=A1(l,o,s),d=M1(c),f=M1(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const hT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gT};function mT(e,t,n){var r=ur(e),o=[Gt,Wt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*o,[Gt,Mn].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function bT(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=o===void 0?[0,0]:o,a=b1.reduce(function(d,f){return d[f]=mT(f,t.rects,s),d},{}),l=a[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const vT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bT};function yT(e){var t=e.state,n=e.name;t.modifiersData[n]=_1({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const wT={name:"popperOffsets",enabled:!0,phase:"read",fn:yT,data:{}};function ST(e){return e==="x"?"y":"x"}function CT(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,g=n.tether,h=g===void 0?!0:g,m=n.tetherOffset,b=m===void 0?0:m,y=ka(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),v=ur(t.placement),S=Cs(t.placement),w=!S,C=xd(v),E=ST(C),x=t.modifiersData.popperOffsets,P=t.rects.reference,T=t.rects.popper,_=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,O=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(x){if(s){var F,U=C==="y"?Wt:Gt,A=C==="y"?An:Mn,L=C==="y"?"height":"width",W=x[C],K=W+y[U],$=W-y[A],V=h?-T[L]/2:0,I=S===ys?P[L]:T[L],B=S===ys?-T[L]:-P[L],te=t.elements.arrow,X=h&&te?Cd(te):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:S1(),ie=J[U],q=J[A],Y=Aa(0,P[L],X[L]),R=w?P[L]/2-V-Y-ie-O.mainAxis:I-Y-ie-O.mainAxis,le=w?-P[L]/2+V+Y+q+O.mainAxis:B+Y+q+O.mainAxis,ae=t.elements.arrow&&_a(t.elements.arrow),ye=ae?C==="y"?ae.clientTop||0:ae.clientLeft||0:0,we=(F=k==null?void 0:k[C])!=null?F:0,Xe=W+R-we-ye,Qe=W+le-we,pt=Aa(h?il(K,Xe):K,W,h?jo($,Qe):$);x[C]=pt,M[C]=pt-W}if(l){var rt,Je=C==="x"?Wt:Gt,zt=C==="x"?An:Mn,lt=x[E],Nt=E==="y"?"height":"width",Tt=lt+y[Je],ht=lt-y[zt],ot=[Wt,Gt].indexOf(v)!==-1,Ue=(rt=k==null?void 0:k[E])!=null?rt:0,ct=ot?Tt:lt-P[Nt]-T[Nt]-Ue+O.altAxis,wt=ot?lt+P[Nt]+T[Nt]-Ue-O.altAxis:ht,tn=h&&ot?KO(ct,lt,wt):Aa(h?ct:Tt,lt,h?wt:ht);x[E]=tn,M[E]=tn-lt}t.modifiersData[r]=M}}const xT={name:"preventOverflow",enabled:!0,phase:"main",fn:CT,requiresIfExists:["offset"]};function ET(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function PT(e){return e===gn(e)||!kn(e)?Ed(e):ET(e)}function OT(e){var t=e.getBoundingClientRect(),n=ws(t.width)/e.offsetWidth||1,r=ws(t.height)/e.offsetHeight||1;return n!==1||r!==1}function TT(e,t,n){n===void 0&&(n=!1);var r=kn(t),o=kn(t)&&OT(t),s=oo(t),a=Ss(e,o,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((cr(t)!=="body"||Od(s))&&(l=PT(t)),kn(t)?(c=Ss(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Pd(s))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function _T(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function o(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&o(c)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||o(s)}),r}function AT(e){var t=_T(e);return FO.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function MT(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function kT(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var k1={placement:"bottom",modifiers:[],strategy:"absolute"};function L1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function LT(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,s=o===void 0?k1:o;return function(l,c,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},k1,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],g=!1,h={state:d,setOptions:function(v){var S=typeof v=="function"?v(d.options):v;b(),d.options=Object.assign({},s,d.options,S),d.scrollParents={reference:Do(l)?Ma(l):l.contextElement?Ma(l.contextElement):[],popper:Ma(c)};var w=AT(kT([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(C){return C.enabled}),m(),h.update()},forceUpdate:function(){if(!g){var v=d.elements,S=v.reference,w=v.popper;if(L1(S,w)){d.rects={reference:TT(S,_a(w),d.options.strategy==="fixed"),popper:Cd(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(O){return d.modifiersData[O.name]=Object.assign({},O.data)});for(var C=0;C<d.orderedModifiers.length;C++){if(d.reset===!0){d.reset=!1,C=-1;continue}var E=d.orderedModifiers[C],x=E.fn,P=E.options,T=P===void 0?{}:P,_=E.name;typeof x=="function"&&(d=x({state:d,options:T,name:_,instance:h})||d)}}}},update:MT(function(){return new Promise(function(y){h.forceUpdate(),y(d)})}),destroy:function(){b(),g=!0}};if(!L1(l,c))return h;h.setOptions(u).then(function(y){!g&&u.onFirstUpdate&&u.onFirstUpdate(y)});function m(){d.orderedModifiers.forEach(function(y){var v=y.name,S=y.options,w=S===void 0?{}:S,C=y.effect;if(typeof C=="function"){var E=C({state:d,name:v,instance:h,options:w}),x=function(){};f.push(E||x)}})}function b(){f.forEach(function(y){return y()}),f=[]}return h}}var $T=[nT,wT,eT,UO,vT,fT,xT,XO,hT],NT=LT({defaultModifiers:$T}),DT=typeof Element<"u",jT=typeof Map=="function",IT=typeof Set=="function",VT=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function dl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!dl(e[r],t[r]))return!1;return!0}var s;if(jT&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!dl(r.value[1],t.get(r.value[0])))return!1;return!0}if(IT&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(VT&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(DT&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!dl(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var HT=function(t,n){try{return dl(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const FT=hu(HT);var BT=[],xs=function(t,n,r){r===void 0&&(r={});var o=Be.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||BT},a=Be.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=a[0],c=a[1],u=Be.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var m=h.state,b=Object.keys(m.elements);$y.flushSync(function(){c({styles:f1(b.map(function(y){return[y,m.styles[y]||{}]})),attributes:f1(b.map(function(y){return[y,m.attributes[y]]}))})})},requires:["computeStyles"]}},[]),d=Be.useMemo(function(){var g={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[u,{name:"applyStyles",enabled:!1}])};return FT(o.current,g)?o.current||g:(o.current=g,g)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,u]),f=Be.useRef();return g1(function(){f.current&&f.current.setOptions(d)},[d]),g1(function(){if(!(t==null||n==null)){var g=r.createPopper||NT,h=g(t,n,d);return f.current=h,function(){h.destroy(),f.current=null}}},[t,n,r.createPopper]),{state:f.current?f.current.state:null,styles:l.styles,attributes:l.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}};const Kt=p.forwardRef(function({children:t,title:n,onClose:r,icon:o,skipOverflow:s,shadow:a=!0,padding:l=!0,border:c=!0,round:u=!0,className:d,classNameBody:f,size:g="m",titleClass:h=H("gs-utl-mb-2 gs-utl-mt-0.5"),style:m,bg:b,...y},v){return i.jsxs("div",{...y,ref:v,style:m,className:H(["gs-utl-card",d,b||Pu.bg,re.b,u&&re.rnd,c?z.br:re.bT,!s&&"gs-utl-overflow-auto",a&&"gs-utl-shadow-md",l&&g==="l"&&"gs-utl-p-5",l&&g==="m"&&"gs-utl-px-4 gs-utl-py-2",l&&g==="s"&&"gs-utl-px-2 gs-utl-py-1",l&&g==="xs"&&"gs-utl-px-2 gs-utl-py-0.5",l&&g==="x2s"&&"gs-utl-px-0.5"]),children:[(n||r)&&n!==!1&&i.jsxs(N,{className:H("gs-utl-card-title",h),items:"center",children:[i.jsx(D,{className:H("truncate"),grow:!0,children:n}),(r||o)&&i.jsx(D,{onClick:r,className:H("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),children:i.jsx(ne,{icon:o||Z.close,size:"18px"})})]}),i.jsx("div",{className:H("gs-utl-card-body",f),children:t})]})});var pl=(e=>(e.canvas="canvas",e.layers="layers",e))(pl||{}),Nr=(e=>(e.selectParent="selectParent",e.duplicate="duplicate",e.delete="delete",e.symbolCreate="symbolCreate",e.symbolDetach="symbolDetach",e.symbolOverride="symbolOverride",e.symbolOverrideClear="symbolOverrideClear",e))(Nr||{});class zT{constructor(t){this.isOpen=!1,this.isEnabled=!0,this.items=[],this.coordinates={x:0,y:0},this.getItemsForComponent=To(function*(n,r={}){var v;if(!(n!=null&&n.em))return[];const o=n.em.getEditor(),{isSymbol:s,isRoot:a}=o.Components.getSymbolInfo(n),l=!!n.getSymbolOverride(),c=!!n.get("removable"),u=!!n.parent()&&!!n.toolbar.length,d=!!n.get("copyable"),f=[u&&{id:Nr.selectParent,label:"Select parent",onClick:()=>{o.runCommand("core:component-exit",{force:!0})}},d&&{id:Nr.duplicate,label:"Duplicate",onClick:()=>{o.runCommand("tlb-clone")}},!s&&c&&{id:Nr.symbolCreate,label:"Create Symbol",onClick:()=>{o.runCommand(de.symbolAdd)}},s&&a&&{id:Nr.symbolDetach,label:"Detach instance",onClick:()=>{o.runCommand(de.symbolDetach)}},s&&!l&&{id:Nr.symbolOverride,label:"Make overridable",onClick:()=>{o.runCommand(de.symbolOverride,{override:!0})}},s&&l&&{id:Nr.symbolOverrideClear,label:"Clear overridable",onClick:()=>{o.runCommand(de.symbolOverride)}},c&&{id:Nr.delete,label:"Delete",onClick:()=>{o.runCommand("core:component-delete")}}].filter(Boolean),g=n.get("contextMenu"),h={...r,items:f,component:n,editor:o,type:n.get("type")||"default",source:r.source||pl.canvas},m=yield $1(g,h),b=(v=this.store.appEditorStore.sdkComponentsConfig)==null?void 0:v.contextMenu;return yield $1(b,{...h,items:m})}),this.store=t,Ht(this,{},{autoBind:!0})}get publicState(){return{enabled:this.isEnabled}}setPublicState(t){t.enabled!==void 0&&(this.isEnabled=t.enabled)}*showForComponent(t,n){const r=t==null?void 0:t.em;if(!r)return;n.skipSelect||r.selected.hasComponent(t)||r.setSelected(t);const o=yield this.getItemsForComponent(t,n);o.length&&this.show({...n,items:o})}show({items:t,x:n,y:r,w:o,h:s}){this.isOpen=!0,this.coordinates={x:n,y:r,w:o,h:s},this.items=t}hide(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.items=[],this.coordinates={x:0,y:0}}}const $1=async(e,t)=>it(e)?(await e(t)).filter(Boolean):t.items,_d=()=>Lt().contextMenu;function N1(e,t){p.useEffect(()=>{const n="pointerdown",{current:r}=e;if(!r||!t.enabled)return;function o(s){const a=s.target;r&&a&&!r.contains(a)&&t.onTrigger(a)}return document.addEventListener(n,o),()=>{document.removeEventListener(n,o)}},[e.current,t.enabled])}const D1=(e,t)=>{const{boxRectScreen:n,vwHeight:r,initialPos:o="top-right",zoomMultiplier:s=1}=t,a=o.split("-"),l=a[0],c=a[1],u=l==="top"?"bottom":"top",d=c==="right"?"left":"right";p.useLayoutEffect(()=>{const f=e.current;if(f){const{offsetWidth:g,offsetHeight:h}=f,m=n.y-h,b=n.x+n.width-g,y=n.height+h>r,v=m<0,S=v&&!y?u:l,w=b<0?d:c;if(t.setPos(`${S}-${w}`),y){const C=n.y+n.height,E=C<0?m-C:m;f.style.top=v?`${parseInt(`${-E}`)*s}px`:""}else f.style.top=""}},[e.current,n])},j1=e=>{const{ref:t,show:n,node:r,styles:o,update:s,reload:a}=e,l={all:"initial",zIndex:"10",fontFamily:"inherit",...o};p.useEffect(()=>{const c=t.current;if(c&&n){if(!c.__sh){const f=c.attachShadow({mode:"closed"});c.__sh=Ly.createRoot(f)}c.__sh.render(r),Object.keys(l).forEach(f=>{c.style.setProperty(WS(f),l[f],"important")});const u=new MutationObserver(a);u.observe(c,{attributeFilter:["style"]});const d=new MutationObserver(f=>{Array.from(f[0].removedNodes).includes(c)&&a()});return d.observe(c.parentNode,{childList:!0}),()=>{u.disconnect(),d.disconnect()}}},[t.current,n,s])},UT="gs-cmp-popover";function dr({children:e,handler:t,title:n,size:r,padding:o=!0,border:s=!0,overlay:a,clickAway:l,topIcon:c,placement:u="auto",offset:d,open:f,onClose:g,buttonAs:h,className:m,classNameBody:b,buttonProps:y={}}){const[v,S]=p.useState(!!f),[w,C]=p.useState(v),[E,x]=p.useState(null),[P,T]=p.useState(null),_=xs(E,P,{...kd({offset:d}),placement:u}),O=()=>{C(!1),g==null||g()};N1({current:P},{onTrigger:O,enabled:l&&v}),p.useEffect(()=>{C(!!f)},[f]),p.useEffect(()=>{var F;v&&((F=_.update)==null||F.call(_))},[v,_.update]),p.useEffect(()=>{const F=setTimeout(()=>S(w),10);return()=>clearTimeout(F)},[w]);const k=H("w-full transition-colors",...Sh({border:!1,size:"",...y})),M=H(["fixed z-20",c&&"gjs-mt-5",r==="s"&&"w-full max-w-64",r==="sm"&&"w-full max-w-sm",r==="md"&&"w-full max-w-md"]);return i.jsxs(id,{className:H(UT,"relative flex",m),children:[i.jsx(id.Button,{ref:x,as:h,className:k,children:i.jsx("div",{onClick:()=>!Mt(f)&&C(!v),children:t})}),v&&a&&i.jsx("div",{onClick:O,className:H("z-10 fixed inset-0")}),w&&i.jsx(id.Panel,{static:!0,className:M,ref:T,style:_.styles.popper,..._.attributes.popper,children:i.jsx(lr,{as:p.Fragment,show:v,unmount:!1,...Eu,children:i.jsx(Kt,{classNameBody:b,title:n,onClose:O,padding:o,border:s,children:typeof e=="function"?e({close:O}):e})})})]})}function fl({action:e,icon:t,label:n,className:r,items:o,...s}){const a=p.useRef(null),[l,c]=p.useState(),u=a.current,d=H([r,"gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",z.br,Le.xy,re.bb,s.disabled&&$e.disabled,...e?[z.hBgH,"gs-utl-cursor-pointer"]:["gs-utl-cursor-default"]]),f=h=>it(e)&&e({event:h});p.useEffect(()=>{if(!u)return;const h=setTimeout(()=>c(u.getBoundingClientRect()),s.active?0:bh);return()=>clearTimeout(h)},[u,s.active]);const g=()=>{var h;return(h=s.onActive)==null?void 0:h.call(s)};return i.jsxs(N,{ref:a,items:"center",nowrap:!0,className:d,onClick:f,onPointerEnter:g,children:[t&&i.jsx(D,{children:i.jsx(ne,{icon:t,size:se.s})}),i.jsx(D,{className:H(s.classNameLabel,$e.txtEllips),grow:!0,children:n}),!!(o!=null&&o.length)&&i.jsxs(i.Fragment,{children:[i.jsx(D,{children:i.jsx(ne,{icon:Z.chevronRight,size:se.s,className:H("-gs-utl-mr-2")})}),l&&s.active&&i.jsx(U1,{items:o,x:l.left,y:l.top,w:l.width,h:l.height,open:!0})]})]})}function Ln({className:e,as:t="label",bold:n,m:r="gjs-mb-1",size:o="m",capitalize:s=!0,children:a,tip:l,onClear:c,...u}){const d=t,f=!!c;return i.jsxs(d,{className:j(e,r,f&&z.tAo,s&&"gs-utl-capitalize",n&&"gs-utl-font-semibold",o==="s"&&"gs-utl-text-sm",l||f?"gs-utl-flex gs-utl-gap-2 gs-utl-items-center":"gs-utl-block"),...f&&{htmlFor:""},...u,children:[!!l&&i.jsx(xt,{classNameWrp:"gs-utl-normal-case",classNameContent:"gs-utl-max-w-60",title:l,children:i.jsx(ne,{icon:Z.information,size:se.s2x})}),a,f&&i.jsx(mt,{title:"Clear value",onClick:c,icon:{icon:Z.close,size:se.s2x},variant:"out-clear",border:!1,size:"",block:!0})]})}var gl=(e=>(e.m="m",e.s="s",e))(gl||{});const I1="gs-input-field",hl=e=>Mt(e)?e:"",La=(e={})=>j("gs-utl-w-full",z.bgTr,ds.inputText,e.disabled&&z.txtLowEmphasis),Ad=({size:e="m"}={})=>j("gs-input-container gs-utl-w-full",z.bg,re.b,re.rnd,z.br,e==="m"&&Le.xy,e==="s"&&"gs-utl-px-3 gs-utl-py-1"),Es=({className:e,style:t,row:n})=>({className:j(e,n&&`${I1}--row gs-utl-flex gs-utl-gap-2 gs-utl-items-center`),style:t}),Ps=e=>{const{as:t,size:n="m",label:r,description:o,hasClear:s,onChange:a,tip:l,row:c,afterLabel:u}=e,d=!!r,f=!!o,g=s!=null&&s(e)?()=>a==null?void 0:a(""):void 0;if(!d&&!f)return null;const h=i.jsx(i.Fragment,{children:d&&i.jsx(Ln,{as:t,size:n,tip:f?void 0:l,onClear:g,children:r})});return i.jsxs(N,{className:j("gs-label-field-container",c&&"gs-utl-whitespace-nowrap"),col:!0,children:[d&&u?i.jsxs(N,{gap:"s",items:"end",justify:"between",children:[h,u]}):h,f&&i.jsx(Ln,{size:n,tip:l,as:"span",className:j(z.txtLowEmphasis),capitalize:!1,children:o})]})},Re=p.forwardRef(function(t,n){const{className:r,value:o,type:s,placeholder:a,required:l,disabled:c,readOnly:u,name:d,onInput:f,onChange:g,onBlur:h}=t,[m,b]=p.useState(hl(o)),y=La(t),v=p.useRef(null);p.useImperativeHandle(n,()=>v.current,[]),p.useEffect(()=>{b(hl(o))},[o]);const S=(P,T)=>{g==null||g(P,T)},w=P=>{const{key:T}=P;switch(T){case"Escape":return b(o);case"Enter":return S(m)}},C=()=>{S(m),h==null||h()},E=P=>{const T=P.target.value;b(T),f==null||f(T)},x=Es({...t,className:j(I1,r)});return i.jsxs("div",{...x,ref:v,children:[i.jsx(Ps,{...t}),i.jsxs(N,{className:Ad(t),items:"center",gap:"x2s",children:[t.beforeInput,i.jsx(D,{grow:!0,children:i.jsx("input",{className:y,name:d,value:m,onChange:E,placeholder:a,required:l,onBlur:C,onKeyDown:w,readOnly:u,disabled:c,type:s})}),t.afterInput]})]})}),WT=(e,t)=>e.filter(n=>n.id===t)[0]||null,V1=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),GT=(e,t)=>e.label.toLowerCase().indexOf(t.toLowerCase())>=0,H1=H("cursor-default select-none focus:gs-utl-outline-none","z-20 max-h-full"),Md={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}}]};function F1(e){var s;const{option:t,active:n,selected:r}=e,o=((s=e.isSelected)==null?void 0:s.call(e))||!0;return i.jsxs(N,{items:"center",className:H([Le.xy,n&&Pu.bgH]),children:[i.jsx(D,{className:H("truncate"),grow:!0,children:t.label}),i.jsx(D,{className:H("gjs-pl-2"),children:V1(t,r)&&o&&i.jsx(ne,{className:H(z.tA),icon:Z.check,size:se.s})})]})}const KT="gs-select-field";function Pe(e){const{value:t,onChange:n,onBlur:r,onFocus:o,handlerSelected:s,label:a,options:l,includeEmpty:c,className:u,search:d,open:f,caret:g=Z.chevronDown,size:h="m",border:m,emptyState:b="- Select an option -",name:y,required:v,disabled:S,classNameContainer:w,autoFocus:C,labelAs:E}=e,[x,P]=p.useState(null),[T,_]=p.useState(null),[O,k]=p.useState(""),{styles:M,attributes:F}=xs(x,T,Md),U=typeof d=="object"?d.onChange:void 0,A=[...l].filter(J=>d?U||GT(J,O):J),L=d&&(typeof d=="object"&&d.value||O),W=L&&A.length?A[0]:WT(A,t),K=J=>n(J.id),$={id:null,label:b},V=W?s?s(W):W.content||W.label:s?s($):b;c&&A.unshift($);const I=J=>{const{value:ie}=J.target,q=ie.trim();switch(J.key){case"Escape":n(null);break;case"Enter":n((A.length?A[0].id:q)||null);break;case" ":os(J);break}},B=j("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block",re.rnd,ua.focus),te=()=>{r==null||r()},X=Es({...e,className:j(KT,w,"gs-utl-relative gs-utl-w-full",h.includes("s")&&"gs-utl-text-xs")});return i.jsx(xa,{value:W,onChange:K,children:({open:J})=>i.jsxs("div",{...X,children:[a&&i.jsx(xa.Label,{as:E,children:i.jsx(Ps,{as:"span",...e})}),y&&i.jsx("input",{type:"input",name:y,value:(W==null?void 0:W.id)??"",onChange:()=>{},className:H("gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001] gs-utl-absolute"),required:v,disabled:S}),i.jsx(xa.Button,{ref:P,className:B,tabIndex:d?-1:void 0,children:d?i.jsx("input",{autoFocus:C,value:typeof d=="object"&&d.value||O,className:j([u,"gs-utl-w-full",re.rnd,ua.focus,Le.xyS]),onChange:ie=>{k(ie.target.value),U==null||U(ie.target.value)},onKeyDown:I,onClick:os,onBlur:te,onFocus:o}):i.jsx(Kt,{border:m,size:h,title:V,icon:g,shadow:!1,className:H(u),titleClass:""})}),i.jsx(xa.Options,{static:f,className:H1,ref:_,style:M.popper,...F.popper,children:i.jsxs(Kt,{padding:!1,className:H("h-full"),style:{minWidth:`${x==null?void 0:x.offsetWidth}px`,maxHeight:200},children:[!A.length&&d&&d!==!0&&i.jsx("div",{className:H(Le.xy),children:d.empty}),A.map((ie,q)=>i.jsx(xa.Option,{value:ie,children:({active:Y,selected:R})=>i.jsxs(N,{items:"center",className:H([ie.className,Le.xy,Y&&Pu.bgH]),children:[i.jsx(D,{className:H("truncate"),grow:!0,children:ie.content||ie.label}),i.jsx(D,{className:H("gjs-pl-2"),children:V1(ie,W)&&!L&&i.jsx(ne,{className:H(z.tA),icon:Z.check,size:se.s})})]})},q))]})})]})})}const B1=or()&&document.body,kd=(e={})=>({...Md,placement:"right-start",modifiers:[{name:"offset",options:{offset:e.offset||[0,5]}},{name:"flip",options:{boundary:e.boundary??B1}},{name:"preventOverflow",options:{boundary:e.boundary??B1}}]}),z1=kd(),ml="gs-ctx-menu-list",U1=oe(function({open:t,items:n,x:r,y:o,w:s,h:a}){const l=_d(),[c,u]=p.useState(),[d,f]=p.useState(null),g=p.useMemo(()=>({getBoundingClientRect:()=>new DOMRect(r,o,s,a)}),[r,o,s,a,t]),{styles:h,attributes:m}=xs(g,d,z1),b=j(`${ml}-wrp gs-utl-z-20`),y=j(`${ml} gs-utl-z-20`),v=j(`${ml}-body gs-utl-max-w-56`),S=j(`${ml}-item`),w="gs-utl-max-w-40",C=E=>{const{action:x,onClick:P}=E;if(x||P)return T=>{const _={editor:l.store.appEditorStore.editor,...T};it(x)?(x(_),l.hide()):it(P)&&(P(_),l.hide())}};return i.jsx("div",{className:b,ref:f,style:h.popper,...m.popper,children:i.jsx(lr,{show:!!t,...ca,unmount:!1,children:i.jsx(Kt,{padding:!1,className:y,classNameBody:v,children:n.map((E,x)=>p.createElement(fl,{...E,key:E.id??x,className:S,classNameLabel:w,action:C(E),onActive:()=>u(E),active:c===E}))})})})}),Ld="gs-cmp-tooltip";function xt({className:e,classNameWrp:t,classNameContent:n,children:r,title:o,onClick:s,inline:a,size:l}){const[c,u]=p.useState(!1),[d,f]=p.useState(!1),g=Mt(l),[h,m]=p.useState(null),[b,y]=p.useState(null),v=xs(h,b,{...kd(),placement:"bottom"}),S=H(`${Ld}-target`,!a&&"block",e,!s&&"cursor-auto"),w=H(`${Ld}-content`,n,"fixed z-30 text-sm",!g&&!n&&"whitespace-nowrap",l==="s"&&"w-60");return p.useEffect(()=>{var C;c&&((C=v.update)==null||C.call(v))},[c,v.update]),p.useEffect(()=>{const C=setTimeout(()=>u(d),10);return()=>clearTimeout(C)},[d]),i.jsxs("div",{className:H(Ld,"relative",t),children:[i.jsx("span",{ref:m,className:S,onMouseEnter:()=>o&&f(!0),onMouseLeave:()=>f(!1),children:i.jsx("div",{className:H(a&&"inline-block"),onClick:()=>{f(!1),s==null||s()},children:r})}),!!d&&i.jsx("div",{className:w,ref:y,style:v.styles.popper,...v.attributes.popper,children:i.jsx(lr,{show:!!c,unmount:!1,...Eu,children:i.jsx(Kt,{className:H(yh.txt),bg:yh.bg,size:"s",border:!1,children:o})})})]})}function mt({children:e,title:t,classNameWrp:n,...r}){return i.jsx(xt,{title:t,classNameWrp:n,children:i.jsx(Ie,{...r,children:e})})}var It=(e=>(e.Info="info",e.Error="error",e.Success="success",e.Warning="warning",e))(It||{});const qT={[It.Info]:z.bgA,[It.Error]:"bg-red-500",[It.Success]:"bg-green-500",[It.Warning]:"bg-orange-400"},YT=p.forwardRef(function(t,n){const r={[It.Info]:Z.informationVariant,[It.Error]:Z.fire,[It.Success]:Z.checkBold,[It.Warning]:Z.alertRhombus},{children:o,className:s,content:a,id:l,buttons:c=[],variant:u=It.Info,autoHideTimeout:d=3e3}=t,f=p.useRef(null),g=p.useRef(),h=r[u],m=qT[u];p.useImperativeHandle(n,()=>f.current,[]);const b=()=>{var w;return(w=t.onDismiss)==null?void 0:w.call(t,l)},y=()=>{d&&(g.current=setTimeout(b,d))},v=()=>g.current&&clearTimeout(g.current);p.useEffect(()=>(y(),v),[]);const S=a||o;return i.jsx(Kt,{className:G(s,"overflow-hidden relative"),ref:f,onPointerEnter:v,onPointerLeave:y,children:i.jsxs(N,{space:"m",items:"center",className:G(Le.y),children:[i.jsx(D,{className:G(m,re.pill,"text-white gjs-p-1"),children:i.jsx(ne,{icon:h,size:se.s})}),i.jsx(D,{grow:!0,className:G("gjs-pr-3"),children:i.jsxs(N,{col:!0,space:"xs",children:[i.jsx(D,{className:G("text-lg font-medium leading-6"),children:t.header}),S&&i.jsx(D,{className:G(z.txtLowEmphasis),children:S}),!!c.length&&i.jsx(N,{space:"m",justify:"end",children:c.map(({id:w,...C})=>i.jsx(Ie,{...C},w))})]})}),i.jsx(D,{className:G("absolute top-1 right-1"),children:i.jsx(mt,{onClick:b,border:!1,children:i.jsx(ne,{icon:Z.close,size:se.s})})})]})})}),ZT=oe(p.forwardRef(function({className:t,toasts:n,onDismiss:r,...o},s){const a=m2({});return i.jsx("div",{className:G(t,"w-80 gs-utl-z-30"),...o,ref:a,children:n.map(l=>i.jsx(YT,{...l,className:G("gjs-mb-2"),onDismiss:r},l.uuid||l.id))})}));var bl=(e=>(e.self="self",e.cloud="cloud",e))(bl||{}),so=(e=>(e.image="image",e.video="video",e))(so||{}),$n=(e=>(e.componentOutline="componentOutline",e.preview="preview",e.fullscreen="fullscreen",e.showCode="showCode",e.showImportCode="showImportCode",e.clearCanvas="clearCanvas",e.store="store",e.undo="undo",e.redo="redo",e))($n||{}),W1=(e=>(e.text="text",e.number="number",e.color="color",e.selectFont="selectFont",e.select="select",e.radio="radio",e))(W1||{}),Io=(e=>(e.left="left",e.right="right",e.top="top",e.bottom="bottom",e))(Io||{}),Vo=(e=>(e.popover="popover",e.absolute="absolute",e.static="static",e.dialog="dialog",e))(Vo||{}),Me=(e=>(e.web="web",e.email="email",e.document="document",e))(Me||{}),Nn=(e=>(e.dark="dark",e.light="light",e.auto="auto",e))(Nn||{}),vl=(e=>(e.browser="browser",e.self="self",e.cloud="cloud",e))(vl||{});const $d=()=>{const{baseApiUrl:e}=Vs();return`${e}/assets/sdk`},XT=e=>`${$d()}/${e}`,JT=async(e,t,n)=>{const r=await Qn.get($d(),{params:{projectId:t,identityId:n,d:window.location.hostname,licenseKey:e}});return((r==null?void 0:r.result)??[]).map(({asset:o,cdnUrl:s})=>({...o,size:parseInt(o.size),src:s}))},QT=async(e,t,n,r)=>{const o=await Qn.post($d(),{body:JSON.stringify({fileMetadata:e,projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return o==null?void 0:o.result},RT=async(e,t)=>await Qn.put(t,{body:e,rawText:!0}),e_=async(e,t,n,r)=>Promise.all(e.map(o=>QT({name:o.name,size:o.size,type:o.type},t,n,r).then(async s=>{if(!s)throw new Error("No asset");const{asset:a,cdnUrl:l,uploadUrl:c}=s,u=await RT(o,c);if(u instanceof Error)throw console.error(u),new Error("Upload failed");return{...a,size:parseInt(a.size),src:l,type:so.image}}))),t_=async(e,t,n,r)=>{const o=await Qn.delete(XT(e),{body:JSON.stringify({projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return o==null?void 0:o.result},G1=async(e,t,n,r)=>Promise.all(e.map(o=>t_(o.id||o.src,t,n,r)));function Dr(e,t,n){let r,o,s,a,l;const c=t===void 0?100:t;function u(){const f=Date.now()-a;f<c&&f>=0?r=setTimeout(u,c-f):(r=null,n||(l=e.apply(s,o),s=o=null))}const d=function(){s=this,o=arguments,a=Date.now();const f=n&&!r;return r||(r=setTimeout(u,c)),f&&(l=e.apply(s,o),s=o=null),l};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(l=e.apply(s,o),s=o=null,clearTimeout(r),r=null)},d}const $a=e=>e.replaceAll('"',"").replaceAll("'",""),Ho=e=>e.includes(",")?e:/\s/.test(e)?`"${$a(e)}"`:$a(e),K1=(e,t,n)=>({family:e,variant:t,...n}),Na=(e,t)=>{e=Ho(e);const{menuVariant:n,variants:r}=t;return{family:e,familyLabel:$a(e),menuVariant:n&&K1(Ho(`menuFont-${$a(e)}`),"regular",n),variants:Object.assign({},...Object.entries(r).map(([o,s])=>({[o]:K1(e,o,s)})))}},Nd=(e,t)=>{var l;const n=Na(e.family,e),r=n.menuVariant??((l=Object.values(n.variants))==null?void 0:l[0]);if(!r)return"Arial, Helvetica, sans-serif";const{source:o,descriptors:s}=r,a=$a(r.family);if(!t){const c=new FontFace(a,`url("${o}")`,s),u=Array.from(document.fonts.values()).filter(d=>d.family===a);for(const d of u)document.fonts.delete(d);document.fonts.add(c),c.load().catch(()=>{})}return Ho(a)},pr=", sans-serif",q1=["Arial, Helvetica"+pr,"Arial Black, Gadget"+pr,"Brush Script MT"+pr,"Comic Sans MS, cursive"+pr,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+pr,"Impact, Charcoal"+pr,"Lucida Sans Unicode, Lucida Grande"+pr,"Tahoma, Geneva"+pr,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+pr,"Verdana, Geneva"+pr].map(e=>({id:e,label:e.split(",")[0]})),n_=String.raw,jr=(e,t)=>{if(!t)return"";const n=e[0],r=e[1];return`${n}${t}${r}`},r_=({family:e,source:t,descriptors:n})=>{const{display:r,ascentOverride:o,descentOverride:s,featureSettings:a,lineGapOverride:l,stretch:c,style:u,unicodeRange:d,weight:f}=n??{},g=[jr`font-ascent-override: ${o};`,jr`font-display: ${r};`,jr`font-descent-override: ${s};`,jr`font-feature-settings: ${a};`,jr`font-line-gap-override: ${l};`,jr`font-stretch: ${c};`,jr`font-style: ${u};`,jr`font-unicode-range: ${d};`,jr`font-weight: ${f};`].filter(Boolean);return n_`
    @font-face {
      font-family: ${e};
      src: url('${t}');
      ${g.join(`
`)}
    }
  `},o_=e=>{let t="";for(const n of e)for(const r of Object.values(n.variants))t+=r_(r)+`
`;return t.trim()},Y1=(e={})=>{const t=Object.entries(e).map(([r,o])=>Na(r,o)),n=o_(t);return n?`<style data-project-fonts>${n}</style>`:""},s_=e=>e.sort((t,n)=>t.familyLabel<n.familyLabel?-1:t.familyLabel>n.familyLabel?1:0),a_=e=>e.sort((t,n)=>t.id<n.id?-1:t.id>n.id?1:0),Z1=e=>!!e.id,Os=e=>t=>(t.tagName||"").toLowerCase()===e,fr=(...e)=>e.map(t=>`[data-gjs-type="${t}"]`).join(","),i_=(e,...t)=>{var n;return t.indexOf((n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase())>=0},Ts=(e,...t)=>{var n;return!!e&&t.indexOf((n=e.tagName)==null?void 0:n.toLowerCase())>=0},ao=(e,t)=>{var n;return(n=e==null?void 0:e.classList)==null?void 0:n.contains(t)},Da=(e,t)=>{var n;return!!((n=e==null?void 0:e.hasAttribute)!=null&&n.call(e,t))},ja=(e,t)=>{const n=e.Blocks.get(t);return n?n.collection.indexOf(n):-1},l_=e=>e.replace(/[^a-z0-9.]/gi,"_").toLowerCase(),Dd=(e,t,n="html")=>{const{Pages:r}=e,o=qt({page:t,key:"slug"})??"";return`${r.getMain()===t?"index":lu(o||t.getName())}.${n}`},c_=(e,t)=>{const{toolbar:n}=e;n.some(o=>o.id===t.id)||(n.unshift(t),e.set("toolbar",[...n]))},yl="custom-html-body",wl="data-custom-html-body",X1="data-global-custom-html-head",J1="data-global-custom-html-body",Q1="global",u_=function(e,t){const n=o=>{if(!o)return e.em.logError("loadGlobalHead: document not found");const s=jd(t.appStore);let a=o.querySelector(`[${X1}]`);a||(a=o.createElement("div"),a.setAttribute(X1,"true"),o.head.insertBefore(a,o.head.firstChild));const l=Y1(s.fonts),c=s.customCodeHead,u=[l,c].filter(d=>!!d).join(`
`);a.innerHTML=u,Qg(a)},r=o=>{if(!o)return e.em.logError("loadGlobalBody: document not found");const s=jd(t.appStore);let a=o.querySelector(`[${J1}]`);if(!a){a=o.createElement("div"),a.setAttribute(J1,"true");const l=o.querySelector('[data-gjs-type="wrapper"]');l==null||l.appendChild(a)}a.innerHTML=s.customCodeBody||"",Qg(a)};e.on(e.Canvas.events.frameLoad,o=>{var s;return n((s=o.el.contentWindow)==null?void 0:s.document)}),e.on(e.Canvas.events.frameLoadBody,o=>{var s;return r((s=o.el.contentWindow)==null?void 0:s.document)}),e.on(cn.pageSettingsUpdate,o=>{var a,l;if(o.page)return;const s=(l=(a=e.Canvas.getFrames()[0])==null?void 0:a.view)==null?void 0:l.getDoc();n(s),r(s)}),e.Components.addType(yl,{isComponent:o=>Da(o,wl),model:{defaults:{attributes:{[wl]:!0},locked:!0,layerable:!1},toHTML:()=>""}}),e.on(e.events.projectLoad,()=>{const{appStore:o}=t,{globalPageSettings:s}=o.projectDataCustom;let a=(s==null?void 0:s.customCodeHead)||"",l=(s==null?void 0:s.customCodeBody)||"";e.Pages.getAll().forEach(c=>{const u=c.getMainComponent(),d=u.head.components(),f=[];d.forEach(m=>{m.has(Q1)&&f.push(m)}),f.forEach(m=>{const b=m.toHTML();a.includes(b)||(a+=b),m.remove()});const g=[];u.findType(yl).forEach(m=>{m.has(Q1)&&g.push(m)}),g.forEach(m=>{const b=m.getInnerHTML();l.includes(b)||(l+=b),m.remove()})}),(a||l)&&o.setProjectDataCustom({globalPageSettings:{...s,customCodeHead:a,customCodeBody:l}})})},R1=e=>{const t=e.getDirtyCount()||0;e.em.set({changesCount:t+1},{})},em=e=>!!e.getSymbolOverride()?i.jsx(ne,{icon:Z.rhombusOutline,size:se.s3x}):i.jsx(xu,{className:j("gs-cmp-svg-icon gs-utl-w-[16px] gs-utl-fill-current"),svg:e.getIcon()}),tm=e=>{e.getModel().set({changesCount:e.getDirtyCount()+1})},d_=e=>e&&e===e.em.Pages.getMain(),et={title:({cmp:e})=>e.tagName==="title",favicon:({cmp:e})=>{var t;return e.tagName==="link"&&((t=e.attributes.attributes)==null?void 0:t.rel)==="icon"},description:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="description"},keywords:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="keywords"},socialTitle:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:title"},socialImage:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:image"},socialDescription:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:description"},charset:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.charset)},viewport:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="viewport"},robots:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="robots"},generator:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="generator"}},nm=e=>{for(const t in et){const n=t;if(et[n]({cmp:e}))return n}},rm=(e,t,n)=>{const r=[];let o=n;return e.getMainComponent().findType(yl).forEach(s=>{r.push(s),o=(o||"")+s.getInnerHTML()}),{components:r,html:o,changed:o!==t}},p_=(e,t)=>{const n={...t},r=e.getMainComponent(),{head:o}=r;if(o){const a=[],l=o.components();l.forEach(u=>{et.title({cmp:u})?(u.components(t.title),delete n.title):et.favicon({cmp:u})?(u.addAttributes({href:t.favicon}),delete n.favicon):et.description({cmp:u})?(u.addAttributes({content:t.description}),delete n.description):et.keywords({cmp:u})?(u.addAttributes({content:t.keywords}),delete n.keywords):et.socialTitle({cmp:u})?(u.addAttributes({content:t.socialTitle}),delete n.socialTitle):et.socialDescription({cmp:u})?(u.addAttributes({content:t.socialDescription}),delete n.socialDescription):et.socialImage({cmp:u})?(u.addAttributes({content:t.socialImage}),delete n.socialImage):nm(u)||a.push(u)});const c=e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);c.head&&(l.remove(a),c.head.components&&l.add(c.head.components),delete n.customCodeHead)}const s=rm(e,n.customCodeBody);if(s.changed){const[a,...l]=s.components;(a||r.append({type:yl})[0]).components(n.customCodeBody),l.forEach(u=>u.remove()),delete n.customCodeBody}return e.set("settings",n)},f_=e=>{const t={...e.get("settings")??{}},n=e.getMainComponent(),{head:r}=n;if(r){const o=[];r.components().forEach(s=>{const{content:a,href:l}=s.getAttributes({noClass:!0,noStyle:!0});et.title({cmp:s})?t.title=s.getInnerHTML():et.favicon({cmp:s})?t.favicon=l:et.description({cmp:s})?t.description=a:et.keywords({cmp:s})?t.keywords=a:et.socialTitle({cmp:s})?t.socialTitle=a:et.socialDescription({cmp:s})?t.socialDescription=a:et.socialImage({cmp:s})?t.socialImage=a:nm(s)||o.push(s.toHTML())}),o.length&&(t.customCodeHead=o.join(`
`))}return t.customCodeBody=rm(e,t.customCodeBody).html,t},g_=(e,t)=>{e.getModel().set("customData",{..._s(e),...t})},_s=e=>e.getModel().get("customData")??{},jd=e=>(e==null?void 0:e.projectDataCustom.globalPageSettings)??{},qt=e=>{const{page:t,key:n,appEditorStore:r,def:o,defPage:s}=e;return t?f_(t)[n]??s:jd(r)[n]??o},io=(e,t)=>{const n=e.em.getEditor(),o=_s(n).globalPageSettings||{};return qt({page:e,key:t})||o[t]},om=(e,t)=>{const n=(e==null?void 0:e.getName())??"",r={page:e,appEditorStore:t,def:"",pageDef:""};return{name:n,slug:qt({...r,key:"slug",defPage:lu(n)}),title:qt({...r,key:"title",defPage:n}),description:qt({...r,key:"description"}),favicon:qt({...r,key:"favicon"}),keywords:qt({...r,key:"keywords"}),socialTitle:qt({...r,key:"socialTitle",defPage:n}),socialImage:qt({...r,key:"socialImage"}),socialDescription:qt({...r,key:"socialDescription"}),customCodeHead:qt({...r,key:"customCodeHead"}),customCodeBody:qt({...r,key:"customCodeBody"})}},sm=(e,t)=>{var n;return(n=e.Styles.getSectors().find(r=>!!r.getProperty(t)))==null?void 0:n.getProperty(t)},h_=(e,t,n)=>{const r=sm(e,t);return r==null?void 0:r.getProperty(n)};class am{constructor(t,n){this.assetsStore=t,this.layoutPanelId=n,this.itemLayout=void 0,this.isLoadingAssets=!1,this.typeFilter=void 0,this.searchValue="",this.customTypes=void 0,this.customProviders=void 0,this.providerFilter=void 0,this.customAssetProps=void 0,this.customPages=void 0,this.totalItems=void 0,this.optionalType=!1,this.optionalProvider=!0,Ht(this,{},{autoBind:!0}),this.initTypeFilter(),this.initProviderFilter(),this.initOptionalType(),this.loadAssetsDebounced=Dr(this.loadAssets,this.searchDebounceMs)}get typeFilterOptions(){return this.customTypes??[]}get providers(){return this.assetsStore.allProviders.map(t=>({...t,types:Array.isArray(t.types)?t.types:[t.types]}))}get providerFilterOptions(){return this.providers.filter(t=>(!this.typeFilter||t.types.includes(this.typeFilter))&&(!this.customProviders||this.customProviders.includes(t.id)))}get provider(){return this.providers.find(t=>t.id===this.providerFilter)}get assetPropsFromPages(){if(!this.customPages)return;const t=[];for(const n of this.customPages)t.push(...n.items);return t}get assetProps(){if(!!!this.assetPropsFromPages&&this.isLoadingAssets)return[];const n=this.customAssetProps??this.assetPropsFromPages??this.assetsStore.projectAssetProps??[];return this.typeFilter?n.filter(r=>r.type===this.typeFilter):n}get onProviderOrProjectDelete(){const{provider:t,assetsStore:n}=this;return t?t.onDelete:n.onProjectDelete}get t(){return this.assetsStore.t}get isLoading(){return this.assetsStore.isLoadingAssets||this.isLoadingAssets}get handleDelete(){return this.onProviderOrProjectDelete&&this.handleDeleteCallback}get shouldLoadNextPage(){var n;const t=(n=this.customPages)==null?void 0:n.at(-1);return t?!t.isLastPage:!1}get reloadOnInput(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.reloadOnInput)??!1}get searchDebounceMs(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.debounceMs)??1e3}initOptionalType(){this.setOptionalType(!1)}initOptionalProvider(){this.setOptionalProvider(!1)}initTypeFilter(){this.setTypeFilter(so.image)}initProviderFilter(){var t;this.setProviderFilter((t=this.assetsStore.sdkAssetConfig)==null?void 0:t.providerId)}setOptionalType(t){this.optionalType=t}setOptionalProvider(t){this.optionalProvider=t}setTypeFilter(t){this.typeFilter=t}setProviderFilter(t){this.providerFilter=t}setSearchValue(t){this.searchValue=t,this.reloadOnInput&&this.loadAssetsDebounced()}setCustomTypes(t){this.customTypes=t}setCustomProviders(t){this.customProviders=t}setCustomAssetProps(t){this.customAssetProps=t}setCustomPages(t){this.customPages=t}setItemLayout(t){this.itemLayout=t}setIsLoadingAssets(t){this.isLoadingAssets=t}selectProjectAssets(){this.setCustomAssetProps(void 0),this.setCustomPages(void 0),this.setItemLayout(void 0)}async loadProviderAssets(t){var l,c,u,d;const{assetsStore:n}=this,{editor:r}=n;if(!r||!this.provider)return;t&&(this.setCustomAssetProps(void 0),this.setCustomPages(void 0));const o=((l=this.customPages)==null?void 0:l.length)??0,s=(u=(c=this.customPages)==null?void 0:c.at(-1))==null?void 0:u.nextPageCustomData,a=await this.provider.onLoad({editor:r,assetTypeFilter:this.typeFilter,pageIndex:o,searchValue:this.searchValue,pageCustomData:s})??[];if(Array.isArray(a)){const f=a.map(n.toAssetProps);this.setCustomAssetProps(f)}else{const f={...a,items:a.items.map(n.toAssetProps)};this.setCustomPages([...this.customPages??[],f])}this.setItemLayout((d=this.provider)==null?void 0:d.itemLayout)}async loadAssets(t=!0){const{assetsStore:n}=this,{toastStore:r}=n.store;try{this.provider?(this.setIsLoadingAssets(!0),await this.loadProviderAssets(t)):this.selectProjectAssets()}catch(o){console.error(o),r.addError("assets-error-get",this.t("errorLoad"))}finally{this.setIsLoadingAssets(!1)}}async reloadAssets(t){const{assetsStore:n}=this,{cachedOnLoadAssetProps:r}=n;await this.loadAssets(t==null?void 0:t.clearExisting),!this.provider&&r&&(n.cachedOnLoadAssetProps=void 0,await n.loadProjectAssets())}async handleDeleteCallback(t){const{assetsStore:n,onProviderOrProjectDelete:r}=this,{appEditorStore:o}=n.store,{editor:s}=o;if(!(!s||!r))try{n.setIsLoadingAssets(!0),await r({assets:[n.toAsset(t)],assetProps:[t],editor:s,loadAssets:a=>this.reloadAssets(a)})}catch(a){console.error(a),n.store.toastStore.addError("assets-error-delete",{header:this.t("errorDelete"),content:a==null?void 0:a.message})}finally{n.setIsLoadingAssets(!1)}}}const im=e=>Lt().assetsStore.assetPanelStores[e];class m_{constructor(t){this.store=t,this.isLoadingAssets=!1,this.mainPanelId=`main-${th()}`,this.assetPanelStores={},this.cachedOnLoadAssetProps=void 0,this.projectAssetProps=void 0,this.allProviders=[],this.assetPanelStores[this.mainPanelId]=new am(this,this.mainPanelId),this.setAllProviders(this.isUsingAssetCloud?[this.userProvider]:[]),Ht(this,{},{autoBind:!0})}get sdkAssetConfig(){return this.store.appEditorStore.sdkOptions.assets}get isUsingAssetCloud(){var t;return((t=this.sdkAssetConfig)==null?void 0:t.storageType)===bl.cloud}get storageType(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.storageType}get isSelfStorage(){return this.storageType===bl.self}get editor(){return this.store.appEditorStore.editor}get customOnLoad(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onLoad}get customOnDelete(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onDelete}get customOnUpload(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onUpload}get onCloudOrCustomUpload(){const{appEditorStore:t}=this.store,{sdkProps:n}=t,o=n.options.licenseKey,s=t.sdkProjectId,a=t.sdkIdentityId,l=({files:c})=>e_(c,o,s,a);return this.isUsingAssetCloud?l:this.customOnUpload}get onProjectDelete(){const{customOnDelete:t,isSelfStorage:n,isUsingAssetCloud:r}=this;return n?t?async o=>{await t(o),this.deleteFromProjectAssets(o)}:void 0:r?async o=>{var c,u;const{sdkOptions:s}=this.store.appEditorStore,a=(c=s.project)==null?void 0:c.id,l=(u=s.identity)==null?void 0:u.id;await G1(o.assetProps,s.licenseKey,a,l),this.deleteFromProjectAssets(o)}:this.deleteFromProjectAssets}get t(){return this.store.i18nStore.tScoped("assetManager")}get userProvider(){var l,c;const{appEditorStore:t}=this.store,{sdkOptions:n}=t,r=(l=n.project)==null?void 0:l.id,o=(c=n.identity)==null?void 0:c.id,s=n.licenseKey;return{id:"grapesjs-user-provider",label:()=>this.t("userAssets"),types:so.image,onLoad:()=>JT(s,r,o),onDelete:async u=>{const{assetProps:d,loadAssets:f}=u;await G1(d,s,r,o),this.deleteFromProjectAssets(u),await f({clearExisting:!1})}}}onEditor(){const t=Dr(()=>!this.loadProjectAssets()),n=this.store.appEditorStore.editor;this.addSdkProviders();const r=n.Assets.events.all;n.on(r,t),this.loadProjectAssets()}addSdkProviders(){var r;const t=((r=this.sdkAssetConfig)==null?void 0:r.providers)??[],n=it(t)?t({providers:Zr(this.allProviders)}):[...this.allProviders,...t];this.setAllProviders(n)}addProvider(t,n=this.allProviders.length){const r=[...this.allProviders];let o=this.allProviders.findIndex(a=>a.id===t.id);const s=o!==-1;r.splice(n,0,t),s&&(o>=n&&(o+=1),r.splice(o,1)),this.setAllProviders(r)}hasType(t){return!!this.allProviders.find(n=>ft(n.types)?n.types===t:n.types.includes(t))}createAssetManager(t){const n=new am(this,t);this.assetPanelStores[t]=n}removeAssetManager(t){delete this.assetPanelStores[t]}async loadProjectAssets(){const{editor:t,isSelfStorage:n,cachedOnLoadAssetProps:r,customOnLoad:o}=this,{toastStore:s}=this.store;let a;if(t){try{if(this.setIsLoadingAssets(!0),n&&o)if(r)a=r;else{const l=await o({editor:t});this.cachedOnLoadAssetProps=l.map(this.toAssetProps),a=this.cachedOnLoadAssetProps}else a=t.Assets.getAll().map(this.toAssetProps)}catch(l){console.error(l),s.addError("assets-error-load",{header:this.t("errorLoad"),content:l==null?void 0:l.message})}finally{this.setIsLoadingAssets(!1)}a&&this.setProjectAssetProps(a)}}deleteFromProjectAssets({assets:t,editor:n,assetProps:r}){const{cachedOnLoadAssetProps:o,customOnLoad:s}=this;if(s){if(o){const a=r.map(l=>l.id);this.cachedOnLoadAssetProps=o.filter(({id:l})=>!a.includes(l)),this.setProjectAssetProps(this.cachedOnLoadAssetProps)}}else t.forEach(a=>n.Assets.remove(a)),R1(n)}addToProjectAssets(t){const n=this.store.appEditorStore.editor,{cachedOnLoadAssetProps:r,customOnLoad:o}=this;o?r&&(this.cachedOnLoadAssetProps=[...t,...r],this.setProjectAssetProps(this.cachedOnLoadAssetProps)):(n.Assets.add(t),R1(n))}async handleUpload(t){var s,a;const{editor:n,onCloudOrCustomUpload:r}=this,{toastStore:o}=this.store;if(!(!n||!r))try{this.setIsLoadingAssets(!0);const l=((s=t.dataTransfer)==null?void 0:s.files)||((a=t.target)==null?void 0:a.files)||[],c=Array.from(l),u=await r({files:c,editor:n});u!=null&&u.length?this.addToProjectAssets(u.map(this.toAssetProps)):console.warn("No assets returned from the upload handler. Ensure to return an array of assets.")}catch(l){console.error(l),o.addError("assets-error-upload",{header:this.t("errorUpload"),content:l==null?void 0:l.message})}finally{this.setIsLoadingAssets(!1)}}uploadFile(t){var n;return(n=this.editor)==null?void 0:n.Assets.FileUploader().uploadFile(t)}isAsset(t){return!!t.getSrc}toAssetProps(t){if(this.isAsset(t)){const r=t;return{...r.attributes,id:r.attributes.id||r.getSrc(),src:r.getSrc(),name:r.attributes.name??r.getFilename(),type:r.attributes.type??r.getType()??so.image,asset:r}}return{...t,type:t.type||so.image,id:t.id||t.src}}toAsset(t){const{editor:n}=this.store.appEditorStore;if(n)return t.asset??new n.AssetManager.Asset(t)}setProjectAssetProps(t){this.projectAssetProps=t}setIsLoadingAssets(t){this.isLoadingAssets=t}setAllProviders(t){this.allProviders=t}}const Fo=()=>Lt().assetsStore;class b_{constructor(t){var r;this.store=t,this.fonts={},Ht(this,{},{autoBind:!0});const n=(r=this.sdkFontOptions)==null?void 0:r.default;this.sdkDefaultFonts=it(n)?n({baseDefault:q1}):n}get staticFonts(){return this.sdkDefaultFonts?this.sdkDefaultFonts.map(t=>ft(t)?{id:t,label:t}:Z1(t)?t:null).filter(t=>!!t):q1}get defaultWebFonts(){return this.sdkDefaultFonts?this.sdkDefaultFonts.filter(n=>!ft(n)&&!Z1(n)).map(n=>Na(n.family,n)):[]}get sortedFonts(){return s_(Object.values(this.fonts))}get fontFamilyOptions(){const t=n=>({id:n.family,label:n.familyLabel});return a_([...this.staticFonts,...Object.values(this.fonts).map(t)])}get sdkFontOptions(){return this.store.appEditorStore.sdkOptions.fonts}get enableFontManager(){var t;return(t=this.sdkFontOptions)==null?void 0:t.enableFontManager}get sdkShowProjectFonts(){const{showProjectFonts:t,enableFontManager:n}=this.sdkFontOptions||{};return Mt(t)?t:n}get sdkAddFonts(){const{addFonts:t,enableFontManager:n}=this.sdkFontOptions||{};return Mt(t)?t:n}loadFonts(){this.loadProjectFonts(),this.loadDefaultFonts()}loadProjectFonts(){const{editor:t}=this.store.appEditorStore;if(!t)return;const{globalPageSettings:n}=_s(t)??{},{fonts:r}=n??{};if(r)for(const[o,s]of Object.entries(r)){const a=Na(o,s);this.addFont(a,{skipUpdate:!0})}}loadDefaultFonts(){const{editor:t}=this.store.appEditorStore;if(t){for(const n of this.defaultWebFonts)this.addFont(n,{overwrite:!1,skipUpdate:!0});this.updateProjectFonts(t)}}getFont(t){return t=Ho(t),this.fonts[t]}addFont(t,{skipUpdate:n,overwrite:r=!0}={}){const o=Na(t.family,t),{editor:s}=this.store.appEditorStore;if(!s)return;const{family:a}=o;!r&&this.fonts[a]||(this.fonts[a]=o,n||this.updateProjectFonts(s))}removeFont(t){t=Ho(t);const{editor:n}=this.store.appEditorStore;n&&(delete this.fonts[t],this.updateProjectFonts(n))}updateProjectFonts(t){const r={..._s(t).globalPageSettings,fonts:Zr(this.fonts)};this.store.appEditorStore.setProjectDataCustom({globalPageSettings:r}),tm(t),t.trigger(cn.pageSettingsUpdate,{data:r})}}const Sl=()=>Lt().fontsStore;class v_{constructor(t){this.store=t,Ht(this,{},{autoBind:!0})}t(t,n={}){var o;const{editor:r}=this.store.appEditorStore;return((o=r==null?void 0:r.I18n)==null?void 0:o.t(t,n))||""}tScoped(t){return(n,r)=>this.t(`${t}.${n}`,r)}}const Ce=()=>Lt().i18nStore,Yt=(e,t)=>p.Children.map(e,n=>n&&n.type===t?n:null),lm="gs-custom-layout",y_=p.forwardRef(function({className:t,component:n,noWrapper:r,id:o,render:s,...a},l){const{editor:c}=fe(),u=p.useRef(null),d=n,f=d&&c?i.jsx(d,{editor:c}):null,g=j(lm,o&&`${lm}__${o}`,t),h=u.current,m=r&&!s;return p.useImperativeHandle(l,()=>u.current,[]),p.useEffect(()=>{if(!s||!h)return;const b=S=>h.appendChild(S),y=S=>h.removeChild(S),v=s({editor:c,addEl:b,removeEl:y});if(ft(v))h.innerHTML=v;else{if(v instanceof HTMLElement)return b(v),()=>{y(v)};if(it(v))return()=>{v()}}},[s,c,h]),m?f:i.jsx("div",{className:g,ref:u,...a,children:f})}),Cl=oe(y_);class w_{constructor(t){this.customConfig=void 0,this.layouts=[],this.layoutsById=new Map,this.store=t,Ht(this,{},{autoBind:!0,deep:!1})}get editor(){return this.store.appEditorStore.editor}setCustomConfig(t){this.customConfig=t}add(t,n){var r;this.get(t)||(this.layouts=[...this.layouts,{id:t,...n}],(r=this.editor)==null||r.trigger(`${cn.layoutToggleId}${t}`,{isOpen:!0}))}remove(t,n){var o;const r=n==null?void 0:n.layout;r&&this.layouts.forEach(s=>{s.id===t&&Object.assign(s,r)}),this.layouts=n!=null&&n.force?this.layouts.filter(s=>s.id!==t):this.layouts.map(s=>s.id===t?{...s,toRemove:!0}:s),(o=this.editor)==null||o.trigger(`${cn.layoutToggleId}${t}`,{isOpen:!1})}get(t){return this.layouts.find(n=>n.id===t)}clear(){this.layouts=[]}get layoutChildren(){var r;const{children:t}=this.store.appEditorStore.sdkProps,n=((r=Yt(t,Cl))==null?void 0:r.filter(Boolean))||[];return new Map(n.map(({props:o})=>[o.id,o]))}}const Id=()=>Lt().layoutStore,S_=()=>ai().layoutStore;class C_{constructor(t){this.isActive=!1,this.content="",this.store=t,Ht(this,{},{autoBind:!0})}show(t){this.isActive=!0,this.content=t}hide(){this.isActive=!1,setTimeout(this.clear,101)}clear(){this.content=""}}const cm=()=>Lt().pointerBadgeStore;var As=(e=>(e.Projects="projects",e.Settings="settings",e))(As||{}),um=(e=>(e.gjs="gjs",e.gjsStudio="gjs-studio",e))(um||{});const dm={},x_=1,E_=(e={})=>new Promise((t,n)=>{const r=(e==null?void 0:e.db)||"gjs",o=r==="gjs-studio"?x_:1,s=dm[r];if(s)t(s);else{if(!or())return n(new Error("window context not found"));const a=window.indexedDB.open(r,o);a.onerror=n,a.onsuccess=()=>{const l=a.result;l.onerror=n,dm[r]=l,t(l)},a.onupgradeneeded=()=>{const l=a.result;l.objectStoreNames.contains("projects")||l.createObjectStore("projects"),l.objectStoreNames.contains("settings")||l.createObjectStore("settings")}}}),xl=async(e,t)=>(await E_(t)).transaction([e],"readwrite").objectStore(e),P_=async(e,t)=>{const n=await xl(e,t);return new Promise((r,o)=>{const s=[],a=n.openCursor();a.onerror=o,a.onsuccess=function(l){const u=l.target.result;if(u){const d=u.primaryKey,f=u.value;s.push({key:d,data:f}),u.continue()}else r(s)}})},O_=async(e,t,n)=>{const r=await xl(e,n);return new Promise((o,s)=>{const a=r.get(t);a.onerror=s,a.onsuccess=()=>o(a.result)})},pm=async(e,t,n,r)=>{const o=await xl(e,r);return new Promise((s,a)=>{const l=o.put(n,t);l.onerror=a,l.onsuccess=()=>s()})},T_=async(e,t,n)=>{const r=await xl(e,n);return new Promise((o,s)=>{const a=r.delete(t);a.onerror=s,a.onsuccess=()=>o()})};var Ia=(e=>(e.Existing="existing",e.Templates="templates",e))(Ia||{});const __=e=>{const{baseApiUrl:t}=Vs();return`${t}/templates/${e}`},A_=(e,t)=>Qn.get(__(e),{...t}),M_=async e=>{try{const t=await A_(e);return(t==null?void 0:t.result)??[]}catch(t){return console.error(`Failed to load templates for type ${e}:`,t),[]}},fm=async(e=Me.web)=>typeof window>"u"?[]:(await P_(As.Projects)).map(({key:r,data:o})=>{var s;return{id:`${r}`,name:`${((s=o.custom)==null?void 0:s.projectName)||r}`,data:o}}).filter(r=>{var o;return((o=r.data.custom)==null?void 0:o.projectType)===e});class k_{constructor(t){this.store=t,this._projectSourceFilter=Ia.Existing,this._loadedProjects=void 0,this._loadedTemplates=void 0,this._projectTypeFilter=t.appEditorStore.projectType,Ht(this,{},{autoBind:!0})}get projectTypeFilter(){return this._projectTypeFilter}get projectSourceFilter(){return this._projectSourceFilter}get templates(){return this._loadedTemplates}get projects(){return this._loadedProjects}get filteredTemplates(){return this.projectSourceFilter===Ia.Existing?this.projects:this.templates}async loadProjects(){const t=await fm(this.projectTypeFilter);this.setProjects(t)}async loadTemplates(){var o;const t=(o=this.store.appEditorStore.sdkOptions.templates)==null?void 0:o.onLoad,n=async()=>await M_(this.projectTypeFilter);let r;if(t){const s=this.store.appEditorStore.editor;r=await t({editor:s,fetchCommunityTemplates:n})}else r=await n();this.setTemplates(r)}async loadAllTemplates(){await Promise.all([this.loadProjects(),this.loadTemplates()])}async removeProject(t){T_(As.Projects,t)}async setProjectTypeFilter(t){this._projectTypeFilter=t,this.setProjects(void 0),this.setTemplates(void 0)}setProjectSourceFilter(t){this._projectSourceFilter=t}setTemplates(t){this._loadedTemplates=t}setProjects(t){this._loadedProjects=t}}const gm=()=>Lt().templatesStore;class L_{constructor(t){this.toasts=[],this.store=t,Ht(this,{},{autoBind:!0})}add(t,n){this.toasts.find(r=>r.id===t)||this.toasts.push({id:t,...n})}addError(t,n){this.add(t,{...ft(n)?{header:n}:n,variant:It.Error})}addWarning(t,n){this.add(t,{...ft(n)?{header:n}:n,variant:It.Warning})}addSuccess(t,n){this.add(t,{...ft(n)?{header:n}:n,variant:It.Success})}addInfo(t,n){this.add(t,{...ft(n)?{header:n}:n,variant:It.Info})}remove(t){this.toasts=this.toasts.filter(n=>n.id!==t)}}const hm=()=>Lt().toastStore;class $_{constructor(t){this.isOpen=!1,this.store=t,Ht(this,{},{autoBind:!0})}setOpen(t){this.isOpen=t,this.triggerEvent()}toggleOpen(){this.isOpen=!this.isOpen,this.triggerEvent()}triggerEvent(){var t;(t=this.store.appEditorStore.editor)==null||t.trigger(cn.toggleBlocksPanel,{isOpen:this.isOpen})}}const mm=()=>Lt().blockManagerStore;function N_(e){const t=new Map,n={items:[]};return e.forEach(o=>{const{category:s,item:a}=o;if(s){const l=t.get(s.id);l?(l.items.push(a),l.category={...l.category,...s}):t.set(s.id,{category:s,items:[a]})}else n.items.push(a)}),[...Array.from(t).map(([,o])=>o),n].filter(o=>o.items.length)}const D_="mjml-code-to-html";var Va=(e=>(e.root="mjml",e.head="mj-head",e.body="mj-body",e.include="mj-include",e))(Va||{}),Vd=(e=>(e.attributes="mj-attributes",e.breakpoint="mj-breakpoint",e.font="mj-font",e.htmlAttributes="mj-html-attributes",e.preview="mj-preview",e.style="mj-style",e.title="mj-title",e.class="mj-class",e.all="mj-all",e))(Vd||{}),bm=(e=>(e.accordion="mj-accordion",e.accordionElement="mj-accordion-element",e.accordionTitle="mj-accordion-title",e.accordionText="mj-accordion-text",e.button="mj-button",e.carousel="mj-carousel",e.carouselImage="mj-carousel-image",e.column="mj-column",e.divider="mj-divider",e.group="mj-group",e.hero="mj-hero",e.image="mj-image",e.navbar="mj-navbar",e.navbarLink="mj-navbar-link",e.raw="mj-raw",e.section="mj-section",e.social="mj-social",e.socialElement="mj-social-element",e.spacer="mj-spacer",e.table="mj-table",e.text="mj-text",e.wrapper="mj-wrapper",e))(bm||{}),El=(e=>(e.globalStyles="globalStyles",e.globalData="globalData",e))(El||{});const vm=e=>e.get("groups")||[],ym=(e,t)=>vm(e).includes(t),j_=(e,t)=>{ym(e,t)||e.set("groups",[...vm(e),t])};class I_{constructor(t){this.dataSourceKeyid=El.globalStyles,this.records=[],this.openCategories=new Map,this.store=t,Ht(this,{openCategories:!1},{autoBind:!0})}get sdkOptionStyles(){var t;return((t=this.store.appEditorStore.sdkOptions.globalStyles)==null?void 0:t.default)||[]}get editor(){return this.store.appEditorStore.editor}get DataSources(){var t;return(t=this.editor)==null?void 0:t.DataSources}get recordsByCategory(){const{records:t,sdkOptionStyles:n}=this,r=[],o=t.reduce((s,a)=>(s.set(a.get("id"),a),s),new Map);return n.forEach(({id:s})=>{const a=o.get(s);a&&(r.push(a),o.delete(s))}),Array.from(o).map(([,s])=>{s.get("_internal")||r.push(s)}),N_(r.map(s=>({category:s.get("category"),item:s})))}setCategoryOpen(t,n){this.openCategories.set(t,n)}getDataSource(){var t;return(t=this.DataSources)==null?void 0:t.get(this.dataSourceKeyid)}getRuleByGroup(t){var n;return(n=this.editor)==null?void 0:n.CssComposer.getAll().find(r=>ym(r,t))}addStyleRule(t){const n=t.get("id"),r=t.get("selector")||"",o=t.get("property"),s=t.getPath("value"),a=`${this.dataSourceKeyid}:${n}`,l={[o]:{type:"data-variable",path:s,defaultValue:t.get("defaultValue")}},{editor:c}=this;if(c&&JS(c)&&r.startsWith("mj-")){const d=c.Components.getWrapper(),{head:f}=Va,{attributes:g}=Vd,h=d.findFirstType(Va.root),m=h.findFirstType(f)||h.append({type:f})[0],b=m.findFirstType(g)||m.append({type:g})[0],y=b.findType(r).pop()||b.append({type:r})[0],v=(y.get("attributes")||{})[o];Mt(v)&&v!==""&&t.set("value",v),y.addAttributes(l,{silent:!0});return}const u=this.getRuleByGroup(a);if(u)u.addStyle(l);else{const d=c==null?void 0:c.CssComposer.addCollection([{selectors:[],selectorsAdd:r,style:l}],{extend:!0,at:t.index})[0];d&&j_(d,a)}}createDataSource(){return this.DataSources.add({id:this.dataSourceKeyid,records:[]})}onLoad(){var r;const{sdkOptionStyles:t}=this;if(!t.length){this.records=[];return}let n=this.getDataSource();n||(n=this.createDataSource()),t.forEach(o=>{const s=n.getRecord(o.id);if(s){const a={label:o.label,field:o.field,category:o.category};s.set({...a,_undo:!0})}else n.addRecord({value:void 0,...o,_internal:!0,_undo:!0})}),n.getRecords().forEach(o=>{this.addStyleRule(o)}),n.listenTo(n.records,"add",o=>{this.addStyleRule(o)}),(r=this.editor)==null||r.UndoManager.add(n.records),this.records=n.getRecords()}}const V_=()=>Lt().globalStylesStore,wm=(e,t)=>{let n;try{const r=or()&&e&&localStorage.getItem(e);r&&(n=JSON.parse(r))}catch(r){console.error(r)}return{lastProjectId:"",...t,...n}},Sm=(e,t)=>{const r={...wm(e),...t};try{or()&&e&&localStorage.setItem(e,JSON.stringify(r))}catch(o){console.error(o)}return r},Hd="gs-utl-dark",H_=()=>or()&&window.matchMedia("(prefers-color-scheme: dark)").matches,Cm=e=>e==="dark"||e==="auto"&&H_(),xm=(e,t)=>{if(e&&or()&&t.rootEl){const{classList:n}=t.rootEl;let r=!1;if(Cm(e)?(n.add(Hd),r=!0):n.remove(Hd),t.updateAppShell){const o=document.head.querySelector('meta[name="theme-color"]');o&&(o.content=r?"#18181b":"#ffffff")}t.resolvedTheme=r?Nn.dark:Nn.light}};class F_{constructor(t){this.key="",this.theme=Nn.auto,this.resolvedTheme=Nn.light,this.lastProjectId="",this.updateAppShell=!1,this.rootEl=void 0,t&&Object.keys(t).forEach(n=>{const r=n,o=t[r];o!==void 0&&(this[r]=o)}),this.resolvedTheme=this.theme,Ht(this,{},{autoBind:!0}),this.init()}init(){xm(this.theme,this)}changeTheme(t){xm(t,this),Sm(this.key,{theme:t})}setTheme(t){this.theme=t}setRootEl(t){this.rootEl=t}setLocalState(t){Object.keys(t).forEach(n=>{const r=n,o=t[r];o!==void 0&&(this[r]=o)}),Sm(this.key,t)}get isDarkTheme(){return Cm(this.theme)}}const B_=e=>{Cg(()=>e.theme,t=>{e.changeTheme(t)})},Zt=()=>Lt().localSettingsStore;class z_{constructor(t){this.isOpen=!1,this.title="",this.content="",this.size="l",this.fullH=!1,this.modalProps={},this.buttons=[],this.store=t,Ht(this,{},{autoBind:!0})}setModalProps(t){this.modalProps={title:"",size:"l",fullH:!1,buttons:[],...t}}open({content:t,...n}){this.isOpen=!0,this.content=t,this.setModalProps(n)}close(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.content="",this.setModalProps({size:this.modalProps.size})}confirm({content:t,size:n="m",onConfirm:r,confirmButton:o,...s}){this.isOpen=!0,this.content=t;const a=()=>{r==null||r(),this.close()};this.setModalProps({...s,size:n,buttons:[{children:"Cancel",onClick:this.close,size:"m2"},{children:"Confirm",onClick:a,size:"m2",variant:"pr",...o}]})}}const Kn=()=>Lt().modalStore,U_={add:"Add",delete:"Delete",duplicate:"Duplicate",rename:"Rename",remove:"Remove",clear:"Clear",select:"Select",selectList:"Select from the list",search:"Search",update:"Update",updated:"Updated!",confirm:"Confirm",cancel:"Cancel",enable:"Enable",disable:"Disable",upload:"Upload",close:"Close",load:"Load",copy:"Copy",save:"Save",current:"Current",toggleCss:"Toggle CSS",selectTarget:"Target Component",noCode:"No code available",noItems:"No items found",confirmAction:"Do you confirm this action?",eyeDropper:"Eyedropper",noEyeDropper:"Eyedropper not supported",unauthorized:"Unauthorized project",notItemsFound:"No items found",actions:{componentOutline:{title:"Component outline"},preview:{title:"Preview"},fullscreen:{title:"Fullscreen"},showCode:{title:"Code",exportButton:"Export to ZIP"},undo:{title:"Undo"},redo:{title:"Redo"},save:{title:"Save project"},store:{title:"Save content"},open:{title:"Open project"},importCode:{title:"Import code",parseError:"Parser error",content:"Paste here your HTML/CSS and click Import",button:"Import"},clearCanvas:{title:"Clear page",content:"Are you sure you want to clear the page?"},about:{title:"About"},embed:{title:"Embed Studio"},newProject:{title:"Load project"},installApp:{title:"Install App",installed:"App installed"}},modals:{styleCatalog:{title:"Style Catalog",noStyles:"No styles found"},openProject:{title:"Open project"}},pluginManager:{plugins:"Plugins",all:"Available",installed:"Installed",install:"Install",uninstall:"Uninstall",allPlugins:"All plugins",updateStudio:"Restart Studio for plugin updates"},globalStyleManager:{notFound:"No global styles found"},pageManager:{pages:"Pages",page:"Page",newPage:"New Page",add:"Add page",rename:"Rename",duplicate:"Duplicate",copy:"Copy",delete:"Delete",deletePage:"Delete Page",confirmDelete:"Are you sure you want to delete the page?",settings:{label:"Settings",title:"Page settings",global:"Global settings",fields:{name:{label:"Name"},slug:{label:"Slug",description:"The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."},favicon:{label:"Favicon",description:"The favicon is the small icon that appears in the browser tab."},title:{label:"Title",description:"The title is the name of the page that appears in the browser tab."},description:{label:"Description",description:"The description is a short summary of the page content."},keywords:{label:"Keywords",description:"Keywords are words or phrases that describe the content of the page."},socialTitle:{label:"Social title",description:"The title is the name of the page that appears on social networks."},socialImage:{label:"Social image",description:"The image is the picture that appears on social networks."},socialDescription:{label:"Social description",description:"The description is a short summary of the page content that appears on social networks."},customCodeHead:{label:"Custom HTML head",description:"Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."},customCodeBody:{label:"Custom HTML body",description:"Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."}}}},projectManager:{existentProjects:"Your projects",templates:"Templates",notAvailable:"No projects available",projectType:"Project type",projectName:"Project name",pages:"Pages"},templates:{notFound:"No templates found"},storageManager:{errorLoad:"Failed to load the project",errorStore:"Failed to save the project"},assetManager:{addUrl:"Add URL",projectAssets:"Assets in this project",userAssets:"Assets from all projects",errorLoad:"Failed to load assets",errorUpload:"Failed to upload",errorDelete:"Failed to delete",deleteConfirmQuestion:"Delete asset?",deleteConfirmExplanation:"This will affect existing and published projects that rely on this asset, if any exist.",assetTypes:{all:"All",image:"Images"},noProvider:"Project assets"},fontManager:{addFontToProject:"Add font to project",projectFonts:"Project fonts",emptyProjectFonts:"There are no fonts in this project.",selectFont:"Select a font"},blockManager:{notFound:"No blocks found",blocks:"Blocks",add:"Add more blocks",search:"Search...",labels:{section:"Section",column1:"1 Column",column2:"2 Columns",column3:"3 Columns","column3-7":"2 Columns 3/7",gridRow:"Grid",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"},categories:{},types:{regular:"Regular",symbols:"Symbols"},symbols:{notFound:"No symbols found",instancesProject:"Instance/s in the project",delete:"Delete symbol",deleteConfirm:"Are you sure you want to delete the symbol? All instances inside the project will be detached."}},domComponents:{names:{section:"Section",gridRow:"Row",gridColumn:"Column",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"}},traitManager:{empty:"Select a component to see its properties",panelLabel:"Properties",traits:{labels:{loading:"Lazy load",target:"Open in new tab",showList:"Show element list",customAttributes:"Custom Attributes"},attributes:{}}},deviceManager:{allDevices:"All devices"},selectorManager:{noSelecton:"You don't have any selected element.",selectFromCanvas:"Select an element from the canvas.",selectFromList:"Pick any style from the Style Catalog.",selectCustom:"Add your custom style selector.",selection:"Selection",selector:"Selector",addNewSelector:"Add new selector",removeSelector:"Remove selector",target:"Target",device:"Device",state:"State",deleteStyle:"Delete style",showCSS:"Show CSS code",searchStyle:"Search style",applyOnSelector:"Apply style changes on Selectors",noSelectors:"No Selectors applied",applyOnComponents:"Apply style changes on Components",noComponents:"No Components selected",currentSelection:"The current selection from which styles are displayed of"},layerManager:{layers:"Layers"},dataSources:{confirm:"Confirm",defaultValue:"Default value",variablePath:"Variable path",selectVariablePath:"Select variable path",openPathExplorer:"Open path explorer",closePathExplorer:"Close path explorer",toggleResolvedPath:"Toggle resolved path",items:"{length} item/s",properties:"{length} propertie/s",editVariable:"Edit variable",editCondition:"Edit condition",editCollection:"Edit collection",condition:"Condition",conditionTrue:"True condition",conditionFalse:"False condition",conditionAnd:"AND",conditionOr:"OR",conditionElse:"Else",addCondition:"Add condition",deleteCondition:"Delete condition",operator:"Operator",leftValue:"Left value",rightValue:"Right value",valueTrue:"True",valueFalse:"False",collection:"Collection",collectionItem:"Collection item",collectionId:"Collection ID",collectionStartIndex:"Start index",collectionEndIndex:"End index",collectionUpToEndIndex:"All",operators:{"=":"= (Equals)","!=":"!= (Not equals)",">":"> (Greater than)",">=":">= (Greater than or equals)","<":"< (Less than)","<=":"<= (Less than or equals)",contains:"Contains",startsWith:"Starts with",endsWith:"Ends with",matchesRegex:"Matches regex",equalsIgnoreCase:"Equals (ignore case)",trimEquals:"Trimmed equals",and:"AND",or:"OR",xor:"XOR",equals:"Equals",isDefined:"Is defined",isNull:"Is null",isUndefined:"Is undefined",isTruthy:"Is truthy",isFalsy:"Is falsy",isDefaultValue:"Is default value",isArray:"Is array",isObject:"Is object",isString:"Is string",isNumber:"Is number",isBoolean:"Is boolean"}},styleManager:{panelLabel:"Styles",layout:{flexChild:"Flex child",display:{tips:{block:"Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",inline:"Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.","inline-block":"Inline-block is similar to inline but allows to define width and height properties.",flex:"Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",none:"The element is hidden from the layout"}},direction:{title:{row:"Horizontal","row-reverse":"Horizontal reversed",column:"Vertical","column-reverse":"Vertical reversed"}}},position:{tips:{static:"Default position",relative:"Similar to Static but with the ability to be moved relative to itself",absolute:"Absolute position, relative to its closest non-static parent",fixed:"Fixed position (even when the page is scrolled), relative to the browser viewport",sticky:"Elements are keept in place but moved when the page is scrolled, based on indicated distance"},presets:{title:"Presets",options:{topLeft:"Top left",topRight:"Top right",bottomLeft:"Bottom left",bottomRight:"Bottom right",left:"Left",right:"Right",bottom:"Bottom",top:"Top",full:"Full"}}},properties:{"margin-top":"Top","margin-right":"Right","margin-bottom":"Bottom","margin-left":"Left","padding-top":"Top","padding-right":"Right","padding-bottom":"Bottom","padding-left":"Left","border-top-left-radius":"Top Left","border-top-right-radius":"Top Right","border-bottom-right-radius":"Bottom Right","border-bottom-left-radius":"Bottom Left","mix-blend-mode":"Blend mode","transform-style":"Type","backface-visibility":"Backface","perspective-origin":"Perspective origin","perspective-origin-x":"Left","perspective-origin-y":"Top","transform-origin-x":"Left","transform-origin-y":"Top","align-items":"Align","align-self":"Align","justify-content":"Justify","row-gap":"Row","column-gap":"Column","font-family":"Font","font-size":"Size","font-weight":"Weight","letter-spacing":"Spacing","text-align":"Align","text-decoration":"Decoration","text-transform":"Transform","white-space":"Breaking","border-top-width":"Top","border-right-width":"Right","border-bottom-width":"Bottom","border-left-width":"Left","border-top-style":"Top","border-right-style":"Right","border-bottom-style":"Bottom","border-left-style":"Left","border-top-color":"Top","border-right-color":"Right","border-bottom-color":"Bottom","border-left-color":"Left","background-position":"Position","background-position-x":"Left","background-position-y":"Top","background-size":"Size","background-size-x":"Left","background-size-y":"Top","background-repeat":"Repeat","background-attachment":"Attachment","background-origin":"Origin","background-clip":"Clip","overflow-x":"X","overflow-y":"Y"},options:{"__background-type":{image:"Image",gradient:"Gradient",color:"Color"},display:{block:"Block",inline:"Inline","inline-block":"Inline block",flex:"Flex",none:"None"},overflow:{visible:"Visible",hidden:"Hidden",scroll:"Scroll",auto:"Auto"},"flex-wrap":{nowrap:"No wrap",wrap:"Wrap","wrap-reverse":"Reverse wrap"}}}},Em="column1",Pm="column2",Om="column3",Fd="column3-7",W_=function(e,t={}){const{Components:n,Blocks:r}=e,o="gridRow",s="gridColumn",a="gjs-grid-row",l="gjs-grid-column",c={tl:0,tc:0,tr:0,cl:0,bl:0,br:0},u="flex-basis",d=1,f=1,g=1;n.addType(o,{isComponent:y=>ao(y,a),model:{defaults:{emptyState:!0,droppable:fr(s),highlightable:!1,attributes:{class:a},resizable:{...c,keyHeight:"min-height"},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,"stylable-require":["flex-align-items","flex-align-items-v","flex-direction-id","flex-multiline"],traits:["id","title",{name:"add-column",labelButton:"Add column",type:"button",full:!0,command:y=>{y.getSelected().components().add({type:s})}}],styles:`
            .${a} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${a} {
                flex-direction: column;
              }
            }
          `}}}),n.addType(s,{isComponent:y=>ao(y,l),model:{defaults:{emptyState:!0,attributes:{class:l},draggable:fr(o),resizable:{...c,bc:0,keyWidth:u,currentUnit:g,minDim:d,step:f},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,unstylable:["width"],"stylable-require":["flex-basis","flex-item-behaviour","flex-item-h-align","flex-order"],traits:[{label:"Center content",name:"center-content",type:"checkbox",changeProp:!0}],styles:`
            .${l} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `},init(){this.listenTo(this,"change:center-content",this.handleCenter)},handleCenter(){const y=this.get("center-content");this.addStyle({display:y?"flex":"block","align-items":y?"center":"","justify-content":y?"center":""})}}});const h={label:o,content:{type:o,components:[{type:s},{type:s},{type:s}]},...t.block},m={merge:!0},b=y=>{var v;return((v=r.get(y))==null?void 0:v.category)||h.category};r.add(Em,{...h,category:b(Em),content:{type:o,components:[{type:s}]}},m),r.add(Pm,{...h,category:b(Pm),content:{type:o,components:[{type:s},{type:s}]}},m),r.add(Om,{...h,category:b(Om),content:{type:o,components:[{type:s},{type:s},{type:s}]}},m),r.add(Fd,{...h,category:b(Fd),content:{type:o,components:[{type:s,style:{"flex-basis":"30%","flex-grow":0}},{type:s}]}},m)},Ha="section",Bd="container",zd="gjs-section",Ud="gjs-container",G_=function(e,t={}){const{Components:n,Blocks:r}=e;r.add(Ha,{label:Ha,media:`
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,content:{type:Ha},...t.block},{at:ja(e,Fd)+1}),n.addType(Ha,{isComponent:o=>ao(o,zd),model:{defaults:{tagName:"section",emptyState:!0,draggable:fr("wrapper"),droppable:fr(Bd),attributes:{class:zd},components:{type:Bd},styles:`
            .${zd} {
              display: flex;
              padding: 50px 0;
            }
          `}}}),n.addType(Bd,{isComponent:o=>ao(o,Ud),model:{defaults:{emptyState:!0,copyable:!1,removable:!1,draggable:!1,attributes:{class:Ud},styles:`
            .${Ud} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `}}})},K_=function(e,t={}){const{Components:n,Blocks:r}=e,o="divider",s="gjs-divider";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,content:{type:o},...t.block},{at:ja(e,Ha)+1}),n.addType(o,{isComponent:a=>ao(a,s),model:{defaults:{droppable:!1,highlightable:!1,attributes:{class:s},stylable:["height","width","background-color","margin","margin-top","margin-right","margin-bottom","margin-left"],styles:`
            .${s} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `}}})},Tm="page://",q_=function(e){const{Components:t,Blocks:n}=e,o=t.getType("wrapper").model.getDefaults(),s=t.getType("head").model;t.addType("wrapper",{model:{defaults:{emptyState:{styleIn:"height: 100vh",styleOut:"padding: 0;"},stylable:[...o.stylable,"padding","font-family","color","font-size","font-weight","line-height","letter-spacing","text-align","vertical-align","text-decoration","text-transform","direction","white-space"]}}}),t.addType("head",{model:{components(u,d){return s.prototype.components.call(this,u,{...d,skipDomReset:!0})}},view:{updateContent(){}}}),t.addType("text",{model:{defaults:{highlightable:!1,emptyState:{styleIn:"min-height: auto; font-size: inherit;"}}}}),t.addType("image",{model:{defaults:{traits:[{type:"image",name:"src",label:"Image",typeProps:{inputField:!0}},"alt",{type:"checkbox",name:"loading",valueTrue:"lazy"}]}}});const l=t.getType("link").model;t.addType("link",{model:{defaults:{emptyState:!0,traits:["title",{type:"checkbox",name:"target",valueTrue:"_blank"},{type:"href",name:"href"}]},getAttrToHTML(){const u=l.prototype.getAttrToHTML.apply(this),{href:d}=u;if(d&&d.indexOf(Tm)===0){const f=d.replace(Tm,""),g=e.Pages.get(f);u.href=g?`./${Dd(e,g)}`:"##"}return u}}}),n.add("link",{label:"Link",content:{type:"link",content:"Link",style:{color:"#d983a6",padding:"10px"}}},{merge:!0}),t.addType("select",{model:{defaults:{traits:[{name:"name"},{type:"checkbox",name:"required"},{name:"options",type:"stack",getValue({component:u}){return u.components().map(d=>({id:d.getAttributes().value||"",label:d.getInnerHTML()}))},setValue:({component:u,value:d,emitUpdate:f})=>{u.components(d.map(g=>({type:"option",content:g.label,attributes:{value:g.id}}))),f()},properties:[{name:"id"},{name:"label"}]}]}}});const c="contentEditable";t.addType(c,{extend:"text",model:{defaults:{name:"Content",tagName:"span",hoverable:!1,draggable:!1,selectable:!1},toHTML(u){return this.getInnerHTML(u)}}}),t.addType("button",{model:{defaults:{components:[{type:c,components:{type:"textnode",content:"Button"}}],traits:[{type:"select",name:"type",options:[{id:"button",label:"Button"},{id:"submit",label:"Submit"},{id:"reset",label:"Reset"}]}]},init(){var d;const u=[...this.components().models];(u.length>1||!((d=u[0])!=null&&d.is(c)))&&this.append({type:c})[0].append(u)}}})},Y_=function(e,t={}){const{Components:n,Blocks:r}=e,o="heading";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,content:{type:o,components:"Insert your text here"},...t.block},{at:ja(e,"text")}),n.addType(o,{extend:"text",isComponent:s=>i_(s,"H1","H2","H3","H4","H5","H6"),model:{defaults:{emptyState:!0,tagName:"h1",traits:[{type:"select",options:[{value:"h1",name:"One (largest)"},{value:"h2",name:"Two"},{value:"h3",name:"Three"},{value:"h4",name:"Four"},{value:"h5",name:"Five"},{value:"h6",name:"Six (smallest)"}],label:"Size",name:"tagName",changeProp:!0}]}}})},Z_=function(e,t={}){const{Components:n,Blocks:r}=e,o=e.Components.getType("default").model,s="imageBox",a="gjs-image-box";r.add(s,{label:s,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,content:{type:s},...t.block},{at:ja(e,"image")+1}),n.addType(s,{extend:"image",isComponent:l=>ao(l,a),model:{defaults:{tagName:"div",void:!1,droppable:!0,emptyState:!1,resizable:{tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0},traits:["title"],attributes:{class:a},styles:`
            .${a} {
              height: 200px;
              width: 100%;
            }
          `},getAttrToHTML(...l){return o.prototype.getAttrToHTML.apply(this,l)}},view:{tagName:"div",updateSrc(){const{model:l,em:c}=this,u=l.getSrcResult(),d=l.isDefaultSrc(),f=l.getStyle(),g=`url('${u}')`;u&&l.addStyle({"background-image":d&&f["background-image"]||g,"background-size":f["background-size"]||"contain","background-position":f["background-position"]||"center center","background-attachment":f["background-attachment"]||"scroll","background-repeat":f["background-repeat"]||"no-repeat"}),u&&c.trigger("component:toggled"),this.$el[u?"removeClass":"addClass"](this.classEmpty)},onRender(){this.renderChildren(),this.updateSrc()}}})},X_=function(e,t={}){const{Components:n,Blocks:r}=e,o="linkBox",s="gjs-link-box";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,content:{type:o},...t.block},{at:ja(e,"link")+1}),n.addType(o,{isComponent:a=>ao(a,s),extend:"link",model:{defaults:{editable:!1,droppable:!0,attributes:{class:s},styles:`
            .${s} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `}}})},_m=e=>{const t=(e||"").split(" ");let n=t[0],r=t[0],o=t[0],s=t[0];return t.length===4?(n=t[0],r=t[1],o=t[2],s=t[3]):t.length===3?(n=t[0],r=t[1],s=t[1],o=t[2]):t.length===2&&(n=t[0],r=t[1],s=t[1],o=t[0]),[n,r,o,s]};function J_(e){const t={};if(e.padding){const n=e.padding.split(" ");let r=n[0],o=n[0],s=n[0],a=n[0];n.length===4?(r=n[0],o=n[1],s=n[2],a=n[3]):n.length===3?(r=n[0],o=n[1],a=n[1],s=n[2]):n.length===2&&(r=n[0],o=n[1],a=n[1],s=n[0]),t["padding-top"]=e["padding-top"]||r,t["padding-right"]=e["padding-right"]||o,t["padding-bottom"]=e["padding-bottom"]||s,t["padding-left"]=e["padding-left"]||a,delete e.padding}return{...e,...t}}const Q_={ratioDefault:!0,tc:!1,cl:!1,cr:!1,bc:!1},Am=`<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`,R_=function(e,t={}){const{Components:n,Blocks:r}=e,o="icon",s="gjs-icon",a="data-type-icon";r.add(o,{label:"Icon",media:Am,content:{type:o},...t.block}),n.addType(o,{isComponent:l=>ao(l,s)||Da(l,a),model:{defaults:{droppable:!1,attributes:{class:s,[a]:!0},resizable:Q_,components:Am,traits:["id","title",{type:"code",label:"Content",typeProps:{language:"html",clean:!0,padding:5},getValue({component:l}){return l.getInnerHTML()},setValue:Dr(({editor:l,component:c,value:u})=>{const d=l.Parser.parseHtml(u).html,f=Array.isArray(d)?d[0]:d;f&&f.tagName==="svg"&&c.components(f)},500)}],styles:`
            .${s} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `},init(){this.listenTo(this.components(),"change add",this.disableLayers),this.disableLayers()},disableLayers(){this.components().forEach(l=>l.set("layerable",!1))}},view:{init(){const{model:l}=this;this.listenTo(l.components(),"change",this.disableChildren)},onRender(){this.disableChildren()},disableChildren(){this.model.components().forEach(l=>{var u;const c=(u=l.view)==null?void 0:u.el;c&&(c.style.pointerEvents="none")})}}})},Wd="__nc",eA=e=>{const t=e.getAttributes({noClass:!0,noStyle:!0});return e.traits.forEach(n=>{const r=n.getName();n.get("changeProp")||delete t[r]}),delete t.id,delete t.__p,t};function tA(e){const{Components:t}=e,n=r=>{const{model:o,id:s}=r,a=o.getDefaults();t.addType(s,{model:{defaults:{traits:[...a.traits,{name:"customAttributes",type:"stack",getValue({component:l}){const c=eA(l);return Object.keys(c).map(d=>({id:d,value:c[d]}))},setValue:({component:l,value:c,options:u,emitUpdate:d})=>{const f=u.removed,g=u.previous,h=u.item;if(f)l.removeAttributes(f.id);else{g&&h&&g.id!==h.id&&l.removeAttributes(g.id);const m=c.reduce((b,y)=>(b[y.id]=y.value||"",b),{});l.addAttributes(m)}d()},addItem:()=>({id:Wd,value:!1}),labelItem:l=>l.id===Wd||!l.id&&!l.value?"- Empty -":`${l.id||""}="${l.value||""}"`,properties:[{name:"id",label:"Name",getValue:l=>l===Wd?"":l,setValue:(l,c)=>l.trim().toLowerCase().replace(/^[^a-z]{1}/gi,"_").replace(/\s+/g,"-")||c},{name:"value",label:"Value",getValue:l=>typeof l=="boolean"?"":l}]}]}}})};t.getTypes().forEach(n)}const nA="Basic";function Mm(e,t){const{appStore:n}=t;e.Css.getConfig().onBeforeStyle=J_;const r=e.Parser.getConfig().optionsHtml;r.htmlType="text/html";const o=n.sdkOptions.pages||{};(Mt(o.allowDocuments)?o.allowDocuments:!0)&&(r.detectDocument=!0,r.allowScripts=!0),e.Components.addType("trait-check",{model:{defaults:{traits:["id","title",{type:"select",name:"select-type",options:[{id:"value1",label:"Value 1"},{id:"value2",label:"Value 2"},{id:"value3",label:"Value 3"}]},{type:"number",name:"number-type",units:["px","rem","%"]},{type:"checkbox",name:"checkbox-type"},{type:"color",name:"color-type"},{type:"button",name:"button-type",label:"Delete",command:"core:component-delete"}]}}});const a={category:nA,select:!0,activate:!0};u_(e,t),q_(e),W_(e,{block:a}),Y_(e,{block:a}),G_(e,{block:a}),K_(e,{block:a}),Z_(e,{block:a}),X_(e,{block:a}),R_(e,{block:a}),tA(e)}function rA(e){const{code:t,appStore:n,showToastError:r}=e,{appEditorStore:o,toastStore:s,i18nStore:a}=n.store,{isProjectTypeEmail:l}=o,c=(t||"").trim(),u=new DOMParser,d={input:t,output:"",error:""};let f="";try{if(l){const g=oA(c),m=u.parseFromString(`<div>${g}</div>`,"text/xml").querySelector("parsererror div");d.error=(m==null?void 0:m.textContent)||"",f=g}else{const g=u.parseFromString(c,"text/html");km(g.documentElement)}}catch(g){d.error=g.message}return d.error?r&&s.addError("error-parser",{header:a.t("actions.importCode.parseError"),content:d.error}):d.output=f||c,d}function km(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return;const t=Array.from(e.attributes),n=Array.from(e.children);for(const r of t)e.setAttribute(r.name,r.value);for(const r of n)km(r)}function oA(e){return(e||"").replace(/(\s[\w:-]+=\s*)("[^"]*"|'[^']*')/g,(t,n,r)=>{const o=r.slice(1,-1).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return`${n}"${o}"`})}const sA={anyEquals:"function anyEquals(a, b) { return a == b; }",isTruthy:"function isTruthy(val) { return !!val; }",isFalsy:"function isFalsy(val) { return !val; }",isDefined:"function isDefined(val) { return val !== undefined; }",isNull:"function isNull(val) { return val === null; }",isUndefined:"function isUndefined(val) { return val === undefined; }",isArray:"function isArray(val) { return Array.isArray(val); }",isObject:"function isObject(val) { return typeof val === 'object' && val !== null && !Array.isArray(val); }",isString:"function isString(val) { return typeof val === 'string'; }",isNumber:"function isNumber(val) { return typeof val === 'number' && !isNaN(val); }",isBoolean:"function isBoolean(val) { return typeof val === 'boolean'; }",numGt:"function numGt(a, b) { return typeof a === 'number' && typeof b === 'number' && a > b; }",numLt:"function numLt(a, b) { return typeof a === 'number' && typeof b === 'number' && a < b; }",numGte:"function numGte(a, b) { return typeof a === 'number' && typeof b === 'number' && a >= b; }",numLte:"function numLte(a, b) { return typeof a === 'number' && typeof b === 'number' && a <= b; }",numEq:"function numEq(a, b) { return typeof a === 'number' && typeof b === 'number' && a === b; }",numNeq:"function numNeq(a, b) { return typeof a === 'number' && typeof b === 'number' && a !== b; }",strContains:"function strContains(str, sub) { return typeof str === 'string' && typeof sub === 'string' && str.includes(sub); }",strStartsWith:"function strStartsWith(str, sub) { return typeof str === 'string' && typeof sub === 'string' && str.startsWith(sub); }",strEndsWith:"function strEndsWith(str, sub) { return typeof str === 'string' && typeof sub === 'string' && str.endsWith(sub); }",strEqualsIgnoreCase:"function strEqualsIgnoreCase(a, b) { return typeof a === 'string' && typeof b === 'string' && a.toLowerCase() === b.toLowerCase(); }",strTrimEquals:"function strTrimEquals(a, b) { return typeof a === 'string' && typeof b === 'string' && a.trim() === b.trim(); }",and:`function and() { 
      for (let i = 0; i < arguments.length; i++) {
        if (!arguments[i]) return false;
      }
      return true;
    }`,or:`function or() { 
      for (let i = 0; i < arguments.length; i++) {
        if (arguments[i]) return true;
      }
      return false;
    }`,slice:`function slice(array, start, end) {
        if (!Array.isArray(array)) {
          return [];
        }

        const startIndex = parseInt(start, 10);
        const endIndex = parseInt(end, 10) - 1; // Make endIndex inclusive
        const slicedArray = array.slice(startIndex, end);

        const result = slicedArray.map((currentItem, index) => ({
          currentIndex: startIndex + index, // Original index
          startIndex: startIndex,
          currentItem: currentItem,
          endIndex: endIndex,
          remainingItems: endIndex - (startIndex + index)
        }));

        return result;
    }`};class aA{constructor(t){this.strategy=t,this.requiredHelpers=new Set,this.helperLibrary=sA}registerHelper(t){this.helperLibrary[t]&&this.requiredHelpers.add(t)}generateVariable(t){return this.strategy.getVariableSyntax(t)}generateCollectionStart(t){return this.registerHelper("slice"),this.strategy.getCollectionStartSyntax(t)}generateCollectionEnd(){return this.strategy.getCollectionEndSyntax()}generateConditionalStart(t){return this.strategy.getConditionalStartSyntax(t)}generateConditionElse(){return this.strategy.getConditionElseSyntax()}generateConditionalEnd(){return this.strategy.getConditionalEndSyntax()}reset(){this.requiredHelpers.clear()}}const iA=e=>e.Assets.getAll().reduce((r,o)=>{const s=o.getSrc(),a=s.match(/^data:([^;]+);/);if(a){const l=s.split(",")[1],c=l_(o.get("name"));r[s]={mime:a[1],name:c,base64:l}}return r},{}),lA=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Lm=(e,t,n={})=>{let r=e;const o=n.pathPfx||"";for(const s in t)if(r.includes(s)){const a=t[s];r=r.replace(new RegExp(lA(s),"g"),`${o}${a.name}`),a.found=!0}return r},cA=(e,t,n)=>`${t||""}${e||""}${n||""}`,uA=(e,t)=>{const n=e?`<div ${wl}>${e}</div>`:"",r=t?`<div ${wl} data-gjs-global>${t}</div>`:"";return`${n}${r}`},Pl=async(e,t={})=>{const{page:n,skipProject:r,assetsFolder:o="assets",filenameCss:s="style.css",styles:a,isMJML:l,exportConfig:c}=t,u=c==null?void 0:c.getCustomPath,d=c!=null&&c.exportStrategy?new aA(c.exportStrategy):void 0,f=[],g=n?[n]:e.Pages.getAll(),h=iA(e),m=`${o}/`,b=e.getCss({keepUnusedStyles:!0,component:n==null?void 0:n.getMainComponent()})||"",y=Lm(b,h,{pathPfx:m}),v=a==="inline",S=a==="skip",w=_s(e).globalPageSettings||{},C=g.map(E=>{var Tt,ht,ot;d==null||d.reset();const x=E.getName(),P=io(E,"title")||x,T=io(E,"favicon"),_=io(E,"description"),O=io(E,"keywords"),k=io(E,"socialTitle"),M=io(E,"socialDescription"),F=io(E,"socialImage"),U=Y1(io(E,"fonts")),A=qt({page:E,key:"customCodeHead"})??"",L=cA(A,w.customCodeHead,U),W=qt({page:E,key:"customCodeBody"})??"",K=uA(W,w.customCodeBody),$=E.getMainComponent(),V=e.getJs({component:$}),I=V?`<script>${V}<\/script>`:"",B=[],te=[],X={asDocument:!1,exporter:d,getCustomPath:u},J=$.toHTML(X).replace("</body>",`${K}${I}</body>`),ie=$.head;let q=P&&`<title>${P}</title>`,Y=T&&`<link rel="icon" href="${T}"/>`,R=_&&`<meta name="description" content="${_}"/>`,le=O&&`<meta name="keywords" content="${O}"/>`,ae=k&&`<meta property="og:title" content="${k}"/>`,ye=M&&`<meta property="og:description" content="${M}"/>`,we=F&&`<meta property="og:image" content="${F}"/>`,Xe='<meta charset="utf-8">',Qe='<meta name="viewport" content="width=device-width,initial-scale=1">',pt='<meta name="robots" content="index,follow">',rt='<meta name="generator" content="GrapesJS Studio">';ie.components().forEach(Ue=>{const ct=Ue.toHTML();et.title({cmp:Ue})?q=ct:et.favicon({cmp:Ue})?Y=ct:et.description({cmp:Ue})?R=ct:et.keywords({cmp:Ue})?le=ct:et.socialTitle({cmp:Ue})?ae=ct:et.socialDescription({cmp:Ue})?ye=ct:et.socialImage({cmp:Ue})?we=ct:et.charset({cmp:Ue})?Xe=ct:et.viewport({cmp:Ue})?Qe=ct:et.robots({cmp:Ue})?pt=ct:et.generator({cmp:Ue})&&(rt=ct)}),q&&B.push(q),Xe&&B.push(Xe),Qe&&B.push(Qe),pt&&B.push(pt),rt&&B.push(rt),R&&B.push(R),le&&B.push(le),ae&&B.push(ae),ye&&B.push(ye),we&&B.push(we),Y&&B.push(Y),te.length&&B.push(...te),L&&B.push(L),y&&!S&&B.push(v?`<style>${y}</style>`:`<link rel="stylesheet" href="./${s}">`);const Je=$.doctype||"<!DOCTYPE html>",zt=(ht=(Tt=$.docEl).__attrToString)==null?void 0:ht.call(Tt),lt=(ot=ie.__attrToString)==null?void 0:ot.call(ie),Nt=l?e.runCommand("mjml-code-to-html").html:`${Je}
<html${zt?` ${zt}`:""}>
  <head${lt?` ${lt}`:""}>
    ${B.join(`
  `)}
  </head>
  ${J}
</html>
`;return{filename:Dd(e,E),content:Lm(Nt,h,{pathPfx:m}),mimeType:"text/html"}});f.push(...C),l&&g.forEach(E=>{f.push({filename:Dd(e,E,"mjml"),content:E.getMainComponent().toHTML(),mimeType:"text/mjml"})});for(const E in h){const x=h[E];x.found&&f.push({path:o,filename:x.name,content:atob(x.base64),mimeType:x.mime})}return y&&!v&&!S&&f.push({filename:s,content:y,mimeType:"text/css"}),r||f.push({filename:"gjs-project.grapesjs",content:JSON.stringify(e.getProjectData()),mimeType:"application/json"}),f};function dA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$m(Object(n),!0).forEach(function(r){dA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pA(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function fA(e,t){if(e==null)return{};var n=pA(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gA(e,t){return hA(e)||mA(e,t)||bA(e,t)||vA()}function hA(e){if(Array.isArray(e))return e}function mA(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,s=void 0;try{for(var a=e[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw s}}return n}}function bA(e,t){if(e){if(typeof e=="string")return Dm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dm(e,t)}}function Dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(r){yA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,s){return s(o)},r)}}function Fa(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t.apply(n,[].concat(o,l))}}}function Ol(e){return{}.toString.call(e).includes("Object")}function SA(e){return!Object.keys(e).length}function Ba(e){return typeof e=="function"}function CA(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xA(e,t){return Ol(t)||lo("changeType"),Object.keys(t).some(function(n){return!CA(e,n)})&&lo("changeField"),t}function EA(e){Ba(e)||lo("selectorType")}function PA(e){Ba(e)||Ol(e)||lo("handlerType"),Ol(e)&&Object.values(e).some(function(t){return!Ba(t)})&&lo("handlersType")}function OA(e){e||lo("initialIsRequired"),Ol(e)||lo("initialType"),SA(e)&&lo("initialContent")}function TA(e,t){throw new Error(e[t]||e.default)}var _A={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},lo=Fa(TA)(_A),Tl={changes:xA,selector:EA,handler:PA,initial:OA};function AA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Tl.initial(e),Tl.handler(t);var n={current:e},r=Fa(LA)(n,t),o=Fa(kA)(n),s=Fa(Tl.changes)(e),a=Fa(MA)(n);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Tl.selector(u),u(n.current)}function c(u){wA(r,o,s,a)(u)}return[l,c]}function MA(e,t){return Ba(t)?t(e.current):t}function kA(e,t){return e.current=Im(Im({},e.current),t),t}function LA(e,t,n){return Ba(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var $A={create:AA},NA={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function DA(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t.apply(n,[].concat(o,l))}}}function jA(e){return{}.toString.call(e).includes("Object")}function IA(e){return e||Hm("configIsRequired"),jA(e)||Hm("configType"),e.urls?(VA(),{paths:{vs:e.urls.monacoBase}}):e}function VA(){console.warn(Vm.deprecation)}function HA(e,t){throw new Error(e[t]||e.default)}var Vm={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Hm=DA(HA)(Vm),FA={config:IA},BA=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(s,a){return a(s)},o)}};function Fm(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Fm(e[n],t[n]))}),Nm(Nm({},e),t)}var zA={type:"cancelation",msg:"operation is manually canceled"};function Gd(e){var t=!1,n=new Promise(function(r,o){e.then(function(s){return t?o(zA):r(s)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var UA=$A.create({config:NA,isInitialized:!1,resolve:null,reject:null,monaco:null}),Bm=gA(UA,2),za=Bm[0],_l=Bm[1];function WA(e){var t=FA.config(e),n=t.monaco,r=fA(t,["monaco"]);_l(function(o){return{config:Fm(o.config,r),monaco:n}})}function GA(){var e=za(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(_l({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Gd(Kd);if(window.monaco&&window.monaco.editor)return zm(window.monaco),e.resolve(window.monaco),Gd(Kd);BA(KA,YA)(ZA)}return Gd(Kd)}function KA(e){return document.body.appendChild(e)}function qA(e){var t=document.createElement("script");return e&&(t.src=e),t}function YA(e){var t=za(function(r){var o=r.config,s=r.reject;return{config:o,reject:s}}),n=qA("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ZA(){var e=za(function(n){var r=n.config,o=n.resolve,s=n.reject;return{config:r,resolve:o,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){zm(n),e.resolve(n)},function(n){e.reject(n)})}function zm(e){za().monaco||_l({monaco:e})}function XA(){return za(function(e){var t=e.monaco;return t})}var Kd=new Promise(function(e,t){return _l({resolve:e,reject:t})}),Um={config:WA,init:GA,__getMonacoInstance:XA},JA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},qd=JA,QA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},RA=QA;function e3({children:e}){return p.createElement("div",{style:RA.container},e)}var t3=e3,n3=t3;function r3({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:s,wrapperProps:a}){return p.createElement("section",{style:{...qd.wrapper,width:e,height:t},...a},!n&&p.createElement(n3,null,r),p.createElement("div",{ref:o,style:{...qd.fullWidth,...!n&&qd.hide},className:s}))}var o3=r3,Wm=p.memo(o3);function s3(e){p.useEffect(e,[])}var Gm=s3;function a3(e,t,n=!0){let r=p.useRef(!0);p.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var hn=a3;function Ua(){}function Ms(e,t,n,r){return i3(e,r)||l3(e,t,n,r)}function i3(e,t){return e.editor.getModel(Km(e,t))}function l3(e,t,n,r){return e.editor.createModel(t,n,r?Km(e,r):void 0)}function Km(e,t){return e.Uri.parse(t)}function c3({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:f={},height:g="100%",width:h="100%",className:m,wrapperProps:b={},beforeMount:y=Ua,onMount:v=Ua}){let[S,w]=p.useState(!1),[C,E]=p.useState(!0),x=p.useRef(null),P=p.useRef(null),T=p.useRef(null),_=p.useRef(v),O=p.useRef(y),k=p.useRef(!1);Gm(()=>{let A=Um.init();return A.then(L=>(P.current=L)&&E(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>x.current?U():A.cancel()}),hn(()=>{if(x.current&&P.current){let A=x.current.getOriginalEditor(),L=Ms(P.current,e||"",r||n||"text",s||"");L!==A.getModel()&&A.setModel(L)}},[s],S),hn(()=>{if(x.current&&P.current){let A=x.current.getModifiedEditor(),L=Ms(P.current,t||"",o||n||"text",a||"");L!==A.getModel()&&A.setModel(L)}},[a],S),hn(()=>{let A=x.current.getModifiedEditor();A.getOption(P.current.editor.EditorOption.readOnly)?A.setValue(t||""):t!==A.getValue()&&(A.executeEdits("",[{range:A.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),A.pushUndoStop())},[t],S),hn(()=>{var A,L;(L=(A=x.current)==null?void 0:A.getModel())==null||L.original.setValue(e||"")},[e],S),hn(()=>{let{original:A,modified:L}=x.current.getModel();P.current.editor.setModelLanguage(A,r||n||"text"),P.current.editor.setModelLanguage(L,o||n||"text")},[n,r,o],S),hn(()=>{var A;(A=P.current)==null||A.editor.setTheme(u)},[u],S),hn(()=>{var A;(A=x.current)==null||A.updateOptions(f)},[f],S);let M=p.useCallback(()=>{var W;if(!P.current)return;O.current(P.current);let A=Ms(P.current,e||"",r||n||"text",s||""),L=Ms(P.current,t||"",o||n||"text",a||"");(W=x.current)==null||W.setModel({original:A,modified:L})},[n,t,o,e,r,s,a]),F=p.useCallback(()=>{var A;!k.current&&T.current&&(x.current=P.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...f}),M(),(A=P.current)==null||A.editor.setTheme(u),w(!0),k.current=!0)},[f,u,M]);p.useEffect(()=>{S&&_.current(x.current,P.current)},[S]),p.useEffect(()=>{!C&&!S&&F()},[C,S,F]);function U(){var L,W,K,$;let A=(L=x.current)==null?void 0:L.getModel();l||((W=A==null?void 0:A.original)==null||W.dispose()),c||((K=A==null?void 0:A.modified)==null||K.dispose()),($=x.current)==null||$.dispose()}return p.createElement(Wm,{width:h,height:g,isEditorReady:S,loading:d,_ref:T,className:m,wrapperProps:b})}var u3=c3;p.memo(u3);function d3(e){let t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}var p3=d3,Al=new Map;function f3({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:s,theme:a="light",line:l,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:g=!1,width:h="100%",height:m="100%",className:b,wrapperProps:y={},beforeMount:v=Ua,onMount:S=Ua,onChange:w,onValidate:C=Ua}){let[E,x]=p.useState(!1),[P,T]=p.useState(!0),_=p.useRef(null),O=p.useRef(null),k=p.useRef(null),M=p.useRef(S),F=p.useRef(v),U=p.useRef(),A=p.useRef(r),L=p3(s),W=p.useRef(!1),K=p.useRef(!1);Gm(()=>{let I=Um.init();return I.then(B=>(_.current=B)&&T(!1)).catch(B=>(B==null?void 0:B.type)!=="cancelation"&&console.error("Monaco initialization: error:",B)),()=>O.current?V():I.cancel()}),hn(()=>{var B,te,X,J;let I=Ms(_.current,e||r||"",t||o||"",s||n||"");I!==((B=O.current)==null?void 0:B.getModel())&&(f&&Al.set(L,(te=O.current)==null?void 0:te.saveViewState()),(X=O.current)==null||X.setModel(I),f&&((J=O.current)==null||J.restoreViewState(Al.get(s))))},[s],E),hn(()=>{var I;(I=O.current)==null||I.updateOptions(u)},[u],E),hn(()=>{!O.current||r===void 0||(O.current.getOption(_.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(K.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),K.current=!1))},[r],E),hn(()=>{var B,te;let I=(B=O.current)==null?void 0:B.getModel();I&&o&&((te=_.current)==null||te.editor.setModelLanguage(I,o))},[o],E),hn(()=>{var I;l!==void 0&&((I=O.current)==null||I.revealLine(l))},[l],E),hn(()=>{var I;(I=_.current)==null||I.editor.setTheme(a)},[a],E);let $=p.useCallback(()=>{var I;if(!(!k.current||!_.current)&&!W.current){F.current(_.current);let B=s||n,te=Ms(_.current,r||e||"",t||o||"",B||"");O.current=(I=_.current)==null?void 0:I.editor.create(k.current,{model:te,automaticLayout:!0,...u},d),f&&O.current.restoreViewState(Al.get(B)),_.current.editor.setTheme(a),l!==void 0&&O.current.revealLine(l),x(!0),W.current=!0}},[e,t,n,r,o,s,u,d,f,a,l]);p.useEffect(()=>{E&&M.current(O.current,_.current)},[E]),p.useEffect(()=>{!P&&!E&&$()},[P,E,$]),A.current=r,p.useEffect(()=>{var I,B;E&&w&&((I=U.current)==null||I.dispose(),U.current=(B=O.current)==null?void 0:B.onDidChangeModelContent(te=>{K.current||w(O.current.getValue(),te)}))},[E,w]),p.useEffect(()=>{if(E){let I=_.current.editor.onDidChangeMarkers(B=>{var X;let te=(X=O.current.getModel())==null?void 0:X.uri;if(te&&B.find(J=>J.path===te.path)){let J=_.current.editor.getModelMarkers({resource:te});C==null||C(J)}});return()=>{I==null||I.dispose()}}return()=>{}},[E,C]);function V(){var I,B;(I=U.current)==null||I.dispose(),g?f&&Al.set(s,O.current.saveViewState()):(B=O.current.getModel())==null||B.dispose(),O.current.dispose()}return p.createElement(Wm,{width:h,height:m,isEditorReady:E,loading:c,_ref:k,className:b,wrapperProps:y})}var g3=f3,h3=p.memo(g3),m3=h3;const qm=e=>{var t;(t=e.getAction("editor.action.formatDocument"))==null||t.run()},b3="gs-field-code",v3={minimap:{enabled:!1},lineNumbers:"off",scrollBeyondLastLine:!1,contextmenu:!1,fixedOverflowWidgets:!0,showFoldingControls:"always",suggestOnTriggerCharacters:!1,lineDecorationsWidth:0,renderLineHighlight:"none",wordWrapOverride1:"off",tabSize:2,scrollbar:{verticalScrollbarSize:8,horizontal:"hidden",alwaysConsumeMouseWheel:!1}};function Ir(e){const{value:t,language:n,onChange:r,clean:o,padding:s,isDarkTheme:a,className:l,containerClassName:c,minHeight:u="170px",onMount:d,readOnly:f,name:g,required:h,disabled:m,monacoOptions:b}=e,y=typeof t=="string"?t:JSON.stringify(t,null,2),v=Es({...e,className:j(b3,"gs-utl-flex gs-utl-h-full",c,!e.row&&"gs-utl-flex gs-utl-flex-col")}),S=j("gs-utl-relative gs-utl-flex-grow");return i.jsxs("div",{...v,children:[i.jsx(Ps,{...e}),i.jsxs("div",{className:S,style:{minHeight:u},children:[g&&i.jsx("input",{className:$e.hiddenVisually,name:g,value:y,disabled:m,required:h,onChange:()=>{}}),i.jsx("div",{className:j("gs-utl-absolute gs-utl-inset-0",m&&$e.disabled),children:i.jsx(m3,{defaultLanguage:n,defaultValue:y,theme:a?"vs-dark":"light",className:j(re.b,re.rnd,z.br,l),options:{...v3,readOnly:f,...o&&{domReadOnly:!0,overviewRulerLanes:0,selectOnLineNumbers:!1,folding:!1,matchBrackets:"never",guides:{indentation:!1}},...Mt(s)&&{lineDecorationsWidth:s*2,padding:{top:s,bottom:s}},...b},onChange:r,onMount:(w,C)=>{let E=!1;const x=()=>qm(w);w.onDidChangeModelLanguageConfiguration(x),w.onDidScrollChange(()=>{E||(E=!0,x())}),setTimeout(x,10),d==null||d(w,C)}})})]})]})}const Ym=oe(function({buttonProps:t,content:n,code:r,onAction:o}){const s=Kn(),a=Ce(),l=fe(),{isProjectTypeEmail:c}=l,u=l.editor,{isDarkTheme:d}=Zt(),[f,g]=p.useState(),h=()=>{let b=(f||"").trim();const y=rA({code:b,appStore:l,showToastError:!0});if(!y.error)b=y.output;else return;o?o(b):u.setComponents(b),s.close()};p.useEffect(()=>{r?g(r):(async()=>{if(c)g(u.getHtml());else{const v=(await Pl(u,{page:u.Pages.getSelected(),skipProject:!0,styles:"inline"})).find(S=>S.mimeType==="text/html");v&&g(v.content)}})()},[]);const m=(t==null?void 0:t.children)||a.t("actions.importCode.button");return i.jsxs(N,{col:!0,space:"m",children:[i.jsx(D,{children:n??a.t("actions.importCode.content")}),i.jsx(D,{className:H("h-96"),children:f!==void 0&&i.jsx(Ir,{value:f,onChange:b=>g(b||""),isDarkTheme:d,language:"html"})}),i.jsx(N,{justify:"end",children:i.jsx(Ie,{size:"m2",variant:"pr",onClick:h,...t,children:m})})]})}),Yd="data-type-empty",Zm=(e,t)=>{e.Canvas.getFrames().forEach(n=>{const{view:r}=n,o=Array.from(r.getDoc().querySelectorAll(`style[${Yd}]`));for(const s of o)s.disabled=!t})},y3=(e,t,n="Empty",r={})=>{const o=`[${Yd}="${t}"]`,s=e.frameView.getHead(),{midSelector:a="",styleOut:l="",styleIn:c=""}=r;if(!s.querySelector(`style${o}`)){const u=document.createElement("style");u.setAttribute(Yd,t),u.innerHTML=`
    [data-gjs-type="${t}"]${a}:empty {
      text-decoration: none;
      padding: 5px;
      ${r.limitW?"min-width: 50px;":""}
      ${l}
    }
    [data-gjs-type="${t}"]${a}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${r.limitH?"height: auto;":""}
      ${r.smallH?"min-height: 30px;":""}
      ${c}
    }`,s.appendChild(u)}},Xm=(e,t)=>{const{model:n}=t,r=n.constructor.getDefaults(),o=r.emptyState,s=n.get("type");if(!o||r.void===!0||s!==e)return;const a=o===!0?{}:o;y3(t,s,n.getName({noCustom:!0}),a)},w3=function(t){const{Components:n}=t,r=o=>{const{id:s}=o;n.addType(s,{extendFnView:["onRender"],view:{onRender(){Xm(s,this)}}})};n.getTypes().forEach(r),t.on("component:type:add",r)};function S3(e){const{Components:t}=e,n=t.events,{modalStore:r,i18nStore:o}=ai(),{root:s,head:a,body:l}=Va,{attributes:c,class:u,font:d,all:f,preview:g,title:h,style:m,breakpoint:b}=Vd,{section:y,column:v,text:S,button:w,image:C,divider:E,social:x,socialElement:P,spacer:T,navbar:_,navbarLink:O,raw:k}=bm,{model:M}=t.getType("default"),{model:F}=t.getType(s),{model:U,view:A}=t.getType(a),{model:L,view:W}=t.getType(_),{model:K,view:$}=t.getType(O),{model:V,view:I}=t.getType(y),{model:B,view:te}=t.getType(v),{model:X,view:J}=t.getType(S),{model:ie,view:q}=t.getType(w),{model:Y,view:R}=t.getType(E),{model:le,view:ae}=t.getType(T),{view:ye,model:we}=t.getType(x),{view:Xe,model:Qe}=t.getType(P),pt="css-class",rt={id:"link",name:"href",label:"Link",placeholder:"Link to redirect on click"},Je={name:"src",changeProp:!0,type:"image",label:"Image"},zt={label:"Content",getValue:({component:ee})=>ee.getInnerHTML(),setValue:({component:ee,value:ce})=>ee.components(ce)},lt=ee=>{r.open({title:ee.getName({noCustom:!0}),content:()=>i.jsx(Ym,{content:"",code:ee.getInnerHTML(),onAction:ce=>ee.components(ce),buttonProps:{children:o.t("save")}})})},Nt=ee=>{var me;const ce=ee.getChildrenContainer();((me=ce==null?void 0:ce.innerHTML)==null?void 0:me.trim())===""&&(ce.innerHTML="")},Tt=ee=>ee.set({void:!1},{silent:!0});function ht(ee={}){return M.prototype.toHTML.call(this,ee)}function ot(ee){const ce=ee.closestType(s),me=ce==null?void 0:ce.findType(a)[0];return(me==null?void 0:me.toHTML())||""}function Ue(ee){const ce=ee.toHTML(),me=e.runCommand(D_,{mjml:ce}),Sn=new DOMParser().parseFromString(me.html,"text/html");return{mjml:ce,mjmlToHtml:me,document:Sn}}const ct=function(ee){const ce=ee.model,me=Dr(()=>{var Ee;return(Ee=ce.closestType(s))==null?void 0:Ee.trigger("rerender")});ee.listenTo(ce.components(),"add remove reset change",me)},wt=(ee,ce)=>ee.replace(`<${s}>`,`<${s}>${ot(ce)}`),tn=ee=>`cls-${ee.tagName}-${ee.getId()}`,xr=(ee,ce)=>{const me=ce.prototype.getMjmlAttributes.call(ee);return{...me,[pt]:`${me[pt]||""} ${tn(ee)}`.trim()}},Gr=(ee,ce)=>{const me=ee.closestType(s),Ee=(me==null?void 0:me.findFirstType(a))||(me==null?void 0:me.append({type:a})[0]);Ee==null||Ee.trigger(ce?"rerenderHeadImmediate":"rerenderHead")},Ut=ee=>function(){return xr(this,ee)},nn=(ee,ce)=>function(me){const Ee=me.querySelector(`.${tn(this.model)}`);return(ce?Ee:Ee==null?void 0:Ee.outerHTML)||ee.prototype.getTemplateFromEl.call(this,me)},ut=ee=>function(...ce){const me=ee.prototype.toJSON.apply(this,ce),Ee=me.attributes||{};return delete me.style,delete Ee.style,delete Ee.__p,me};function wo(){return{start:`<mjml>${ot(this.model)}<mj-body><mj-column>`,end:"</mj-column></mj-body></mjml>"}}t.addType("wrapper",{extendFn:["init"],model:{defaults:{stylable:!1,delegate:{layer:ee=>ee.findType(s)[0]}},init(){this.on(`${n.update}:components`,this.__updateLayersRoot)},__updateLayersRoot(){this.findFirstType(s)&&e.Layers.setRoot(this)}}}),t.addType(s,{model:{defaults:{tagName:s,name:"Root",toolbar:[]},toHTML:ht,toJSON:ut(F)},view:{reset(){this.render()}}}),t.addType(a,{model:{defaults:{tagName:a,name:"Head",copyable:!1,stylable:!1,traits:[],icon:`<svg viewBox="0 0 24 24">
          <path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" />
        </svg>`},toJSON:ut(U)},view:{init(){this.renderHeadDebounced=Dr(this.renderHead,30);const{em:ee,el:ce,model:me}=this,Ee=me.components(),Sn="core:preview",Dt=ee.Commands.events;this.listenTo(ee,`${Dt.runCommand}${Sn}`,()=>{ce.style.display="none"}),this.listenTo(ee,`${Dt.stopCommand}${Sn}`,()=>{ce.style.display=""}),this.listenTo(Ee,"change",this.onComponentsChange),this.listenTo(Ee,"add remove reset",this.renderHead),this.listenTo(me,"rerenderHead",this.renderHeadDebounced),this.listenTo(me,"rerenderHeadImmediate",this.renderHead)},onComponentsChange(ee){const ce=Object.keys(ee.changedAttributes());ce.length===1&&ce[0]==="status"||this.renderHead()},renderHead(){var Dt;const{model:ee,el:ce}=this,me=ee.closestType(s),Ee=me&&Ue(me),Sn=(Dt=Ee==null?void 0:Ee.document)==null?void 0:Dt.head;if(Sn){const Cn="mjml-head-result",Jn=ce.ownerDocument,qs=Jn.querySelector(Cn)||Jn.createElement(Cn);qs.innerHTML=Sn.innerHTML,!Jn.head.contains(qs)&&Jn.head.prepend(qs)}},render(...ee){const ce=A.prototype.render.apply(this,ee);return this.renderHeadDebounced(),ce}}}),t.addType(c,{isComponent:Os(c),model:{defaults:{tagName:c,name:"Attributes",copyable:!1,layerable:!1,stylable:!1,draggable:fr(a),traits:[]},toJSON:ut(M)},view:{onRender(){this.el.style.display="none"},init(){ct(this)}}}),t.addType(u,{isComponent:Os(u),model:{defaults:{tagName:u,name:"Class",stylable:!1,draggable:fr(c),traits:[]},toJSON:ut(M)}}),t.addType(d,{model:{defaults:{tagName:d,name:"Font",stylable:!1,draggable:fr(a),icon:'<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1-3.5 7H18V9M5 3h5a2 2 0 0 1 2 2v11H9v-5H6v5H3V5a2 2 0 0 1 2-2m1 2v4h3V5H6Z"/></svg>',traits:[{name:"name",placeholder:"Name of the font"},{name:"href",placeholder:"URL of a hosted CSS file"}]},toJSON:ut(M)},view:{tagName:()=>"div",render(){return this.el.style.cssText="",this}}}),t.addType(b,{extend:s,isComponent:Os(b),model:{defaults:{tagName:b,name:"Breakpoint",stylable:["width"],removable:!0,droppable:!1,draggable:fr(a),icon:'<svg viewBox="0 0 24 24"><path d="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z" /></svg>',traits:[]}},view:{attributes:{},render(){return this.el.style.cssText="",this}}}),t.addType(f,{isComponent:Os(f),model:{defaults:{tagName:f,name:"All",stylable:!1,void:!0,draggable:fr(c),traits:[]},toHTML(...ee){return F.prototype.toHTML.apply(this,ee)},toJSON:ut(M)}}),t.addType(g,{isComponent:Os(g),model:{defaults:{tagName:g,name:"Preview",copyable:!1,droppable:!1,stylable:!1,draggable:fr(a),traits:[zt],icon:`<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`},toJSON:ut(M)},view:{tagName:()=>"div",init(){const ee=this.model.components();this.onRender=Dr(this.onRender,1),this.listenTo(ee,"add remove reset change",this.onRender)},onRender(){const{model:ee,el:ce}=this,me=ee.getName({noCustom:!0}),Ee=ee.getInnerHTML();ce.innerHTML=`<b>${me}</b>: ${Ee}`,ce.style.padding="5px 10px",ce.style.fontFamily="system-ui"}}}),t.addType(h,{isComponent:Os(h),extend:g,model:{defaults:{tagName:h,name:"Title",icon:'<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'}}}),t.addType(m,{model:{defaults:{tagName:m,name:"Style",droppable:!1,layerable:!1,stylable:!1,traits:[]},toJSON:ut(M)},view:{render(){return this}}}),t.addType(l,{model:{defaults:{tagName:l,icon:`<svg viewBox="0 0 24 24">
          <path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" />
        </svg>`,traits:[],emptyState:{midSelector:">div",styleOut:"height: 100vh;"}},toJSON:ut(M)}}),t.addType(y,{extendFn:["init"],model:{defaults:{tagName:y,"style-default":{padding:"20px 0px","text-align":"center"},icon:`<svg viewBox="0 0 24 24">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,traits:[{type:"checkbox",label:"Full width",name:"full-width",valueTrue:"full-width",valueFalse:""}],emptyState:{midSelector:">div>table>tbody>tr>td"}},init(){Tt(this)},getMjmlAttributes:Ut(V),toJSON:ut(V)},extendFnView:["render"],view:{getTemplateFromEl:nn(I),getMjmlTemplate(){const{start:ee,end:ce}=I.prototype.getMjmlTemplate.call(this);return{start:wt(ee,this.model),end:ce}},render(){return Nt(this),this}}}),t.addType(v,{extendFn:["init"],model:{defaults:{tagName:v,icon:`<svg viewBox="0 0 24 24" style="rotate: 90deg;">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,traits:[],emptyState:{midSelector:">table>tbody",styleIn:"margin: 0 10px;"}},init(){Tt(this)},getMjmlAttributes:Ut(B),toJSON:ut(B)},view:{getMjmlTemplate(){const{start:ee,end:ce}=te.prototype.getMjmlTemplate.call(this);return{start:wt(ee,this.model),end:ce}},getTemplateFromEl:nn(te,!0),getChildrenContainer(){const{el:ee}=this;return ee.querySelector("td > table tbody")||ee.querySelector("table tbody")||ee},render(){this.renderAttributes();const ee=this.getTemplateFromMjml();return this.el.innerHTML=ee.content,this.$el.attr(ee.attributes),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.updateStatus(),this.postRender(),Gr(this.model,!0),this}}}),t.addType(S,{model:{defaults:{tagName:S,emptyState:{midSelector:' [contenteditable="false"]',styleIn:"min-height: 20px;",styleOut:"padding: 0 5px;"},traits:[],"style-default":{padding:"10px 25px"}},getMjmlAttributes:Ut(X),toJSON:ut(X)},view:{getMjmlTemplate:wo,getTemplateFromEl:nn(J)}}),t.addType(w,{model:{defaults:{tagName:w,traits:[rt],"style-default":{}},getMjmlAttributes:Ut(ie),toJSON:ut(ie)},view:{getMjmlTemplate:wo,getTemplateFromEl:nn(q)}}),t.addType(C,{model:{defaults:{tagName:C,"style-default":{align:"center"},traits:[{name:"src",changeProp:!0,type:"image",label:"Image"},{id:"altText",name:"alt",placeholder:"Image description"},"title",rt]},toJSON:ut(M)},view:{getMjmlTemplate(){return{start:`<mjml>${ot(this.model)}<mj-body><mj-section><mj-column>`,end:"</mj-column></mj-section></mj-body></mjml>"}},getTemplateFromEl(ee){var ce,me,Ee;return(Ee=(me=(ce=ee.querySelector("img"))==null?void 0:ce.closest("table"))==null?void 0:me.closest("tr"))==null?void 0:Ee.innerHTML}}}),t.addType(E,{model:{defaults:{tagName:E,attributes:{align:"center"},"style-default":{width:"100%"},traits:[{name:"align",type:"radio",options:[{id:"left",title:"Left",labelReact:i.jsx(ne,{icon:Z.alignHorizontalLeft,size:se.sx})},{id:"center",title:"Center",labelReact:i.jsx(ne,{icon:Z.alignHorizontalCenter,size:se.sx})},{id:"right",title:"Right",labelReact:i.jsx(ne,{icon:Z.alignHorizontalRight,size:se.sx})}]}]},getMjmlAttributes:Ut(Y),toJSON:ut(Y)},view:{getMjmlTemplate:wo,getTemplateFromEl:nn(R)}}),t.addType(x,{model:{defaults:{tagName:x,name:"Social",traits:[],emptyState:{midSelector:">td"},"style-default":{align:"center"}},getMjmlAttributes:Ut(we),toJSON:ut(we)},view:{getMjmlTemplate:wo,getTemplateFromEl:nn(ye)}}),t.addType(P,{extendFn:["init"],model:{defaults:{tagName:P,"style-default":{align:"center"},traits:[{type:"select",label:"Icon",name:"name",options:[{id:"custom",name:"Custom"},{id:"facebook",name:"Facebook"},{id:"twitter",name:"Twitter/X"},{id:"google",name:"Google"},{id:"instagram",name:"Instagram"},{id:"web",name:"Web"},{id:"youtube",name:"YouTube"},{id:"pinterest",name:"Pinterest"},{id:"linkedin",name:"Linkedin"},{id:"snapchat",name:"Snapchat"},{id:"vimeo",name:"Vimeo"},{id:"tumblr",name:"Tumblr"},{id:"github",name:"Github"},{id:"soundcloud",name:"SoundCloud"},{id:"medium",name:"Medium"},{id:"dribbble",name:"Dribbble"},{id:"xing",name:"Xing"}]},Je,rt,zt]},init(){Tt(this)},getMjmlAttributes(){const ee=xr(this,Qe);return{...this.getDefaultIconProps()[ee.name],...ee}},getAttrToHTML(){const ee=Qe.prototype.getAttrToHTML.call(this);return{...this.getDefaultIconProps()[ee.name],...ee}},getDefaultIconProps(){return{twitter:{src:"https://upload.wikimedia.org/wikipedia/commons/5/57/X_logo_2023_%28white%29.png","background-color":"black"}}},toJSON:ut(Qe)},extendFnView:["init"],view:{init(){this.listenTo(this.model,"component:update:components",this.rerender)},getMjmlTemplate(){const{start:ee,end:ce}=Xe.prototype.getMjmlTemplate.call(this);return{start:wt(ee,this.model),end:ce}},getInnerMjmlTemplate(){var Ee;const{start:ee,end:ce}=Xe.prototype.getInnerMjmlTemplate.call(this),me=((Ee=this.model.getInnerHTML())==null?void 0:Ee.trim())||"";return{start:`${ee}${me}`,end:ce}},getChildrenContainer(){var Ee;const{el:ee}=this,ce=(Ee=ee.querySelector("tbody > tr > td"))==null?void 0:Ee.nextElementSibling;return(ce==null?void 0:ce.firstElementChild)||ee.querySelector("img")||ee}}}),t.addType(T,{model:{defaults:{tagName:T,traits:[]},getMjmlAttributes:Ut(le),toJSON:ut(le)},view:{getMjmlTemplate:wo,getTemplateFromEl:nn(ae)}}),t.addType(_,{model:{defaults:{tagName:_,emptyState:{midSelector:">td>div"}},getMjmlAttributes:Ut(L),toJSON:ut(L)},view:{getMjmlTemplate:wo,getTemplateFromEl:nn(W,!0),render(){this.renderAttributes();const ee=this.getTemplateFromMjml();return this.el.innerHTML=ee.content,this.$el.attr(ee.attributes),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.renderStyle(),this.postRender(),Gr(this.model),this}}}),t.addType(O,{model:{defaults:{tagName:O,icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" />
        </svg>`,emptyState:{midSelector:">td>div"},"style-default":{}},toJSON:ut(K)},view:{getMjmlTemplate(){const{start:ee,end:ce}=$.prototype.getMjmlTemplate.call(this);return{start:wt(ee,this.model),end:ce}},getTemplateFromEl(ee){return ee.querySelector(".mj-inline-links").innerHTML}}}),t.addType(k,{extendFn:["initToolbar"],model:{defaults:{tagName:k,name:"HTML block",emptyState:{midSelector:">div"}},initToolbar(){c_(this,{id:"edit",command:()=>lt(this),label:`<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`})},toJSON:ut(M)},view:{events:{dblclick:"onActive"},onActive(){lt(this.model)}}});const _t=ee=>{const{id:ce,view:me}=ee,Ee=me.prototype;t.addType(ce,{view:{render(){return Ee.render.apply(this,arguments),Xm(ce,this),this}}})};[l,y,v,S,_,x,k].forEach(ee=>_t(t.getType(ee))),t.getTypes().forEach(({id:ee,view:ce})=>{ce.prototype.disableEditing&&t.addType(ee,{view:{onDisable(me={}){this.disableEditing({...me,parserOptions:{htmlType:"text/html"}})}}})});const Et=El.globalStyles,wn=()=>{const ee=e.Css.rules.filter(Dt=>{const Cn=Dt.attributes.groups;return!!(Cn!=null&&Cn.some(Jn=>Jn.startsWith(`${Et}:`)))}).map(Dt=>Dt.toCSS());if(!ee.length)return;const me=e.Components.getWrapper().findFirstType(Va.root),Ee=me.findFirstType(a)||me.append({type:a})[0];(Ee.findType(m).find(Dt=>Dt.getAttributes()[pt]===Et)||Ee.append({type:m,attributes:{[pt]:Et}})[0]).set("content",ee.join(`
`))},rn=Dr(wn,100);e.on(e.events.projectLoad,({loaded:ee})=>ee&&wn()),e.onReady(()=>{e.on("all",ee=>{ee&&ee.startsWith(`${e.DataSources.events.path}:${Et}.`)&&rn()})})}function C3(e){const{Blocks:t}=e,n="Content",r="Layout",o={className:"h-7",full:!0,space:"s",nowrap:!0},s={category:r,full:!0},a="gjs-border-2 gjs-border-current gjs-rounded-sm",l=(c,u)=>{t.add(c,{select:!0,category:n,...u})};l("mj-text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,content:"<mj-text>Insert text here</mj-text>",activate:!0}),l("mj-button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:"<mj-button>Button</mj-button>"}),l("mj-image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,content:`<mj-image src="${US}"/>`,activate:!0}),l("mj-divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:"<mj-divider/>"}),l("mj-social",{label:"Social",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,content:`<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`}),l("mj-social-element",{label:"Social Element",media:`<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,content:'<mj-social-element name="facebook">Facebook</mj-social-element>'}),l("mj-spacer",{label:"Spacer",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,content:"<mj-spacer/>"}),l("mj-navbar",{label:"Navbar",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,content:`<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`}),l("mj-hero",{label:"Hero",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${eh({width:600,height:300,text:"Hero Image",fg:"555"})}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`}),l("mj-raw",{label:"HTML block",activate:!0,media:`<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,content:`<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`}),l("mj-1-column",{...s,label:"1 Column",mediaReact:i.jsx(N,{...o,children:i.jsx(D,{className:a,grow:!0})}),content:`<mj-section>
        <mj-column></mj-column>
      </mj-section>`}),l("mj-2-columns-50-50",{...s,label:"2 Columns 50/50",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:a,grow:!0}),i.jsx(D,{className:a,grow:!0})]}),content:`<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`}),l("mj-2-columns-25-75",{...s,label:"2 Columns 25/75",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-1/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-3/4")})]}),content:`<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`}),l("mj-2-columns-33-67",{...s,label:"2 Columns 33/67",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-1/3")}),i.jsx(D,{className:G(a,"gs-utl-basis-2/3")})]}),content:`<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`}),l("mj-2-columns-67-33",{...s,label:"2 Columns 67/33",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-2/3")}),i.jsx(D,{className:G(a,"gs-utl-basis-1/3")})]}),content:`<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`}),l("mj-2-columns-75-25",{...s,label:"2 Columns 75/25",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-3/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-1/4")})]}),content:`<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`}),l("mj-3-columns",{...s,label:"3 Columns",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:a,grow:!0}),i.jsx(D,{className:a,grow:!0}),i.jsx(D,{className:a,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`}),l("mj-3-columns-25-25-50",{...s,label:"3 Columns 25/25/50",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-1/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-1/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-2/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`}),l("mj-3-columns-25-50-25",{...s,label:"3 Columns 25/50/25",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-1/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-2/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),l("mj-3-columns-50-25-25",{...s,label:"3 Columns 50/25/25",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:G(a,"gs-utl-basis-2/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-1/4")}),i.jsx(D,{className:G(a,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),l("mj-4-columns",{...s,label:"4 Columns",mediaReact:i.jsxs(N,{...o,children:[i.jsx(D,{className:a,grow:!0}),i.jsx(D,{className:a,grow:!0}),i.jsx(D,{className:a,grow:!0}),i.jsx(D,{className:a,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`})}const x3=(e,t)=>({[Me.web]:r=>Mm(r,t),[Me.document]:r=>Mm(r,t),[Me.email]:S3})[e],ks="https://cdn.jsdelivr.net/npm/",Jm={id:"gjs-blocks-basic",src:`${ks}grapesjs-blocks-basic@1.0.1/dist/index.js`},E3={id:"grapesjs-plugin-forms",src:`${ks}grapesjs-plugin-forms@2.0.5/dist/index.js`},Qm={id:"grapesjs-parser-postcss",src:`${ks}grapesjs-parser-postcss@1.0.1/dist/index.js`},P3={id:"grapesjs-navbar",src:`${ks}grapesjs-navbar@1.0.1/dist/index.js`,options:{block:{category:"Extra"}}},Rm={id:"grapesjs-plugin-export",src:`${ks}grapesjs-plugin-export@1.0.11/dist/index.js`,options:{isBinary:(e,t)=>{const n=t.split(".")[1];return/[\x00-\x08\x0E-\x1F]/.test(e)&&!(n&&["html","css"].indexOf(n)>=0)}}},O3={id:"grapesjs-mjml",src:`${ks}grapesjs-mjml@1.0.6/dist/index.js`,options:{columnsPadding:"",useCustomTheme:!1,resetDevices:!1,resetBlocks:!1,blocks:[],useXmlParser:!0,resetStyleManager:!1}},T3={[Me.email]:[C3,O3],[Me.web]:[Jm,E3,Rm,Qm,P3],[Me.document]:[Jm,Rm,Qm]};function _3(e){const{Components:t,Blocks:n}=e,r=o=>{const{model:s,id:a}=o,l=s.getDefaults(),c=n.get(a),u=l.icon,d=c==null?void 0:c.get("media"),f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',g=u&&u!==f&&!d?u:d||f;t.addType(a,{model:{defaults:{icon:g}}})};t.getTypes().forEach(r),e.on("component:type:add",r)}const A3=(e,t)=>{const{contextMenu:n}=t.appStore.store,{Canvas:r}=e;e.on(r.events.frameLoad,({window:o,el:s})=>{o.document.addEventListener("contextmenu",async l=>{if(!n.isEnabled)return;l.preventDefault();const c=l.target,u=e.getModel().get("componentHovered")||e.Utils.helpers.getModel(c);if(u){const d=s.getBoundingClientRect(),f=r.getZoomDecimal();e.runCommand(de.contextMenuComponent,{component:u,event:l,x:l.clientX*f+d.left,y:l.clientY*f+d.top})}})})},Zd=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
<path fill="currentColor" d="M20 6c0-2.168-3.663-4-8-4S4 3.832 4 6v2c0 2.168 3.663 4 8 4s8-1.832 8-4zm-8 13c-4.337 0-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4v-3c0 2.168-3.663 4-8 4"/><path fill="currentColor" d="M20 10c0 2.168-3.663 4-8 4s-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4z"/></svg>`,Bo="--before-content",Xd={select:!0,activate:!0,category:{id:"data-sources",label:"Data Sources"}};var Xt=(e=>(e.variable="data-variable",e.condition="data-condition",e.conditionTrue="data-condition-true-content",e.conditionFalse="data-condition-false-content",e.collection="data-collection",e.collectionItem="data-collection-item",e))(Xt||{});function eb(e){return typeof e=="object"&&e.type==="data-variable"}function tb(e){if(eb(e)){const{path:t}=e;return nb(t||"")}return e}function nb(e){return`{{ ${e} }}`}function M3(e){const t={};return e.DataSources.getAll().forEach(n=>{const r=n.get("id");if(!r)return;const o=n.getRecords();if(!o){t[r]={};return}t[r]=o.reduce((s,a)=>{if(!a)return s;const l={...a.attributes};return delete l.__p,delete l.id,{...s,[a.id]:l}},{})}),t}function k3(e){if(e)return Object.entries(e).map(([t,n])=>({id:t,data:n}))}function L3(e,t){var g;const{Components:n,I18n:r}=e,o=r.t("dataSources.collection"),s=Xt.collection,a=Xt.collectionItem,l="data-type-data-collection",c='<svg viewBox="0 0 24 24"><path d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10" /></svg>',u=(g=t.appStore.sdkOptions.dataSources)==null?void 0:g.blocks,d=h=>{const m=h.is(s)?h:h.closestType(s);if(!m)return;const b="dataCollectionPicker",y={id:b,header:!1,layout:{type:"panelDataCollectionPicker",component:m,onConfirm:()=>e.runCommand(de.layoutRemove,{id:b})},placer:{type:"dialog",title:r.t("dataSources.editCollection"),size:"l"}};e.runCommand(de.layoutToggle,{...y})},f=({items:h,component:m})=>[{id:`open-${s}-picker`,label:Zd,command:()=>d(m)},...h];n.addType(a,{isComponent:h=>Ts(h,a),model:{defaults:{name:r.t("dataSources.collectionItem"),copyable:!1,emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M22 13H14V11H22V13M22 7H14V9H22V7M14 17H22V15H14V17M12 9V15C12 16.1 11.1 17 10 17H4C2.9 17 2 16.1 2 15V9C2 7.9 2.9 7 4 7H10C11.1 7 12 7.9 12 9M10.5 15L8.3 12L6.5 14.3L5.3 12.8L3.5 15H10.5Z" /></svg>',toolbarItems:f}}}),n.addType(s,{isComponent:h=>Da(h,l)||Ts(h,s),block:u&&{label:o,media:c,content:{type:s,components:{type:a},dataResolver:{startIndex:0,endIndex:1,dataSource:{type:"data-variable",path:""}}},...Xd},model:{defaults:{icon:c,name:o,attributes:{[l]:!0},toolbarItems:f},init(){const h="collection-";if(!this.getCollectionId()){const b=h+Math.random().toString(36).substring(2,9);this.setCollectionId(b)}}},view:{onActive(h){h==null||h.stopPropagation(),d(this.model)}}})}function $3(e,t){var y;const{Components:n,I18n:r}=e,o=r.t("dataSources.condition"),s=r.t("dataSources.conditionTrue"),a=r.t("dataSources.conditionFalse"),l=r.t("dataSources.conditionElse"),c=(y=t.appStore.sdkOptions.dataSources)==null?void 0:y.blocks,u=Xt.condition,d=Xt.conditionTrue,f=Xt.conditionFalse,g="data-type-data-condition",h=`<svg viewBox="0 0 24 24">
  <path d="M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29" />
</svg>`,m=v=>{const S=v.is(u)?v:v.closestType(u);if(!S)return;const w="dataConditionPicker",C={id:w,header:!1,layout:{type:"panelDataConditionPicker",component:S,onConfirm:()=>e.runCommand(de.layoutRemove,{id:w})},placer:{type:"dialog",title:r.t("dataSources.editCondition"),size:"l"}};e.runCommand(de.layoutToggle,{...C})},b=({items:v,component:S})=>[{id:`open-${u}-picker`,label:Zd,command:()=>m(S)},...v];n.addType(d,{isComponent:v=>Ts(v,d),model:{defaults:{tagName:"span",name:s,copyable:!1,emptyState:{styleIn:"display: inherit;"},icon:'<svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>',toolbarItems:b}}}),n.addType(f,{isComponent:v=>Ts(v,f),model:{defaults:{tagName:"span",name:a,copyable:!1,emptyState:{styleIn:"display: inherit;"},icon:'<svg viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>',toolbarItems:b}}}),n.addType(u,{isComponent:v=>Da(v,g)||Ts(v,u),block:c&&{label:o,media:h,content:{type:u,dataResolver:{condition:{logicalOperator:"and",statements:[{left:1,operator:">",right:0}]}},components:[{type:d},{type:f}]},...Xd},model:{defaults:{icon:h,name:o,textable:!0,stylable:!1,tagName:"span",attributes:{[g]:!0},toolbarItems:b}},view:{events:()=>({dblclick:"onActive"}),init(){const{em:v}=this;this.listenTo(v,cn.toggleDataSourcesPreview,this.renderDataResolver)},onActive(v){e.getEditing()||(v==null||v.stopPropagation(),m(this.model))},getConditionString(){const{model:v}=this,{operator:S,statements:w=[]}=v.getCondition(),C=S==="AND"?" AND ":" OR ",x=w.map(P=>{const{left:T="",operator:_="",right:O=""}=P,k=tb(T),M=tb(O);return`(${k} ${_} ${M})`}).join(C);return`${o}: ${x}`},renderDataResolver(){const v=this.model,S=v.getIfTrueContent(),w=v.getIfFalseContent(),C=S==null?void 0:S.getEl(),E=w==null?void 0:w.getEl();if(e.runCommand(de.getStateDataSource).showPlaceholder){C&&(C.style.display="",C.style.setProperty(Bo,`"${this.getConditionString()} "`)),E&&(E.style.display="",E.style.setProperty(Bo,`" ${l} "`));return}const P=v.isTrue();C&&(C.style.removeProperty(Bo),C.style.display=P?"":"none"),E&&(E.style.removeProperty(Bo),E.style.display=P?"none":"")}}})}function N3(e,t){var d;const{Components:n,I18n:r}=e,o=Xt.variable,s="data-type-data-variable",a="Variable",l=`<svg viewBox="0 0 24 24"><path fill="currentColor" d="${Gi.codeBraces}"/></svg>`,c=(d=t.appStore.sdkOptions.dataSources)==null?void 0:d.blocks,u=f=>{const g="dataVariablePicker",h={id:g,header:!1,layout:{type:"panelDataVariablePicker",component:f,onConfirm:()=>e.runCommand(de.layoutRemove,{id:g})},placer:{type:"dialog",title:r.t("dataSources.editVariable"),size:"l"}};e.runCommand(de.layoutToggle,{...h})};n.addType(o,{isComponent:f=>Da(f,s)||Ts(f,o),block:c&&{label:a,media:l,content:{type:o,dataResolver:{path:"",defaultValue:r.t("dataSources.defaultValue")}},...Xd},model:{defaults:{icon:l,name:a,textable:!0,tagName:"span",attributes:{[s]:!0},toolbarItems:({items:f,component:g})=>[{id:`open-${o}-modal`,label:Zd,command:()=>u(g)},...f]}},view:{events:()=>({dblclick:"onActive"}),init(){const{em:f}=this;this.listenTo(f,cn.toggleDataSourcesPreview,this.renderDataResolver)},onActive(f){e.getEditing()||(f==null||f.stopPropagation(),u(this.model))},renderDataResolver(){const{model:f,el:g}=this;if(e.runCommand(de.getStateDataSource).showPlaceholder){const m=f.getPath();g.textContent="",g.style.setProperty(Bo,`"${nb(m)}"`);return}g.style.removeProperty(Bo),g.textContent=f.getDataValue()}}})}const D3=function(e,t){const{Components:n,Canvas:r,events:o}=e;if(!n.getType(Xt.conditionTrue))return;const{dataSources:s}=t.appStore.sdkOptions;s!=null&&s.globalData&&e.on(o.projectLoad,()=>{e.DataSources.add({id:El.globalData,records:k3(s.globalData),skipFromStorage:!0})}),e.on(r.events.frameLoadBody,({window:a})=>{const l="data-outline-ds",c=a.document;if(c.querySelector(`style[${l}]`))return;const d=c.createElement("style"),f=[Xt.variable,Xt.condition,Xt.collection].map(g=>`.gjs-dashed [data-gjs-highlightable][data-gjs-type="${g}"]`);d.setAttribute(l,""),d.textContent=`
      ${f.join(",")} {
        outline: 2px dotted #8b5cf6;
      }

      .gjs-dashed *[data-gjs-type="data-condition-true-content"],
      .gjs-dashed *[data-gjs-type="data-condition-false-content"] {
        outline: none !important;
      }

      [data-gjs-type="data-variable"]::before,
      [data-gjs-type="data-condition-true-content"]::before,
      [data-gjs-type="data-condition-false-content"]::before {
          content: var(${Bo});
          font-style: italic;
          color: #666;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 100%;
      }
    `,c.head.appendChild(d)}),N3(e,t),$3(e,t),L3(e,t)};function j3(e){const{Components:t}=e,n=r=>{const{id:o,model:s}=r;if(o==="custom-code"){const a="<span>Insert here your custom code</span>";t.addType(o,{model:{defaults:{emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',classes:"gjs-custom-code",components:a,"custom-code-plugin__code":a,styles:".gjs-custom-code { padding: 5px; }"}}})}if(o==="typed"){const a=s.getDefaults().traits.map(l=>l.name==="strings"?{...l,type:"stack",addItem(c){return{id:c,label:`New string ${c}`}},getValue({component:c}){return c.get("strings").map((u,d)=>({id:`${d}`,label:u}))},setValue:({component:c,value:u})=>{const d=u.map(f=>f.label);c.set({strings:d}),c.trigger("rerender")},properties:[{name:"label"}]}:l);t.addType(o,{model:{defaults:{traits:a,strings:["These are the default values...!!!","Use your own strings from Properties!","Have a great day!"],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',classes:"gjs-typed",styles:`
                  .gjs-typed {
                    padding: 5px;
                  }
                `}}})}if(["tabs","tab-content","tab-contents","tab","tab-container"].indexOf(o)>=0){const l={emptyState:!0,icon:o==="tabs"?`
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          `:void 0};o==="tab"&&(l.traits=[{type:"button",label:!1,text:"Style Active",command:c=>{c.select(),c.runCommand(ob),setTimeout(()=>c.Selectors.select(".tab.tab-active"))}}]),t.addType(o,{model:{defaults:l}})}};e.on("component:type:add",n)}const I3=(e,t)=>{const n=t.appStore.store.globalStylesStore;e.on(e.events.projectLoad,({loaded:r})=>r&&n.onLoad())},V3=e=>{const{assetsStore:t}=ai();if(t.onCloudOrCustomUpload){const{Assets:n}=e;n.getConfig().uploadFile=r=>t.handleUpload(r)}},H3=(e,t)=>{t.runCommand(de.fontAdd,{font:e})},Jd=(e,{onSelect:t,...n}={})=>{const r="font",a=e.runCommand(de.assetProviderGet).filter(l=>ft(l.types)?l.types===r:l.types.includes(r))[0];if(!a){e.em.logWarning("No font provider found");return}e.Assets.open({types:[],modalTitle:e.I18n.t("fontManager.selectFont"),optionalProvider:!1,typeId:r,providerId:a.id,onSelect:l=>{const c=l.assetProps;H3(c.customData.font,e),t==null||t(l)},content:{header:{addUrl:!1,upload:!1},itemsPerRow:1},...n})},F3=()=>{const{baseApiUrl:e}=Vs();return`${e}/sdk/projects`},rb=e=>`${F3()}/${e}`,B3=async({licenseKey:e,projectId:t,...n})=>{const r=await Qn.put(rb(t),{body:JSON.stringify(n),params:{d:window.location.hostname,licenseKey:e}});return r==null?void 0:r.result},z3=async(e,t)=>await Qn.put(t,{body:e,headers:{"Content-Type":"application/json"}}),U3=async(e,t,n,r)=>{const o=JSON.stringify(e),s=await B3({licenseKey:t,projectId:n,fileMetadata:{size:new Blob([o]).size},identityId:r,name:e.name,description:e.description});if(!s)throw new Error("Project not found");const{uploadUrl:a}=s;await z3(o,a)},W3=(e,t,n)=>Qn.get(rb(t),{params:{d:window.location.hostname,licenseKey:e,identityId:n}}),G3=async e=>await Qn.get(e),K3=async(e,t,n,r)=>{const o=await W3(t,n,r),s=o==null?void 0:o.result,a=o==null?void 0:o.errorData;if(!s&&(a!=null&&a.notFoundInDb))return{id:n,project:{}};if(!s)throw new Error("Project not found");const{downloadUrl:l}=s,c=await G3(l);if(!c||c instanceof Error)throw new Error("Project download failed");return{id:n,project:c}},q3=(e,t)=>{const{appEditorStore:n,toastStore:r,i18nStore:o}=t.appStore.store,{isUsingProjectSelfHosted:s,isUsingProjectCloud:a,sdkOptions:l}=n,c=l.storage||{},{project:u,onLoad:d,onSave:f,autosaveChanges:g,autosaveIntervalMs:h}=c;let m,b,y,v;if(s)y=d,v=f,m=g,b=h;else if(a){const x=l.licenseKey,P=n.sdkProjectId,T=n.sdkIdentityId,_=10,O=1e4;v=({project:k})=>U3(k,x,P,T),y=({editor:k})=>K3(k,x,P,T),m=Math.max(_,g??_),h&&(b=Math.max(O,h))}const{Storage:S,events:w}=e,{events:C}=S;let E=!1;if(e.once(w.projectLoad,x=>{E=!!x.loaded}),e.once("change:readyLoad",()=>{var P;const x=(P=l.project)==null?void 0:P.default;!E&&x&&e.loadProjectData(x)}),e.on(C.startStore,()=>n.setIsSaving(!0)),e.on(C.endStore,()=>n.setIsSaving(!1)),(y||u)&&v){const x="remote";S.setCurrent(x),S.add(x,{async load(){return u||(await y({editor:e})).project},async store(P){await v({project:P,editor:e})}}),e.on(C.errorLoad,P=>{r.addError("storage-error-load",{header:o.t("storageManager.errorLoad"),content:P.message})}),e.on(C.errorStore,P=>{r.addError("storage-error-store",{header:o.t("storageManager.errorStore"),content:P.message})}),m&&S.setStepsBeforeSave(m),b&&e.onReady(()=>{const P=setInterval(async()=>{e.getDirtyCount()>0&&!n.isSaving&&await e.store()},b);e.on("destroy",()=>clearInterval(P))})}};function Ml({component:e,value:t,getCustomPath:n}){if(eb(t)&&!t.collectionId&&n){const r=t.path??"",o=r.split(".");return{...t,path:n({component:e,path:r,paths:o})}}return t}const Qd=(e,t,n)=>{const r=e.Components.getType(t);if(!r){console.warn(`Component type ${t} not found`);return}const{model:o}=r;e.Components.addType(t,{model:{...n,toHTML(s){var a,l;return s.exporter?((l=n.toHTML)==null?void 0:l.call(this,s))??"":((a=o==null?void 0:o.prototype.toHTML)==null?void 0:a.apply(this,[s]))??""}}})},Y3=(e,t)=>{var r,o;const n=(o=(r=t.appStore.sdkOptions.dataSources)==null?void 0:r.exportConfig)==null?void 0:o.getCustomPath;Qd(e,Xt.variable,{toHTML(s){var d;const{exporter:a}=s;if(!a)return"";const l=(d=this.getDataResolver)==null?void 0:d.call(this),c=(s==null?void 0:s.getCustomPath)??n,u=Ml({component:this,value:l,getCustomPath:c});return a.generateVariable(u)}}),Qd(e,Xt.condition,{toHTML(s){var h,m;const{exporter:a}=s;if(!a)return"";const l=(s==null?void 0:s.getCustomPath)??n,c=this.components(),[u,d]=(c==null?void 0:c.models)??[],f=(h=this.getDataResolver)==null?void 0:h.call(this),g=((m=this.resolveCondition)==null?void 0:m.call(this,f==null?void 0:f.condition,l))??{};return`
${a.generateConditionalStart(g)}
        ${(u==null?void 0:u.toHTML(s))??""}
        ${a.generateConditionElse()}
        ${(d==null?void 0:d.toHTML(s))??""}
      ${a.generateConditionalEnd()}
`},resolveCondition(s,a){var c,u;if(!s)return{};if(s.operator==="and"||s.operator==="or")return{operator:s.operator,statements:((u=(c=s.statements)==null?void 0:c.map)==null?void 0:u.call(c,d=>{var f;return((f=this.resolveCondition)==null?void 0:f.call(this,d,a))??{}}))??[]};const l={component:this,getCustomPath:a};return{...s,left:Ml({...l,value:s.left}),right:Ml({...l,value:s.right})}}}),Qd(e,Xt.collection,{toHTML(s){const{exporter:a}=s;if(!a)return"";const l=(s==null?void 0:s.getCustomPath)??n,c=this.getDataResolver(),u={...c,dataSource:Ml({component:this,value:c==null?void 0:c.dataSource,getCustomPath:l})},d=this.components().at(0);return`
${a.generateCollectionStart(u)}
${(d==null?void 0:d.toHTML(s))??""}
${a.generateCollectionEnd()}
`}})},kl="select-target",ob="enable-sm";function Z3(e,t){var A,L,W,K;const{appEditorStore:n,blockManagerStore:r,toastStore:o,modalStore:s,layoutStore:a,contextMenu:l,assetsStore:c,fontsStore:u}=t.appStore.store,{projectIdToLoad:d,nextProjectData:f,sdkOptions:g}=n,h=()=>r.toggleOpen(),m=()=>n.toggleLeftSidebar(),b=()=>n.toggleRightSidebar(),y=e.getConfig(),{Assets:v,Storage:S,Commands:w}=e,C=w.events,E=e.events,x=(L=(A=g.gjsOptions)==null?void 0:A.assetManager)==null?void 0:L.custom;if(v.all.model.prototype.idAttribute="src",Mt(x)&&(v.getConfig().custom=x),f&&(y.projectData=f,n.setNextProjectData()),d){const $=S.getConfig().options;$&&($.local.key=d)}e.on(E.projectLoad,({project:$})=>{t.appStore.setProjectDataCustom($.custom),u.loadFonts()}),e.on(E.projectGet,({project:$})=>{$.custom=_s(e)}),e.RichTextEditor.getConfig().custom=!0;const{Canvas:P}=e,T=Dr(()=>n.setCanvasPanning(!1),200);e.on(P.events.coords,()=>{n.setCanvasPanning(!0),T()}),e.on(P.events.frameLoad,({el:$})=>{$.tabIndex=-1});const{Parser:_}=e,O=((W=n.sdkOptions.parser)==null?void 0:W.showErrors)!==!1;(K=_.events)!=null&&K.css&&O&&e.on(_.events.css,$=>{const{error:V}=$;if(V){const I=ft(V)?V:V.name&&V.reason?`${V.name}: ${V.reason}`:V.message;o.addError("css-error",{header:"CSS Parser Error",content:I})}}),[{id:"toggle-lsidebar",keys:"alt+ctrl+,",cmd:m},{id:"toggle-lsidebar2",keys:"alt+⌘+,",cmd:m},{id:"toggle-rsidebar",keys:"alt+ctrl+., alt+⌘+.",cmd:b},{id:"show-blocks",keys:"ctrl+b, ⌘+b",cmd:h},{id:"add-symbol",keys:"alt+ctrl+k, alt+⌘+k",cmd:de.symbolAdd},{id:"detach-symbol",keys:"shift+alt+ctrl+k, shift+alt+⌘+k",cmd:de.symbolDetach}].forEach(({id:$,keys:V,cmd:I})=>{e.Keymaps.add(`preset:${$}`,V,I,{prevent:!0})}),e.on(`${C.runCommand}core:preview`,()=>{n.setPreview(!0),r.setOpen(!1),Zm(e,!1)}),e.on(`${C.stopCommand}core:preview`,()=>{n.setPreview(!1),Zm(e,!0),setTimeout(()=>{e.refresh()},n.transitionTime)});const k="target-selection",{Components:M}=e;w.add(kl,{opts:{},init(){this.beforeSelect=this.beforeSelect.bind(this)},onComponentHover($,V){const I={id:k,type:"target",component:V};V?P.addSpot(I):P.removeSpots(I)},beforeSelect($,V={}){V.abort=!0,V.useValid=!1,this.opts.onSelect($),e.stopCommand(kl)},run($,V,I){this.opts=I,e.on("component:select:before",this.beforeSelect),e.on("change:componentHovered",this.onComponentHover)},stop(){e.off("component:select:before",this.beforeSelect),e.off("change:componentHovered",this.onComponentHover),P.removeSpots({id:k}),n.setSelectingTarget(!1)}}),w.add(ob,()=>{n.setSelectedDesignerTab("style")}),w.add(de.toastAdd,($,V,I)=>{o.add(I.id,I)}),w.add(de.dialogOpen,($,V,I)=>{s.open(I)}),w.add(de.dialogClose,()=>{s.close()}),w.add(de.sidebarLeftGet,()=>({visible:n.isLeftSidebarOpen})),w.add(de.sidebarLeftSet,($,V,I)=>{n.setLeftSidebarOpen(!!I.visible)}),w.add(de.sidebarLeftToggle,()=>{n.setLeftSidebarOpen(!n.isLeftSidebarOpen)}),w.add(de.sidebarRightGet,()=>({visible:n.isRightSidebarOpen})),w.add(de.sidebarRightSet,($,V,I)=>{n.setRightSidebarOpen(!!I.visible)}),w.add(de.sidebarRightToggle,()=>{n.setRightSidebarOpen(!n.isRightSidebarOpen)}),w.add(de.sidebarTopGet,()=>({visible:n.isTopSidebarOpen})),w.add(de.sidebarTopSet,($,V,I)=>{n.setTopSidebarOpen(!!I.visible)}),w.add(de.sidebarTopToggle,()=>{n.setTopSidebarOpen(!n.isTopSidebarOpen)}),w.add(de.sidebarBottomGet,()=>({visible:n.isBottomSidebarOpen})),w.add(de.sidebarBottomSet,($,V,I)=>{n.setBottomSidebarOpen(!!I.visible)}),w.add(de.sidebarBottomToggle,()=>{n.setBottomSidebarOpen(!n.isBottomSidebarOpen)}),w.add(de.layoutAdd,($,V,I)=>{I.id&&a.add(I.id,I)}),w.add(de.layoutRemove,($,V,I)=>{const{id:B,...te}=I;a.remove(B,te)}),w.add(de.layoutToggle,($,V,I)=>{const{id:B,...te}=I;B&&(a.get(B)?a.remove(B,te):a.add(B,te))}),w.add(de.layoutUpdate,($,V,I)=>{const B=I;e.runCommand(de.layoutRemove,{id:B.id,layout:{placer:{...B.placer,skipCleanup:!0}},force:!0}),setTimeout(()=>e.runCommand(de.layoutAdd,{...B}))}),w.add(de.layoutGet,($,V,I)=>[Zr(a.get(I.id))]),w.add(de.layoutConfigGet,()=>Zr(a.customConfig)),w.add(de.layoutConfigSet,($,V,I)=>{const B=I;a.setCustomConfig(B)}),w.add(de.getStateTheme,()=>n.publicStateTheme),w.add(de.setStateTheme,($,V,I)=>n.setPublicStateTheme(I)),w.add(de.getPagesConfig,()=>n.sdkPagesConfig),w.add(de.setPagesConfig,($,V,I)=>{const{config:B}=I||{};Mt(B)&&n.setSdkPagesConfig(B)}),w.add(de.getPageSettings,()=>JSON.parse(JSON.stringify(n.panelPageSettings))),w.add(de.setPageSettings,($,V,I)=>{n.setPanelPageSettings(I)}),w.add(de.projectFiles,($,V,I)=>{var J,ie;const B=(J=n.sdkOptions.dataSources)==null?void 0:J.exportConfig,te=((ie=I.exportConfig)==null?void 0:ie.exportPreset)??B,X={isMJML:n.isProjectTypeEmail,exportConfig:te,...I};return Pl($,X)}),w.add(de.getBlocksPanel,()=>({isOpen:r.isOpen})),w.add(de.setBlocksPanel,($,V,I)=>{const B=I||{};Mt(B.isOpen)&&r.setOpen(B.isOpen)}),w.add(de.canvasReload,()=>{const $=e.getSelected(),V=P.getCanvasView(),{frames:I}=P.canvas;I.once("loaded:all",()=>{const B=$==null?void 0:$.getView();B&&!B.isInViewport()&&B.el.scrollIntoView({block:"center"})}),V.renderFrames()}),w.add(de.contextMenuComponent,($,V,I)=>{const{component:B,...te}=I;l.showForComponent(B,te)}),w.add(de.getStateContextMenu,()=>l.publicState),w.add(de.setStateContextMenu,($,V,I)=>{l.setPublicState(I)}),w.add(de.symbolAdd,($,V,I)=>{const B=I.component||e.getSelected();if(B)return M.getSymbolInfo(B).isSymbol?o.add("skip-symbol",{header:"The selected element is already a symbol",variant:It.Warning}):M.addSymbol(B)}),w.add(de.symbolDetach,($,V,I)=>{const B=I.component||e.getSelected();B&&M.getSymbolInfo(B).isRoot&&M.detachSymbol(B)}),w.add(de.symbolOverride,($,V,I)=>{const B=I.component||e.getSelected();B&&(B.setSymbolOverride(I.override),e.Layers.updateLayer(B))}),w.add(de.symbolPropagateStyles,($,V,I)=>{const B=I.component||e.getSelected();if(!B)return;const{Css:te}=e,X=te.getComponentRules(B,{current:!0})[0];if(X){const{state:J,mediaText:ie}=X.attributes,q=X.getStyle();M.getSymbolInfo(B).relatives.forEach(Y=>{te.setIdRule(Y.getId(),q,{state:J,mediaText:ie})})}I.deep&&B.components().forEach(J=>e.runCommand(de.symbolPropagateStyles,{...I,component:J}))}),w.add(de.assetProviderGet,()=>Zr(c.allProviders)),w.add(de.assetProviderAdd,($,V,{provider:I,index:B})=>{c.addProvider(I,B)}),w.add(de.assetProviderRemove,($,V,{id:I})=>{const B=c.allProviders.filter(te=>te.id!==I);c.setAllProviders(B)}),w.add(de.fontGet,()=>Zr(u.fonts)),w.add(de.fontAdd,($,V,{font:I})=>{u.addFont(I)}),w.add(de.fontRemove,($,V,{family:I})=>{u.removeFont(I)}),w.add(de.fontManagerOpen,($,V,I)=>{Jd($,I)}),w.add(de.menuFontLoad,($,V,{font:I})=>Nd(I,!1));let F=!1;function U(){return()=>(F=!F,e.trigger(cn.toggleDataSourcesPreview,{showPlaceholder:F}),e.refresh({tools:!0}),{showPlaceholder:F})}w.add(de.toggleStateDataSource,U()),w.add(de.getStateDataSource,()=>({showPlaceholder:F})),w.add(de.setDragAbsolute,($,V,{enabled:I})=>{t.appStore.setIsDraggingAbsolute(!!I)}),V3(e),q3(e,t),I3(e,t),j3(e),_3(e),w3(e),A3(e,t),D3(e,t),Y3(e,t)}const X3=/\s(?![^(]*\))/,sb=/^-?[0-9]+[a-zA-Z%]{0,}$/;function ab(e){const t=e.split(X3),n=t.indexOf("inset")>=0,r=t.filter(d=>d!=="inset"),o=r.filter(d=>!sb.test(d))[0]||"currentColor",s=r.filter(d=>sb.test(d)),[a="0",l="0",c="0",u="0"]=s;return{x:a,y:l,blur:c,spread:u,inset:n,color:o}}function Ll(e){const t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}}const ib=p.createContext(null),J3=({children:e})=>{const[t,n]=p.useState({setEditor:r=>{n(o=>({...o,editor:r}))}});return i.jsx(ib.Provider,{value:t,children:e})},Dn=()=>{const e=p.useContext(ib);if(!e)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return e},Jt=()=>{const{editor:e}=Dn();if(!e)throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");return e},Rd=()=>Dn().editor,lb=p.createContext(null),Q3=({children:e})=>{const[t,n]=p.useState(()=>({setRefCanvas(r){n(o=>({...o,refCanvas:r}))},setCustomModal(r){n(o=>({...o,customModal:r}))},setCustomAssets(r){n(o=>({...o,customAssets:r}))},setCustomBlocks(r){n(o=>({...o,customBlocks:r}))},setCustomRte(r){n(o=>({...o,customRte:r}))},setCustomStyles(r){n(o=>({...o,customStyles:r}))},setCustomLayers(r){n(o=>({...o,customLayers:r}))},setCustomSelectors(r){n(o=>({...o,customSelectors:r}))},setCustomTraits(r){n(o=>({...o,customTraits:r}))},setReady(r){n(o=>({...o,ready:r}))}}));return i.jsx(lb.Provider,{value:t,children:e})},gr=()=>{const e=p.useContext(lb);if(!e)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return e};function R3(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).join(" ")}function co(e){return typeof e=="function"}function qn(){}const cb=e=>typeof e=="string",eM=async e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)},ub=e=>{const t=cb(e)?{id:e,src:e}:e;return new Promise((n,r)=>{const o=document.createElement("script");if(document.querySelector(`script[src="${t.src}"]`))return n(t.id);o.src=t.src,o.onload=()=>n(t.id),o.onerror=()=>r(t.id),document.head.appendChild(o)})},tM=e=>{const t=e.map(n=>ub(n));return Promise.allSettled(t)},db=e=>function(){const t=p.useRef(null);return p.useEffect(()=>{const{current:n}=t;n&&(cb(e)?n.innerHTML=e:n.appendChild(e))},[t.current]),i.jsx("div",{ref:t})},pb=new WeakMap;function Ls(e){if(!e)return()=>i.jsx(i.Fragment,{});const t=pb.get(e);if(t)return t;const n=function({children:r}){return on.createPortal(p.createElement("div",null,r),e)};return pb.set(e,n),n}const nM=p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(!1),[s,a]=p.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>i.jsx(i.Fragment,{})});return p.useEffect(()=>{if(!t)return;const l=t.Assets.events.custom,c=({open:u,assets:d,types:f,select:g,close:h,container:m})=>{u&&a({assets:d,types:f,select:g,close:h,Container:Ls(m)}),o(u)};return t.on(l,c),()=>{t.off(l,c)}},[t]),p.useEffect(()=>n.setCustomAssets(!0),[]),t?co(e)?e({open:r,...s}):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})});p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(()=>({blocks:[],dragStart:qn,dragStop:qn,mapCategoryBlocks:new Map,Container:()=>i.jsx(i.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const s=t.Blocks.events.custom,a=({blocks:l,container:c,dragStart:u,dragStop:d})=>{const f=l.reduce((g,h)=>{const m=h.getCategoryLabel(),b=g.get(m);return b?b.push(h):g.set(m,[h]),g},new Map);o({blocks:l,dragStart:u,dragStop:d,mapCategoryBlocks:f,Container:Ls(c)})};return t.on(s,a),t.Blocks.__trgCustom(),()=>{t.off(s,a)}},[t]),p.useEffect(()=>n.setCustomBlocks(!0),[]),t?co(e)?e(r):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})});function rM({children:e,...t}){const n=gr(),r=p.useRef(null);return p.useEffect(()=>{r.current&&n.setRefCanvas(r.current)},[r.current]),i.jsx("div",{...t,ref:r,children:e})}const oM=p.memo(function({children:e}){const{editor:t}=Dn(),[n,r]=p.useState(()=>({devices:[],selected:"",select:qn}));return p.useEffect(()=>{if(!t)return;const{Devices:o}=t,s=o.events.all,a=()=>{var l;r({devices:o.getDevices(),selected:(l=o.getSelected())==null?void 0:l.id,select:c=>o.select(c)})};return t.on(s,a),a(),()=>{t.off(s,a)}},[t]),t?co(e)?e(n):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),sM=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function aM(e){const t=e.map(({id:s,src:a})=>({id:s,src:a})),n=e.reduce((s,a)=>(s[a.id]=a,s),{}),r=[],o=[];return(await tM(t)).forEach(s=>{s.status==="fulfilled"?r.push(n[s.value]):o.push(n[s.reason])}),{loaded:r,failed:o}}const iM=async e=>{const t=[...e],n={};if(t.length){const r={},o=[];if(t.forEach((s,a)=>{sM(s)&&(r[s.id]={index:a},o.push(s))}),o.length){const{loaded:s}=await aM(o);s.forEach(({id:a,options:l})=>{r[a].loaded=!0,n[a]=l||{}})}Object.keys(r).forEach(s=>{const a=r[s];a.loaded?t[a.index]=s:t[a.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},lM=p.memo(function({children:e,className:t,style:n,options:r={},plugins:o=[],grapesjs:s,grapesjsCss:a,onEditor:l=qn,onReady:c,onUpdate:u,waitReady:d,...f}){const{setEditor:g}=Dn(),h=gr(),[m,b]=p.useState(!1),y=p.useRef(null);p.useEffect(()=>{if(!h.ready||!y.current)return;const P=y.current,T=h.refCanvas;let _,O={},k=[];const M=F=>{const U={height:"100%",...r,plugins:[...k,...r.plugins||[]],pluginsOpts:{...r.pluginsOpts,...O},modal:{custom:!!h.customModal,...r.modal},assetManager:{custom:!!h.customAssets,...r.assetManager},styleManager:{custom:!!h.customStyles,...r.styleManager},blockManager:{custom:!!h.customBlocks,...r.blockManager},richTextEditor:{custom:!!h.customRte,...r.richTextEditor},layerManager:{custom:!!h.customLayers,...r.layerManager},traitManager:{custom:!!h.customTraits,...r.traitManager},selectorManager:{custom:!!h.customSelectors,...r.selectorManager},container:T||P,customUI:!!T,...T?{panels:{defaults:[]}}:{}};_=F.init(U),g(_),l(_),u&&_.on("update",()=>{u(_.getProjectData(),_)}),_.onReady(()=>{b(!0),c==null||c(_)})};return(async()=>{a&&await eM(a);const F=await iM(o);k=F.plugins,O=F.pluginOptions,typeof s=="string"?(await ub(s),M(window.grapesjs)):M(s)})(),()=>_==null?void 0:_.destroy()},[h.ready]);const v=r.height??"100%",S=r.width??"100%",w=R3("gjs-editor-wrapper",t),C=d&&!m,E=p.useMemo(()=>({...n,height:v,width:S}),[v,S,n]),x=p.useMemo(()=>({...E,...C?{opacity:0,width:0,height:0}:{}}),[E,C]);return i.jsxs(i.Fragment,{children:[d&&!m?i.jsx("div",{className:w,style:E,children:d}):null,i.jsx("div",{...f,ref:y,className:w,style:x,children:e})]})}),cM=p.memo(function(){const e=gr();return p.useEffect(()=>e.setReady(!0),[]),i.jsx(i.Fragment,{})}),uM=p.memo(function({children:e,...t}){return i.jsx(J3,{children:i.jsx(Q3,{children:i.jsxs(lM,{...t,children:[e,i.jsx(cM,{})]})})})}),ep=p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(()=>({root:void 0,Container:()=>i.jsx(i.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Layers:s}=t,a=s.events.custom,l=({container:c})=>{o({root:s.getRoot(),Container:Ls(c)})};return t.on(a,l),s.__trgCustom({}),()=>{t.off(a,l)}},[t]),p.useEffect(()=>n.setCustomLayers(!0),[]),t?co(e)?e(r):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),dM=p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(!1),[s,a]=p.useState({title:i.jsx(i.Fragment,{}),content:i.jsx(i.Fragment,{}),attributes:{},close:qn});return p.useEffect(()=>{if(!t)return;const l="modal",c=({open:u,title:d,content:f,close:g,attributes:h})=>{u&&a({title:p.createElement(db(d)),content:p.createElement(db(f)),attributes:h,close:g}),o(u)};return t.on(l,c),()=>{t.off(l,c)}},[t]),p.useEffect(()=>n.setCustomModal(!0),[]),t?typeof e=="function"?e({open:r,...s}):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),tp=p.memo(function({children:e}){const{editor:t}=Dn(),[n,r]=p.useState(()=>({pages:[],selected:void 0,select:qn,add:qn,remove:qn}));return p.useEffect(()=>{if(!t)return;const{Pages:o}=t,s=o.events.all,a=()=>{r({pages:o.getAll(),selected:o.getSelected(),select:(...l)=>o.select(...l),add:(...l)=>o.add(...l),remove:(...l)=>o.remove(...l)})};return t.on(s,a),a(),()=>{t.off(s,a)}},[t]),t?co(e)?e(n):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),np=p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:qn,removeSelector:qn,setState:qn,Container:()=>i.jsx(i.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Selectors:s}=t,a=s.events.custom,l=({container:c})=>{o({selectors:s.getSelected(),states:s.getStates(),selectedState:s.getState(),targets:s.getSelectedTargets().map(u=>u.getSelectorsString()),addSelector:(...u)=>s.addSelected(...u),removeSelector:(...u)=>s.removeSelected(...u),setState:(...u)=>s.setState(...u),Container:Ls(c)})};return t.on(a,l),()=>{t.off(a,l)}},[t]),p.useEffect(()=>n.setCustomSelectors(!0),[]),t?co(e)?e(r):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),fb=p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(()=>({sectors:[],Container:()=>i.jsx(i.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Styles:s}=t,a=s.events.custom,l=({container:c})=>{o({sectors:s.getSectors({visible:!0}),Container:Ls(c)})};return t.on(a,l),()=>{t.off(a,l)}},[t]),p.useEffect(()=>n.setCustomStyles(!0),[]),t?co(e)?e(r):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),rp=p.memo(function({children:e}){const{editor:t}=Dn(),n=gr(),[r,o]=p.useState(()=>({traits:[],Container:()=>i.jsx(i.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Traits:s}=t,a=s.events.custom,l=({container:c})=>{o({traits:s.getCurrent(),Container:Ls(c)})};return t.on(a,l),s.__trgCustom(),()=>{t.off(a,l)}},[t]),p.useEffect(()=>n.setCustomTraits(!0),[]),t?co(e)?e(r):i.jsx(i.Fragment,{}):i.jsx(i.Fragment,{})}),zo=({children:e})=>Rd()?i.jsx(i.Fragment,{children:e}):i.jsx(i.Fragment,{}),op="gs-cmp-accordion",sp=`${op}-handler`,$l=`${sp}__content`,pM=`${op}-content`;function Uo({className:e,classNameWrap:t,classNameContent:n,style:r,handler:o,handlerIcon:s,children:a,inverted:l,disabled:c,sticky:u,onChange:d,open:f}){return i.jsx(Ru,{as:"div",defaultOpen:f,className:H(op,t,"relative"),children:({open:g})=>i.jsxs(i.Fragment,{children:[i.jsx(Ru.Button,{as:c?"div":"button",disabled:c,style:r,onClick:h=>d==null?void 0:d({event:h,open:!g}),className:({open:h})=>j(sp,it(e)?e(h):e,u&&"gs-utl-sticky gs-utl-top-0 gs-utl-z-10","gs-utl-w-full"),children:({open:h})=>i.jsxs(N,{items:"center",className:H("gap-2"),full:!0,children:[i.jsx(D,{className:H($l,"text-left"),grow:!0,children:it(o)?o(h):i.jsxs(N,{items:"center",className:H(`${$l}-wrp`,"gap-3"),nowrap:!0,children:[!!s&&i.jsx(ne,{className:H(`${$l}-icon`),icon:s,size:se.s2x}),i.jsx(D,{className:H(`${$l}-label gs-utl-w-full`),children:o})]})}),i.jsx(D,{className:H(`${sp}-toggle`,l&&"-order-1",c&&"gs-utl-hidden"),children:i.jsx(ne,{icon:Z.chevronDown,className:H("w-5 h-5 transition-transform",h&&"rotate-180")})})]})}),i.jsx(Ru.Panel,{className:H(pM,n),children:a})]})})}function pe({label:e,property:t,hasValue:n,empty:r,onClear:o,children:s,shallow:a,row:l,tooltip:c,className:u,...d}){const f=e||(t==null?void 0:t.getLabel()),g=t==null?void 0:t.getParentTarget(),h=n||!r&&(t==null?void 0:t.hasValue({noParent:!0})),m=!h&&(t==null?void 0:t.hasValue())&&g,b=g==null?void 0:g.getDevice(),y=g==null?void 0:g.getState(),v=g==null?void 0:g.getComponent(),S=()=>o?o():t==null?void 0:t.clear(),w={className:j(u,"gs-utl-text-sm gs-utl-w-full"),col:!l,items:l?"center":void 0,...d},C=j("gs-utl-flex-1",h&&!a&&z.tAo);return t&&!t.isVisible()?null:i.jsxs(N,{gap:"xs",...w,children:[i.jsxs(N,{className:C,as:"label",items:"center",gap:"xs",children:[c&&i.jsx(D,{children:i.jsx(xt,{title:c,children:i.jsx(ne,{icon:Z.information,size:se.sx})})}),i.jsx(D,{children:r?i.jsx("span",{children:" "}):f}),!!m&&!a&&i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[i.jsx("div",{className:j("gs-utl-mb-1"),children:"Value inherited from"}),!!b&&i.jsxs(N,{space:"s",children:[i.jsx(D,{children:i.jsx(ne,{icon:Z.cellphoneLink,size:se.sx})}),i.jsx(D,{children:i.jsx("b",{children:b.getName()})})]}),i.jsxs(N,{space:"s",children:[i.jsx(D,{children:i.jsx(ne,{icon:v?Z.targetVariant:Z.tag,size:se.sx})}),i.jsxs(D,{children:[i.jsx("b",{children:v?"Components":"Selectors"}),i.jsxs("span",{className:j("gs-utl-text-xs gs-utl-opacity-75"),children:[" ",g==null?void 0:g.selectorsToString({skipState:1})]})]})]}),!!y&&i.jsxs(N,{space:"s",children:[i.jsx(D,{children:i.jsx(ne,{icon:Z.flare,size:se.sx})}),i.jsx(D,{children:i.jsx("b",{children:y.getLabel()})})]})]}),children:i.jsx("div",{className:j("gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",z.bgW)})}),h&&!a&&i.jsx(xt,{title:"Clear value",onClick:S,children:i.jsx(ne,{className:$e.click,icon:Z.close,size:se.s2x})})]}),!!s&&i.jsx(D,{grow:!0,className:"gs-utl-max-w-full",children:s})]})}function Ft(e){const{className:t,options:n,name:r,value:o,size:s="m",required:a,disabled:l,onChange:c}=e,u=g=>{const h=n.filter(m=>m.id===g)[0];return n.indexOf(h)===n.length-1},d=(g,h)=>j("gs-utl-cursor-pointer",s==="m"&&Le.xy,s==="s"&&"gs-utl-px-2 gs-utl-py-1 text-sm",s==="xs"&&"gs-utl-p-1 text-sm",z.br,g&&z.bgO,!u(h)&&re.br),f=Es({...e,className:j("gs-field-buttons gs-utl-w-full")});return i.jsxs(a1,{value:o,onChange:c,disabled:l,...f,children:[i.jsx(Ps,{...e}),r&&i.jsx("input",{type:"hidden",name:r,value:o,required:a}),i.jsx(N,{className:j(t,re.b,re.rnd,z.br,"gs-utl-cursor-pointer"),items:"center",full:!0,nowrap:!0,children:n.map(({id:g,label:h,title:m,icon:b})=>i.jsx(xt,{title:m,className:j("gs-utl-w-full"),classNameWrp:j("gs-utl-flex-1"),children:i.jsx(a1.Option,{value:g,className:({checked:y})=>d(y,g),children:i.jsxs(N,{justify:"center",gap:"s",full:!0,children:[!!b&&i.jsx(ne,{icon:b,size:se.s}),h&&i.jsx(D,{children:h})]})})},g))})]})}var fM={grad:.9,turn:360,rad:360/(2*Math.PI)},Vr=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Pt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},jn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},gb=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},hb=function(e){return{r:jn(e.r,0,255),g:jn(e.g,0,255),b:jn(e.b,0,255),a:jn(e.a)}},ap=function(e){return{r:Pt(e.r),g:Pt(e.g),b:Pt(e.b),a:Pt(e.a,3)}},gM=/^#([0-9a-f]{3,8})$/i,Nl=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},mb=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),l=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(l<0?l+6:l),s:s?a/s*100:0,v:s/255*100,a:o}},bb=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),l=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:255*[r,l,a,a,c,r][u],g:255*[c,r,r,l,a,a][u],b:255*[a,a,c,r,r,l][u],a:o}},vb=function(e){return{h:gb(e.h),s:jn(e.s,0,100),l:jn(e.l,0,100),a:jn(e.a)}},yb=function(e){return{h:Pt(e.h),s:Pt(e.s),l:Pt(e.l),a:Pt(e.a,3)}},wb=function(e){return bb((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Wa=function(e){return{h:(t=mb(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},hM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ip={string:[[function(e){var t=gM.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Pt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Pt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=bM.exec(e)||vM.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:hb({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=hM.exec(e)||mM.exec(e);if(!t)return null;var n,r,o=vb({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(fM[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return wb(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=o===void 0?1:o;return Vr(t)&&Vr(n)&&Vr(r)?hb({r:Number(t),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,s=o===void 0?1:o;if(!Vr(t)||!Vr(n)||!Vr(r))return null;var a=vb({h:Number(t),s:Number(n),l:Number(r),a:Number(s)});return wb(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,s=o===void 0?1:o;if(!Vr(t)||!Vr(n)||!Vr(r))return null;var a=function(l){return{h:gb(l.h),s:jn(l.s,0,100),v:jn(l.v,0,100),a:jn(l.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(s)});return bb(a)},"hsv"]]},Sb=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},yM=function(e){return typeof e=="string"?Sb(e.trim(),ip.string):typeof e=="object"&&e!==null?Sb(e,ip.object):[null,void 0]},lp=function(e,t){var n=Wa(e);return{h:n.h,s:jn(n.s+100*t,0,100),l:n.l,a:n.a}},cp=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Cb=function(e,t){var n=Wa(e);return{h:n.h,s:n.s,l:jn(n.l+100*t,0,100),a:n.a}},up=function(){function e(t){this.parsed=yM(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Pt(cp(this.rgba),2)},e.prototype.isDark=function(){return cp(this.rgba)<.5},e.prototype.isLight=function(){return cp(this.rgba)>=.5},e.prototype.toHex=function(){return t=ap(this.rgba),n=t.r,r=t.g,o=t.b,a=(s=t.a)<1?Nl(Pt(255*s)):"","#"+Nl(n)+Nl(r)+Nl(o)+a;var t,n,r,o,s,a},e.prototype.toRgb=function(){return ap(this.rgba)},e.prototype.toRgbString=function(){return t=ap(this.rgba),n=t.r,r=t.g,o=t.b,(s=t.a)<1?"rgba("+n+", "+r+", "+o+", "+s+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,s},e.prototype.toHsl=function(){return yb(Wa(this.rgba))},e.prototype.toHslString=function(){return t=yb(Wa(this.rgba)),n=t.h,r=t.s,o=t.l,(s=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+s+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,s},e.prototype.toHsv=function(){return t=mb(this.rgba),{h:Pt(t.h),s:Pt(t.s),v:Pt(t.v),a:Pt(t.a,3)};var t},e.prototype.invert=function(){return hr({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),hr(lp(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),hr(lp(this.rgba,-t))},e.prototype.grayscale=function(){return hr(lp(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),hr(Cb(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),hr(Cb(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?hr({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Pt(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Wa(this.rgba);return typeof t=="number"?hr({h:t,s:n.s,l:n.l,a:n.a}):Pt(n.h)},e.prototype.isEqual=function(t){return this.toHex()===hr(t).toHex()},e}(),hr=function(e){return e instanceof up?e:new up(e)},xb=[],wM=function(e){e.forEach(function(t){xb.indexOf(t)<0&&(t(up,ip),xb.push(t))})};function SM(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var s={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,u=r[this.toHex()];if(u)return u;if(a!=null&&a.closest){var d=this.toRgb(),f=1/0,g="black";if(!s.length)for(var h in n)s[h]=new e(n[h]).toRgb();for(var m in n){var b=(l=d,c=s[m],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));b<f&&(f=b,g=m)}return g}},t.string.push([function(a){var l=a.toLowerCase(),c=l==="transparent"?"#0000":n[l];return c?new e(c).toRgb():null},"name"])}function Dl(){return(Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Eb(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function dp(e){var t=p.useRef(e),n=p.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var $s=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Ga=function(e){return"touches"in e},pp=function(e){return e&&e.ownerDocument.defaultView||self},Pb=function(e,t,n){var r=e.getBoundingClientRect(),o=Ga(t)?function(s,a){for(var l=0;l<s.length;l++)if(s[l].identifier===a)return s[l];return s[0]}(t.touches,n):t;return{left:$s((o.pageX-(r.left+pp(e).pageXOffset))/r.width),top:$s((o.pageY-(r.top+pp(e).pageYOffset))/r.height)}},Ob=function(e){!Ga(e)&&e.preventDefault()},fp=p.memo(function(e){var t=e.onMove,n=e.onKey,r=Eb(e,["onMove","onKey"]),o=p.useRef(null),s=dp(t),a=dp(n),l=p.useRef(null),c=p.useRef(!1),u=p.useMemo(function(){var h=function(y){Ob(y),(Ga(y)?y.touches.length>0:y.buttons>0)&&o.current?s(Pb(o.current,y,l.current)):b(!1)},m=function(){return b(!1)};function b(y){var v=c.current,S=pp(o.current),w=y?S.addEventListener:S.removeEventListener;w(v?"touchmove":"mousemove",h),w(v?"touchend":"mouseup",m)}return[function(y){var v=y.nativeEvent,S=o.current;if(S&&(Ob(v),!function(C,E){return E&&!Ga(C)}(v,c.current)&&S)){if(Ga(v)){c.current=!0;var w=v.changedTouches||[];w.length&&(l.current=w[0].identifier)}S.focus(),s(Pb(S,v,l.current)),b(!0)}},function(y){var v=y.which||y.keyCode;v<37||v>40||(y.preventDefault(),a({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},b]},[a,s]),d=u[0],f=u[1],g=u[2];return p.useEffect(function(){return g},[g]),p.createElement("div",Dl({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:f,tabIndex:0,role:"slider"}))}),jl=function(e){return e.filter(Boolean).join(" ")},gp=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=jl(["react-colorful__pointer",e.className]);return p.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},p.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Bt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Tb=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Bt(e.h),s:Bt(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Bt(o/2),a:Bt(r,2)}},hp=function(e){var t=Tb(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},mp=function(e){var t=Tb(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},CM=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),l=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:Bt(255*[r,l,a,a,c,r][u]),g:Bt(255*[c,r,r,l,a,a][u]),b:Bt(255*[a,a,c,r,r,l][u]),a:Bt(o,2)}},xM=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?EM({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},EM=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),l=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:Bt(60*(l<0?l+6:l)),s:Bt(s?a/s*100:0),v:Bt(s/255*100),a:o}},PM=p.memo(function(e){var t=e.hue,n=e.onChange,r=jl(["react-colorful__hue",e.className]);return p.createElement("div",{className:r},p.createElement(fp,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:$s(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Bt(t),"aria-valuemax":"360","aria-valuemin":"0"},p.createElement(gp,{className:"react-colorful__hue-pointer",left:t/360,color:hp({h:t,s:100,v:100,a:1})})))}),OM=p.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:hp({h:t.h,s:100,v:100,a:1})};return p.createElement("div",{className:"react-colorful__saturation",style:r},p.createElement(fp,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:$s(t.s+100*o.left,0,100),v:$s(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Bt(t.s)+"%, Brightness "+Bt(t.v)+"%"},p.createElement(gp,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:hp(t)})))}),TM=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},_M=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")};function AM(e,t,n){var r=dp(n),o=p.useState(function(){return e.toHsva(t)}),s=o[0],a=o[1],l=p.useRef({color:t,hsva:s});p.useEffect(function(){if(!e.equal(t,l.current.color)){var u=e.toHsva(t);l.current={hsva:u,color:t},a(u)}},[t,e]),p.useEffect(function(){var u;TM(s,l.current.hsva)||e.equal(u=e.fromHsva(s),l.current.color)||(l.current={hsva:s,color:u},r(u))},[s,e,r]);var c=p.useCallback(function(u){a(function(d){return Object.assign({},d,u)})},[]);return[s,c]}var MM=typeof window<"u"?p.useLayoutEffect:p.useEffect,kM=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},_b=new Map,LM=function(e){MM(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!_b.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,_b.set(t,n);var r=kM();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},$M=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+mp(Object.assign({},n,{a:0}))+", "+mp(Object.assign({},n,{a:1}))+")"},s=jl(["react-colorful__alpha",t]),a=Bt(100*n.a);return p.createElement("div",{className:s},p.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),p.createElement(fp,{onMove:function(l){r({a:l.left})},onKey:function(l){r({a:$s(n.a+l.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},p.createElement(gp,{className:"react-colorful__alpha-pointer",left:n.a,color:mp(n)})))},NM=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,a=Eb(e,["className","colorModel","color","onChange"]),l=p.useRef(null);LM(l);var c=AM(n,o,s),u=c[0],d=c[1],f=jl(["react-colorful",t]);return p.createElement("div",Dl({},a,{ref:l,className:f}),p.createElement(OM,{hsva:u,onChange:d}),p.createElement(PM,{hue:u.h,onChange:d}),p.createElement($M,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},DM={defaultColor:"rgba(0, 0, 0, 1)",toHsva:xM,fromHsva:function(e){var t=CM(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:_M},jM=function(e){return p.createElement(NM,Dl({},e,{colorModel:DM}))};wM([SM]);const IM="gs-cmp-color-picker",VM={backgroundSize:"10px"},HM=[0,15],FM=e=>e.startsWith("rgba")?e:hr(e).toRgbString();function Ab({className:e,value:t,onChange:n}){const r=FM(t||""),[o,s]=p.useState(!1),a=or()&&!!window.EyeDropper,l=j(`${IM}-handler gs-utl-bg-checker gs-utl-overflow-hidden gs-utl-cursor-pointer`,e,re.b,re.rnd,z.br),c=h=>{n==null||n(h,!0)},u=()=>{a&&new window.EyeDropper().open().then(m=>c(m.sRGBHex))},d=()=>{s(!0)},f=()=>{n==null||n(r,!1),s(!1)},g=i.jsxs("div",{style:VM,className:l,children:[o&&i.jsx("div",{onPointerUp:f,className:j("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-grabbing")}),i.jsx("div",{className:j("gs-utl-w-4 gs-utl-h-4"),style:{backgroundColor:t}})]});return i.jsxs(dr,{handler:g,title:"Color",size:"s",placement:"left-end",offset:HM,clickAway:!0,children:[i.jsx(jM,{className:"color-picker",color:r,onChange:c,onPointerDown:d,onPointerUp:f}),i.jsxs(N,{className:j("gs-utl-mt-3"),space:"s",children:[i.jsx(D,{grow:!0,children:i.jsx(Re,{size:"s",value:r,onChange:c})}),a&&i.jsx(Ie,{type:"button",onClick:u,children:i.jsx(ne,{icon:Z.eyedropperVariant,size:se.s})})]})]})}const BM="gs-cmp-color-field";function Hr(e){const{className:t,value:n,placeholder:r,preventSubmitOnEnter:o=!1,onChange:s}=e,[a,l]=p.useState(hl(n)),c=La(e);p.useEffect(()=>{l(hl(n))},[n]);const u=(h,m)=>{s==null||s(h,m)},d=h=>{switch(h.key){case"Escape":return l(n);case"Enter":u(a),o&&(h.preventDefault(),h.stopPropagation())}},f=()=>{u(a)},g=Es({...e,className:j(BM,t)});return i.jsxs("div",{...g,children:[i.jsx(Ps,{...e}),i.jsxs(N,{className:Ad(e),items:"center",space:"s",children:[i.jsx(D,{children:i.jsx(Ab,{value:n,onChange:s})}),i.jsx(D,{grow:!0,children:i.jsx("input",{className:c,value:a,onChange:h=>l(h.target.value),placeholder:r,onBlur:f,onKeyDown:d})})]})]})}const zM=e=>{const t=parseFloat(e),n=e.replace(`${t}`,"").trim();return{number:t||t===0?`${t}`:"",unit:n}},Mb=({value:e,step:t})=>{const n=parseFloat(`${e}`);let r=0;if(Math.floor(n)!==n&&t){const o=`${t}`.split(".")[1];r=(o==null?void 0:o.length)||0}return r?parseFloat(n.toFixed(r)):n},UM=({value:e,key:t,shiftKey:n,min:r,max:o,step:s=1})=>{const a=t==="ArrowUp",l=t==="ArrowDown";let c=null;if(a||l){c=Number(e);const u=parseFloat(`${s}`);a&&(c+=(n?10:1)*u),l&&(c-=(n?10:1)*u),c=`${Il({min:r,max:o,value:c})}`,c=Mb({value:c,step:s})}return c},Il=({min:e,max:t,value:n})=>{const r=parseFloat(`${n}`);let o=r||0;return Mt(e)&&(o=Math.max(o,parseFloat(`${e}`)||0)),Mt(t)&&(o=Math.min(o,parseFloat(`${t}`)||0)),`${`${r}`!=`${n}`?n:o}`},WM=(e,t,n,r={})=>{const o=parseInt(`${e}`,10)||0,{min:s,max:a,step:l=1}=r;let c=o;const u=f=>{const g=f.clientY-t,h=o-g*parseFloat(`${l}`);c=Mb({value:Il({min:s,max:a,value:h}),step:l}),n(c,!0)},d=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),n(c)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},GM=(e,t,n={})=>{const{partial:r}=n,o=(s,a)=>s===a||r&&s.startsWith(a);return t.some(s=>o(typeof s=="string"?s:s.id,e))},kb=e=>Mt(e)?e:"",KM="gs-cmp-number-field";function _e(e){const{className:t,value:n,units:r,valueUnit:o,size:s="m",pan:a=!0,min:l,max:c,step:u,placeholder:d,onChange:f,onChangeUnit:g}=e,[h,m]=p.useState(kb(n)),[b,y]=p.useState(!1),v=(r==null?void 0:r.map(T=>({id:T,label:T})))||[],S={min:l,max:c,step:u};p.useEffect(()=>{m(kb(n))},[n,o]);const w=(T,_)=>{f==null||f(Il({min:l,max:c,value:T}),_)},C=T=>{y(!0);const _=(O,k)=>{w(O,!!k),!k&&y(!1)};WM(h,T.clientY,_,S)},E=T=>{const{key:_,shiftKey:O}=T;switch(_){case"Escape":return m(n);case"Enter":return w(h)}const k=UM({step:u,value:n,key:_,shiftKey:O});k!==null&&(T.preventDefault(),w(k))},x=()=>{w(h)},P=Es({...e,className:j(KM,t)});return i.jsxs("div",{...P,children:[b&&i.jsx("div",{className:j("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-ns")}),i.jsx(Ps,{...e}),i.jsxs(N,{className:Ad(e),items:"center",space:"x2s",children:[!!a&&i.jsx(D,{onMouseDown:C,className:j("gs-utl-opacity-50 gs-utl-cursor-ns",s==="m"&&"-gs-utl-ml-3",s==="s"&&"-gs-utl-ml-2",a!==!0&&"gs-utl-mr-0.5 -gs-utl-ml-1"),children:a===!0?i.jsx(ne,{icon:Z.panVertical,size:se.s2x}):a}),i.jsx(D,{grow:!0,children:i.jsx("input",{className:La(e),value:h,onChange:T=>m(T.target.value),placeholder:d,onBlur:x,onKeyDown:E})}),!!v.length&&i.jsx(D,{className:j(v.length===1&&"gs-utl-opacity-50 gs-utl-pointer-events-none"),children:i.jsx(Pe,{caret:"",size:"x2s",pos:"right",width:"75px",emptyState:"-",border:!1,value:o,onChange:T=>g==null?void 0:g(T),options:v})})]})]})}function qM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Vl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ns(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function bp(e){return"nodeType"in e}function uo(e){var t,n;return e?Ns(e)?e:bp(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function vp(e){const{Document:t}=uo(e);return e instanceof t}function Ds(e){return Ns(e)?!1:e instanceof uo(e).HTMLElement}function Lb(e){return e instanceof uo(e).SVGElement}function js(e){return e?Ns(e)?e.document:bp(e)?vp(e)?e:Ds(e)||Lb(e)?e.ownerDocument:document:document:document}const Wo=Vl?p.useLayoutEffect:p.useEffect;function YM(e){const t=p.useRef(e);return Wo(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function ZM(){const e=p.useRef(null),t=p.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ka(e,t){const n=p.useRef();return p.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function yp(e){const t=YM(e),n=p.useRef(null),r=p.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}let wp={};function qa(e,t){return p.useMemo(()=>{if(t)return t;const n=wp[e]==null?0:wp[e]+1;return wp[e]=n,e+"-"+n},[e,t])}function $b(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+e*u)}return s},{...t})}}const Ya=$b(1),Nb=$b(-1);function XM(e){return"clientX"in e&&"clientY"in e}function JM(e){if(!e)return!1;const{KeyboardEvent:t}=uo(e.target);return t&&e instanceof t}function QM(e){if(!e)return!1;const{TouchEvent:t}=uo(e.target);return t&&e instanceof t}function Sp(e){if(QM(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return XM(e)?{x:e.clientX,y:e.clientY}:null}const Za=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Za.Translate.toString(e),Za.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),RM={display:"none"};function ek(e){let{id:t,value:n}=e;return p.createElement("div",{id:t,style:RM},n)}function tk(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return p.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function nk(){const[e,t]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const rk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ok={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}};var tt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(tt||(tt={}));function Cp(...e){}class Xa extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(({disabled:t})=>!t)}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Hl=p.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:Cp,draggableNodes:{},droppableRects:new Map,droppableContainers:new Xa,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cp},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:Cp,windowRect:null,willRecomputeLayouts:!1});function sk(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new Xa}}}function ak(e,t){switch(t.type){case tt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case tt.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case tt.DragEnd:case tt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tt.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Xa(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case tt.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Xa(e.droppable.containers);return a.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case tt.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Xa(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}const Db=p.createContext({type:null,event:null});function ik({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:o}){const s=p.useContext(Db),a=p.useRef(s);p.useEffect(()=>{if(s!==a.current){const{type:l,event:c}=s;switch(l){case tt.DragStart:e==null||e(c);break;case tt.DragMove:t==null||t(c);break;case tt.DragOver:n==null||n(c);break;case tt.DragCancel:o==null||o(c);break;case tt.DragEnd:r==null||r(c);break}a.current=s}},[s,e,t,n,r,o])}function lk({announcements:e=ok,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:o}=nk(),s=qa("DndLiveRegion"),[a,l]=p.useState(!1);return p.useEffect(()=>{l(!0)},[]),ik(p.useMemo(()=>({onDragStart({active:c}){r(e.onDragStart(c.id))},onDragMove({active:c,over:u}){e.onDragMove&&r(e.onDragMove(c.id,u==null?void 0:u.id))},onDragOver({active:c,over:u}){r(e.onDragOver(c.id,u==null?void 0:u.id))},onDragEnd({active:c,over:u}){r(e.onDragEnd(c.id,u==null?void 0:u.id))},onDragCancel({active:c}){r(e.onDragCancel(c.id))}}),[r,e])),a?on.createPortal(p.createElement(p.Fragment,null,p.createElement(ek,{id:t,value:n.draggable}),p.createElement(tk,{id:s,announcement:o})),document.body):null}const Fr=Object.freeze({x:0,y:0});function jb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ib(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+e.width*.5,y:n+e.height*.5}}const ck=({collisionRect:e,droppableContainers:t})=>{const n=Ib(e,e.left,e.top);let r=1/0,o=null;for(const s of t){const{rect:{current:a}}=s;if(a){const l=jb(Ib(a),n);l<r&&(r=l,o=s.id)}}return o};function uk(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function dk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Fr}function pk(e){return function(n,...r){return r.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x,offsetLeft:o.offsetLeft+e*s.x,offsetTop:o.offsetTop+e*s.y}),{...n})}}const Vb=pk(1);function fk(e,t=window.getComputedStyle(e)){return t.position==="fixed"}function gk(e,t=window.getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})!=null}function xp(e){const t=[];function n(r){if(!r)return t;if(vp(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!Ds(r)||Lb(r)||t.includes(r))return t;const o=window.getComputedStyle(r);return gk(r,o)&&t.push(r),fk(r,o)?t:n(r.parentNode)}return e?n(e.parentNode):t}function Ep(e){return!Vl||!e?null:Ns(e)?e:bp(e)?vp(e)||e===js(e).scrollingElement?window:Ds(e)?e:null:null}function Pp(e){return Ns(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var Is;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Is||(Is={}));function Hb(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},r=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:r,isLeft:o,isBottom:s,isRight:a,maxScroll:n,minScroll:t}}function hk(e){return!Vl||!e?!1:e===document.scrollingElement}const mk={x:.2,y:.2};function bk(e,t,{top:n,left:r,right:o,bottom:s},a=10,l=mk){const{clientHeight:c,clientWidth:u}=e,d=hk(e)?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t,{isTop:f,isBottom:g,isLeft:h,isRight:m}=Hb(e),b={x:0,y:0},y={x:0,y:0},v={height:d.height*l.y,width:d.width*l.x};return!f&&n<=d.top+v.height?(b.y=Is.Backward,y.y=a*Math.abs((d.top+v.height-n)/v.height)):!g&&s>=d.bottom-v.height&&(b.y=Is.Forward,y.y=a*Math.abs((d.bottom-v.height-s)/v.height)),!m&&o>=d.right-v.width?(b.x=Is.Forward,y.x=a*Math.abs((d.right-v.width-o)/v.width)):!h&&r<=d.left+v.width&&(b.x=Is.Backward,y.x=a*Math.abs((d.left+v.width-r)/v.width)),{direction:b,speed:y}}function vk(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Fb(e){return e.reduce((t,n)=>Ya(t,Pp(n)),Fr)}function Bb(e,t,n=Fr){if(!e||!Ds(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:Bb(e.offsetParent,t,r)}function Fl(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:o}=Bb(e,null);return{width:t,height:n,offsetTop:o,offsetLeft:r}}function Bl(e){if(Ns(e)){const u=window.innerWidth,d=window.innerHeight;return{top:0,left:0,right:u,bottom:d,width:u,height:d,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=Fl(e),{width:r,height:o,top:s,bottom:a,left:l,right:c}=e.getBoundingClientRect();return{width:r,height:o,top:s,bottom:a,right:c,left:l,offsetTop:t,offsetLeft:n}}function Op(e){const{width:t,height:n,offsetTop:r,offsetLeft:o}=Fl(e),s=xp(e),a=Fb(s),l=r-a.y,c=o-a.x;return{width:t,height:n,top:l,bottom:l+n,right:c+t,left:c,offsetTop:r,offsetLeft:o}}function zb(e){return"top"in e}function Ub(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const yk=({collisionRect:e,droppableContainers:t})=>{let n=1/0,r=null;const o=Ub(e,e.left,e.top);for(const s of t){const{rect:{current:a}}=s;if(a){const l=Ub(a,zb(a)?a.left:void 0,zb(a)?a.top:void 0),c=o.reduce((d,f,g)=>d+jb(l[g],f),0),u=Number((c/4).toFixed(4));u<n&&(n=u,r=s.id)}}return r};function wk(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),o=Math.min(t.left+t.width,e.offsetLeft+e.width),s=Math.min(t.top+t.height,e.offsetTop+e.height),a=o-r,l=s-n;if(r<o&&n<s){const c=t.width*t.height,u=e.width*e.height,d=a*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const Sk=({collisionRect:e,droppableContainers:t})=>{let n=0,r=null;for(const o of t){const{rect:{current:s}}=o;if(s){const a=wk(s,e);a>n&&(n=a,r=o.id)}}return r};var Ja;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ja||(Ja={}));var zl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(zl||(zl={}));function Ck({acceleration:e,activator:t=Ja.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:s=5,order:a=zl.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}){const[f,g]=ZM(),h=p.useRef({x:1,y:1}),m=p.useMemo(()=>{switch(t){case Ja.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Ja.DraggableRect:return r}return null},[t,r,l]),b=p.useRef(Fr),y=p.useRef(null),v=p.useCallback(()=>{const w=y.current;if(!w)return;const C=h.current.x*b.current.x,E=h.current.y*b.current.y;w.scrollBy(C,E)},[]),S=p.useMemo(()=>a===zl.TreeOrder?[...c].reverse():c,[a,c]);p.useEffect(()=>{if(!o||!c.length||!m){g();return}for(const w of S){if((n==null?void 0:n(w))===!1)continue;const C=c.indexOf(w),E=u[C];if(!E)continue;const{direction:x,speed:P}=bk(w,E,m,e,d);if(P.x>0||P.y>0){g(),y.current=w,f(v,s),h.current=P,b.current=x;return}}h.current={x:0,y:0},b.current={x:0,y:0},g()},[e,v,n,g,o,s,JSON.stringify(m),f,c,S,u,JSON.stringify(d)])}function xk(e,t){const n=t!==null?e[t]:void 0,r=n?n.node.current:null;return Ka(o=>{var s;return t===null?null:(s=r??o)!=null?s:null},[r,t])}function Ek(e,t){return p.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}function Wb(e){const t=p.useRef(e);return Wo(()=>{t.current!==e&&(t.current=e)},[e]),t}var Qa;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Qa||(Qa={}));var Tp;(function(e){e.Optimized="optimized"})(Tp||(Tp={}));const Gb=new Map,Pk={measure:Fl,strategy:Qa.WhileDragging,frequency:Tp.Optimized};function Ok(e,{dragging:t,dependencies:n,config:r}){const[o,s]=p.useState(!1),{frequency:a,measure:l,strategy:c}={...Pk,...r},u=p.useRef(e),d=p.useCallback(()=>s(!0),[]),f=p.useRef(null),g=m(),h=Ka(b=>{if(g&&!t)return Gb;if(!b||b===Gb||u.current!==e||o){for(let y of e)y&&(y.rect.current=y.node.current?l(y.node.current):null);return Tk(e)}return b},[e,t,g,l,o]);return p.useEffect(()=>{u.current=e},[e]),p.useEffect(()=>{o&&s(!1)},[o]),p.useEffect(function(){g||requestAnimationFrame(d)},[t,g]),p.useEffect(function(){g||typeof a!="number"||f.current!==null||(f.current=setTimeout(()=>{d(),f.current=null},a))},[a,g,d,...n]),{layoutRectMap:h,recomputeLayouts:d,willRecomputeLayouts:o};function m(){switch(c){case Qa.Always:return!1;case Qa.BeforeDragging:return t;default:return!t}}}function Tk(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:r,rect:o}=n;o.current!=null&&t.set(r,o.current)}return t}function _k(e){const[t,n]=p.useState(null),r=p.useRef(e),o=p.useCallback(s=>{const a=Ep(s.target);a&&n(l=>l?(l.set(a,Pp(a)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=r.current;if(e!==s){a(s);const l=e.map(c=>{const u=Ep(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,Pp(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(s)};function a(l){l.forEach(c=>{const u=Ep(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Ya(s,a),Fr):Fb(e):Fr,[e,t])}const Ak=[];function Mk(e){const t=p.useRef(e),n=Ka(r=>e?r&&e&&t.current&&e.parentNode===t.current.parentNode?r:xp(e):Ak,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function kk(e){p.useEffect(()=>{if(!Vl)return;const t=e.map(({sensor:n})=>n.setup==null?void 0:n.setup());return()=>{for(const n of t)n==null||n()}},e.map(({sensor:t})=>t))}function Lk(e,t){return p.useMemo(()=>e.reduce((n,{eventName:r,handler:o})=>(n[r]=s=>{o(s,t)},n),{}),[e,t])}const _p=qb(Bl),$k=Nk(Bl);function Kb(e,t,n){const r=p.useRef(e);return Ka(o=>e?n||!o&&e||e!==r.current?Ds(e)&&e.parentNode==null?null:t(e):o??null:null,[e,n,t])}function qb(e){return(t,n)=>Kb(t,e,n)}function Nk(e){const t=[];return function(r,o){const s=p.useRef(r);return Ka(a=>r.length?o||!a&&r.length||r!==s.current?r.map(l=>e(l)):a??t:t,[r,o])}}function Dk(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ds(t)?t:e}function jk(e){const{width:t,height:n,offsetLeft:r,offsetTop:o}=Fl(e);return{top:o,bottom:o+n,left:r,right:r+t,width:t,height:n,offsetTop:o,offsetLeft:r}}const Ik=qb(jk);function Vk({disabled:e,forceRecompute:t}){const[n,r]=yp(),o=Ik(e?null:Dk(n.current),t);return p.useMemo(()=>({nodeRef:n,rect:o,setRef:r}),[o,n,r])}function Yb(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Hk(...e){return p.useMemo(()=>[...e].filter(t=>t!=null),[...e])}class Ra{constructor(t){this.target=t,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})}}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Fk(e){const{EventTarget:t}=uo(e);return e instanceof t?e:js(e)}function Ap(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var In;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(In||(In={}));function Zb(e){e.preventDefault()}function Bk(e){e.stopPropagation()}var Ve;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Ve||(Ve={}));const Xb={start:[Ve.Space,Ve.Enter],cancel:[Ve.Esc],end:[Ve.Space,Ve.Enter]},zk=(e,{currentCoordinates:t})=>{switch(e.code){case Ve.Right:return{...t,x:t.x+25};case Ve.Left:return{...t,x:t.x-25};case Ve.Down:return{...t,y:t.y+25};case Ve.Up:return{...t,y:t.y-25}}};class Mp{constructor(t){this.props=t,this.autoScrollEnabled=!1,this.coordinates=Fr;const{event:{target:n}}=t;this.props=t,this.listeners=new Ra(js(n)),this.windowListeners=new Ra(uo(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(In.Resize,this.handleCancel),this.windowListeners.add(In.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(In.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props;if(!t.node.current)throw new Error("Active draggable node is undefined");const r=Bl(t.node.current),o={x:r.left,y:r.top};this.coordinates=o,n(o)}handleKeyDown(t){if(JM(t)){const{coordinates:n}=this,{active:r,context:o,options:s}=this.props,{keyboardCodes:a=Xb,coordinateGetter:l=zk,scrollBehavior:c="smooth"}=s,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const d=l(t,{active:r,context:o.current,currentCoordinates:n});if(d){const f={x:0,y:0},{scrollableAncestors:g}=o.current;for(const h of g){const m=t.code,b=Nb(d,n),{isTop:y,isRight:v,isLeft:S,isBottom:w,maxScroll:C,minScroll:E}=Hb(h),x=vk(h),P={x:Math.min(m===Ve.Right?x.right-x.width/2:x.right,Math.max(m===Ve.Right?x.left:x.left+x.width/2,d.x)),y:Math.min(m===Ve.Down?x.bottom-x.height/2:x.bottom,Math.max(m===Ve.Down?x.top:x.top+x.height/2,d.y))},T=m===Ve.Right&&!v||m===Ve.Left&&!S,_=m===Ve.Down&&!w||m===Ve.Up&&!y;if(T&&P.x!==d.x){if(m===Ve.Right&&h.scrollLeft+b.x<=C.x||m===Ve.Left&&h.scrollLeft+b.x>=E.x){h.scrollBy({left:b.x,behavior:c});return}f.x=m===Ve.Right?h.scrollLeft-C.x:h.scrollLeft-E.x,h.scrollBy({left:-f.x,behavior:c});break}else if(_&&P.y!==d.y){if(m===Ve.Down&&h.scrollTop+b.y<=C.y||m===Ve.Up&&h.scrollTop+b.y>=E.y){h.scrollBy({top:b.y,behavior:c});return}f.y=m===Ve.Down?h.scrollTop-C.y:h.scrollTop-E.y,h.scrollBy({top:-f.y,behavior:c});break}}this.handleMove(t,Ya(d,f))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n),this.coordinates=n}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Mp.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Xb,onActivation:n})=>{const{code:r}=e.nativeEvent;return t.start.includes(r)?(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0):!1}}];function Jb(e){return!!(e&&"distance"in e)}function Qb(e){return!!(e&&"delay"in e)}class kp{constructor(t,n,r=Fk(t.event.target)){this.props=t,this.events=n,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=js(s),this.documentListeners=new Ra(this.document),this.listeners=new Ra(r),this.windowListeners=new Ra(uo(s)),this.initialCoordinates=Sp(o),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(In.Resize,this.handleCancel),this.windowListeners.add(In.DragStart,Zb),this.windowListeners.add(In.VisibilityChange,this.handleCancel),this.windowListeners.add(In.ContextMenu,Zb),this.documentListeners.add(In.Keydown,this.handleKeydown),n){if(Jb(n))return;if(Qb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(In.Click,Bk,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(In.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){const{activated:n,initialCoordinates:r,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!r)return;const l=Sp(t),c=Nb(r,l);if(!n&&a){if(Qb(a))return Ap(c,a.tolerance)?this.handleCancel():void 0;if(Jb(a))return a.tolerance!=null&&Ap(c,a.tolerance)?this.handleCancel():Ap(c,a.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Ve.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Uk={move:{name:"pointermove"},end:{name:"pointerup"}};class Lp extends kp{constructor(t){const{event:n}=t,r=js(n.target);super(t,Uk,r)}}Lp.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t==null||t({event:e}),!0)}];const Wk={move:{name:"mousemove"},end:{name:"mouseup"}};var $p;(function(e){e[e.RightClick=2]="RightClick"})($p||($p={}));class Gk extends kp{constructor(t){super(t,Wk,js(t.event.target))}}Gk.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===$p.RightClick?!1:(t==null||t({event:e}),!0)}];const Np={move:{name:"touchmove"},end:{name:"touchend"}};class Kk extends kp{constructor(t){super(t,Np)}static setup(){return window.addEventListener(Np.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Np.move.name,t)};function t(){}}}Kk.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return n.length>1?!1:(t==null||t({event:e}),!0)}}];function qk(e,{transform:t,...n}){return e!=null&&e.length?e.reduce((r,o)=>o({transform:r,...n}),t):t}const Yk=[{sensor:Lp,options:{}},{sensor:Mp,options:{}}],Zk={current:{}},Rb=p.createContext({...Fr,scaleX:1,scaleY:1}),Xk=p.memo(function({id:t,autoScroll:n=!0,announcements:r,children:o,sensors:s=Yk,collisionDetection:a=Sk,measuring:l,modifiers:c,screenReaderInstructions:u=rk,...d}){var f,g,h,m,b;const y=p.useReducer(ak,void 0,sk),[v,S]=y,[w,C]=p.useState(()=>({type:null,event:null})),[E,x]=p.useState(!1),{draggable:{active:P,nodes:T,translate:_},droppable:{containers:O}}=v,k=P?T[P]:null,M=p.useRef({initial:null,translated:null}),F=p.useMemo(()=>{var _t;return P!=null?{id:P,data:(_t=k==null?void 0:k.data)!=null?_t:Zk,rect:M}:null},[P,k]),U=p.useRef(null),[A,L]=p.useState(null),[W,K]=p.useState(null),$=p.useRef(d),V=qa("DndDescribedBy",t),I=p.useMemo(()=>O.getEnabled(),[O]),{layoutRectMap:B,recomputeLayouts:te,willRecomputeLayouts:X}=Ok(I,{dragging:E,dependencies:[_.x,_.y],config:l==null?void 0:l.droppable}),J=xk(T,P),ie=W?Sp(W):null,q=Kb(J,(f=l==null||(g=l.draggable)==null?void 0:g.measure)!=null?f:Op),Y=_p(J),R=p.useRef(null),le=R.current,ae=p.useRef({active:null,activeNode:J,collisionRect:null,droppableRects:B,draggableNodes:T,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),ye=O.getNodeFor((h=ae.current.over)==null?void 0:h.id),we=_p(J?J.ownerDocument.defaultView:null),Xe=_p(J?J.parentElement:null),Qe=Mk(P?ye??J:null),pt=$k(Qe),rt=Vk({disabled:P==null,forceRecompute:X}),Je=(m=rt.rect)!=null?m:q,zt=Je===q?dk(q,le):Fr,lt=qk(c,{transform:{x:_.x-zt.x,y:_.y-zt.y,scaleX:1,scaleY:1},activatorEvent:W,active:F,activeNodeRect:Y,containerNodeRect:Xe,draggingNodeRect:Je,over:ae.current.over,overlayNodeRect:rt.rect,scrollableAncestors:Qe,scrollableAncestorRects:pt,windowRect:we}),Nt=ie?Ya(ie,_):null,Tt=_k(Qe),ht=Ya(lt,Tt),ot=Je?Vb(Je,lt):null,Ue=ot?Vb(ot,Tt):null,ct=F&&Ue?a({active:F,collisionRect:Ue,droppableContainers:I}):null,[wt,tn]=p.useState(null),xr=uk(lt,(b=wt==null?void 0:wt.rect)!=null?b:null,q),Gr=p.useCallback((_t,{sensor:yn,options:Et})=>{if(!U.current)return;const wn=T[U.current];if(!wn)return;const rn=new yn({active:U.current,activeNode:wn,event:_t.nativeEvent,options:Et,context:ae,onStart(ce){const me=U.current;if(!me)return;const Ee=T[me];if(!Ee)return;const{onDragStart:Sn}=$.current,Dt={active:{id:me,data:Ee.data,rect:M}};on.unstable_batchedUpdates(()=>{S({type:tt.DragStart,initialCoordinates:ce,active:me}),C({type:tt.DragStart,event:Dt})}),Sn==null||Sn(Dt)},onMove(ce){S({type:tt.DragMove,coordinates:ce})},onEnd:ee(tt.DragEnd),onCancel:ee(tt.DragCancel)});on.unstable_batchedUpdates(()=>{L(rn),K(_t.nativeEvent)});function ee(ce){return async function(){const{active:Ee,over:Sn,scrollAdjustedTranslate:Dt}=ae.current;let Cn=null;if(Ee&&Dt){const{cancelDrop:Jn}=$.current;Cn={active:Ee,delta:Dt,over:Sn},ce===tt.DragEnd&&typeof Jn=="function"&&await Promise.resolve(Jn(Cn))&&(ce=tt.DragCancel)}if(U.current=null,on.unstable_batchedUpdates(()=>{S({type:ce}),tn(null),x(!1),L(null),K(null),Cn&&C({type:ce,event:Cn})}),Cn){const{onDragCancel:Jn,onDragEnd:qs}=$.current,ky=ce===tt.DragEnd?qs:Jn;ky==null||ky(Cn)}}}},[S,T]),Ut=p.useCallback((_t,yn)=>(Et,wn)=>{const rn=Et.nativeEvent;U.current!==null||rn.dndKit||rn.defaultPrevented||_t(Et,yn.options)===!0&&(rn.dndKit={capturedBy:yn.sensor},U.current=wn,Gr(Et,yn))},[Gr]),nn=Ek(s,Ut);kk(s),Wo(()=>{$.current=d},Object.values(d)),p.useEffect(()=>{P!=null&&x(!0)},[P]),p.useEffect(()=>{F||(R.current=null),F&&q&&!R.current&&(R.current=q)},[q,F]),p.useEffect(()=>{const{onDragMove:_t}=$.current,{active:yn,over:Et}=ae.current;if(!yn)return;const wn={active:yn,delta:{x:ht.x,y:ht.y},over:Et};C({type:tt.DragMove,event:wn}),_t==null||_t(wn)},[ht.x,ht.y]),p.useEffect(()=>{const{active:_t,droppableContainers:yn,scrollAdjustedTranslate:Et}=ae.current;if(!_t||!U.current||!Et)return;const{onDragOver:wn}=$.current,rn=yn.get(ct),ee=rn&&rn.rect.current?{id:rn.id,rect:rn.rect.current,data:rn.data,disabled:rn.disabled}:null,ce={active:_t,delta:{x:Et.x,y:Et.y},over:ee};on.unstable_batchedUpdates(()=>{tn(ee),C({type:tt.DragOver,event:ce}),wn==null||wn(ce)})},[ct]),Wo(()=>{ae.current={active:F,activeNode:J,collisionRect:Ue,droppableRects:B,draggableNodes:T,draggingNodeRect:Je,droppableContainers:O,over:wt,scrollableAncestors:Qe,scrollAdjustedTranslate:ht,translatedRect:ot},M.current={initial:Je,translated:ot}},[F,J,Ue,T,Je,B,O,wt,Qe,ht,ot]),Ck({...wo(),draggingRect:ot,pointerCoordinates:Nt,scrollableAncestors:Qe,scrollableAncestorRects:pt});const ut=p.useMemo(()=>({active:F,activeNode:J,activeNodeRect:q,activeNodeClientRect:Y,activatorEvent:W,activators:nn,ariaDescribedById:{draggable:V},containerNodeRect:Xe,dispatch:S,dragOverlay:rt,draggableNodes:T,droppableContainers:O,droppableRects:B,over:wt,recomputeLayouts:te,scrollableAncestors:Qe,scrollableAncestorRects:pt,willRecomputeLayouts:X,windowRect:we}),[F,J,Y,q,W,nn,Xe,rt,S,T,V,O,B,wt,te,Qe,pt,X,we]);return p.createElement(Db.Provider,{value:w},p.createElement(Hl.Provider,{value:ut},p.createElement(Rb.Provider,{value:xr},o)),p.createElement(lk,{announcements:r,hiddenTextDescribedById:V,screenReaderInstructions:u}));function wo(){const _t=(A==null?void 0:A.autoScrollEnabled)===!1,yn=typeof n=="object"?n.enabled===!1:n===!1,Et=!_t&&!yn;return typeof n=="object"?{...n,enabled:Et}:{enabled:Et}}}),Jk=p.createContext(null),ev="button",Qk="Droppable";function Rk({id:e,data:t,disabled:n=!1,attributes:r}){const o=qa(Qk),{active:s,activeNodeRect:a,activatorEvent:l,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:f,over:g}=p.useContext(Hl),{role:h=ev,roleDescription:m="draggable",tabIndex:b=0}=r??{},y=(s==null?void 0:s.id)===e,v=p.useContext(y?Rb:Jk),[S,w]=yp(),C=Lk(f,e),E=Wb(t);p.useEffect(()=>(u[e]={id:e,key:o,node:S,data:E},()=>{const P=u[e];P&&P.key===o&&delete u[e]}),[u,e]);const x=p.useMemo(()=>({role:h,tabIndex:b,"aria-pressed":y&&h===ev?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[h,b,y,m,c.draggable]);return{active:s,activeNodeRect:a,activatorEvent:l,attributes:x,droppableRects:d,isDragging:y,listeners:n?void 0:C,node:S,over:g,setNodeRef:w,transform:v}}function e4(){return p.useContext(Hl)}const t4="Droppable";function n4({data:e,disabled:t=!1,id:n}){const r=qa(t4),{active:o,dispatch:s,over:a}=p.useContext(Hl),l=p.useRef(null),[c,u]=yp(),d=Wb(e);return Wo(()=>(s({type:tt.RegisterDroppable,element:{id:n,key:r,disabled:t,node:c,rect:l,data:d}}),()=>s({type:tt.UnregisterDroppable,key:r,id:n})),[n]),p.useEffect(()=>{s({type:tt.SetDroppableDisabled,id:n,key:r,disabled:t})},[t]),{active:o,rect:l,isOver:(a==null?void 0:a.id)===n,node:c,over:a,setNodeRef:u}}function r4(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const o4=({draggingNodeRect:e,transform:t,scrollableAncestorRects:n})=>{const r=n[0];return!e||!r?t:r4(t,e,r)},s4=({transform:e})=>({...e,x:0});function tv(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function a4(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function Ul(e){return e!==null&&e>=0}const nv=({layoutRects:e,activeIndex:t,overIndex:n,index:r})=>{const o=tv(e,n,t),s=e[r],a=o[r];return!a||!s?null:{x:a.offsetLeft-s.offsetLeft,y:a.offsetTop-s.offsetTop,scaleX:a.width/s.width,scaleY:a.height/s.height}},Wl={scaleX:1,scaleY:1},i4=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:r,overIndex:o})=>{var s;const a=(s=r[e])!=null?s:t;if(!a)return null;if(n===e){const c=r[o];return c?{x:0,y:e<o?c.offsetTop+c.height-(a.offsetTop+a.height):c.offsetTop-a.offsetTop,...Wl}:null}const l=l4(r,n,e);return n>e&&n<=o?{x:0,y:-a.height-l,...Wl}:n<e&&n>=o?{x:0,y:a.height+l,...Wl}:{x:0,y:0,...Wl}};function l4(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.offsetTop-(o.offsetTop+o.height):s?s.offsetTop-(r.offsetTop+r.height):0:s?s.offsetTop-(r.offsetTop+r.height):o?r.offsetTop-(o.offsetTop+o.height):0:0}const rv="Sortable",ov=p.createContext({activeIndex:-1,containerId:rv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nv,wasDragging:{current:!1}});function c4({children:e,id:t,items:n,strategy:r=nv}){const{active:o,dragOverlay:s,droppableRects:a,over:l,recomputeLayouts:c,willRecomputeLayouts:u}=e4(),d=qa(rv,t),f=s.rect!==null,g=p.useMemo(()=>n.map(P=>typeof P=="string"?P:P.id),[n]),h=o!=null,m=p.useRef(!1),b=o?g.indexOf(o.id):-1,y=b!==-1,v=l?g.indexOf(l.id):-1,S=p.useRef(g),w=a4(g,a),C=!u4(g,S.current),E=v!==-1&&b===-1||C;Wo(()=>{C&&y&&!u&&c()},[C,y,c,u]),p.useEffect(()=>{S.current=g},[g]),p.useEffect(()=>{const P=setTimeout(()=>{m.current=h},100);return()=>clearTimeout(P)},[h]);const x=p.useMemo(()=>({activeIndex:b,containerId:d,disableTransforms:E,items:g,overIndex:v,useDragOverlay:f,sortedRects:w,strategy:r,wasDragging:m}),[b,d,E,g,v,w,f,r,m]);return p.createElement(ov.Provider,{value:x},e)}function u4(e,t){return e.join()===t.join()}const d4=({id:e,items:t,activeIndex:n,overIndex:r})=>tv(t,n,r).indexOf(e),p4=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:c})=>!c||!n||a!==o&&r===s?!1:t?!0:s!==r&&e===l,f4={duration:200,easing:"ease"},sv="transform",g4=Za.Transition.toString({property:sv,duration:0,easing:"linear"}),h4={roleDescription:"sortable"};function m4({disabled:e,index:t,node:n,rect:r}){const[o,s]=p.useState(null),a=p.useRef(t);return Wo(()=>{if(!e&&t!==a.current&&n.current){const l=r.current;if(l){const c=Bl(n.current),u={x:l.offsetLeft-c.offsetLeft,y:l.offsetTop-c.offsetTop,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}t!==a.current&&(a.current=t)},[e,t,n,r]),p.useEffect(()=>{o&&requestAnimationFrame(()=>{s(null)})},[o]),o}function b4({animateLayoutChanges:e=p4,attributes:t,disabled:n,data:r,getNewIndex:o=d4,id:s,strategy:a,transition:l=f4}){const{items:c,containerId:u,activeIndex:d,disableTransforms:f,sortedRects:g,overIndex:h,useDragOverlay:m,strategy:b,wasDragging:y}=p.useContext(ov),v=c.indexOf(s),S=p.useMemo(()=>({sortable:{containerId:u,index:v,items:c},...r}),[u,r,v,c]),{rect:w,node:C,setNodeRef:E}=n4({id:s,data:S}),{active:x,activeNodeRect:P,activatorEvent:T,attributes:_,setNodeRef:O,listeners:k,isDragging:M,over:F,transform:U}=Rk({id:s,data:S,attributes:{...h4,...t},disabled:n}),A=qM(E,O),L=!!x,W=L&&y.current&&!f&&Ul(d)&&Ul(h),K=!m&&M,$=K&&W?U:null,I=W?$??(a??b)({layoutRects:g,activeNodeRect:P,activeIndex:d,overIndex:h,index:v}):null,B=Ul(d)&&Ul(h)?o({id:s,items:c,activeIndex:d,overIndex:h}):v,te=p.useRef(c),X=c!==te.current,J=p.useRef(B),ie=p.useRef(u),q=e({active:x,containerId:u,isDragging:M,isSorting:L,id:s,index:v,items:c,newIndex:J.current,previousItems:te.current,previousContainerId:ie.current,transition:l,wasDragging:y.current}),Y=m4({disabled:!q,index:v,node:C,rect:w});return p.useEffect(()=>{L&&J.current!==B&&(J.current=B),u!==ie.current&&(ie.current=u),c!==te.current&&(te.current=c)},[L,B,u,c]),{active:x,attributes:_,activatorEvent:T,rect:w,index:v,isSorting:L,isDragging:M,listeners:k,node:C,overIndex:h,over:F,setNodeRef:A,setDroppableNodeRef:E,setDraggableNodeRef:O,transform:Y??I,transition:R()};function R(){if(Y||X&&J.current===v)return g4;if(!(K||!l)&&(L||q))return Za.Transition.toString({...l,property:sv})}}const v4=[Ve.Down,Ve.Right,Ve.Up,Ve.Left],y4=(e,{context:{active:t,droppableContainers:n,translatedRect:r,scrollableAncestors:o}})=>{if(v4.includes(e.code)){if(e.preventDefault(),!t||!r)return;const a=[];n.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const u=c==null?void 0:c.node.current;if(!u)return;const d=Op(u),f={...c,rect:{current:d}};switch(e.code){case Ve.Down:r.top+r.height<=d.top&&a.push(f);break;case Ve.Up:r.top>=d.top+d.height&&a.push(f);break;case Ve.Left:r.left>=d.left+d.width&&a.push(f);break;case Ve.Right:r.left+r.width<=d.left&&a.push(f);break}});const l=yk({active:t,collisionRect:r,droppableContainers:a});if(l){var s;const c=(s=n.get(l))==null?void 0:s.node.current;if(c){const d=xp(c).some((m,b)=>o[b]!==m),f=Op(c),g=d?{x:0,y:0}:{x:r.width-f.width,y:r.height-f.height};return{x:f.left-g.x,y:f.top-g.y}}}}};function w4(e){const{id:t,item:n,className:r,select:o,remove:s,renderItem:a,previewStyle:l,sortable:c=!0}=e,{attributes:u,listeners:d,setNodeRef:f,transform:g,transition:h}=b4({id:t}),m={transform:Za.Transform.toString(g),transition:h},b=()=>o==null?void 0:o(n);return i.jsx("div",{...c?{ref:f,style:m,...u}:{},children:i.jsxs(N,{space:"s",onClick:b,className:r,items:"center",nowrap:!0,children:[c&&i.jsx(D,{className:H($e.hover,"cursor-grab"),...d,children:i.jsx(ne,{icon:Z.dotsVertical,size:se.sx})}),i.jsx(D,{grow:!0,className:H("overflow-hidden"),children:i.jsxs(N,{children:[i.jsx(D,{grow:!0,className:H("overflow-ellipsis overflow-hidden"),children:a(n)}),!!l&&i.jsx(D,{children:i.jsx("div",{className:H("w-4 h-4 gjs-bg-white",re.b,re.rnd),style:l(n)})})]})}),i.jsx(D,{className:H($e.click),onClick:y=>{os(y),s==null||s(n)},children:i.jsx(ne,{icon:Z.close,size:se.sx})})]},n.getIndex?n.getIndex():n.id||n.cid)})}function mr({className:e,items:t,selected:n,children:r,title:o,titleAdd:s,label:a,emptyState:l,select:c,add:u,move:d,remove:f,renderItem:g,previewStyle:h,getItemId:m=b=>b.cid??b.id}){const b=Hk(Yb(Lp),Yb(Mp,{coordinateGetter:y4}));function y(w){const{active:C,over:E}=w;if(C.id!==(E==null?void 0:E.id)){const x=t.find(T=>m(T)===C.id),P=t.findIndex(T=>m(T)===(E==null?void 0:E.id));x&&(d==null||d(x,P))}}const v=H(re.rnd,z.br,t.length&&re.b,t.length&&"gjs-mt-1");let S=i.jsxs("div",{className:v,children:[t.length===0&&i.jsx(N,{className:j("gs-utl-p-2 gs-utl-text-center",z.txtLowEmphasis),items:"center",justify:"center",children:l}),t.map((w,C)=>{const E=m(w),x=w===n,P=H("gjs-px-2 gjs-py-2 text-xs",z.br,C&&re.bt,!!c&&!x&&z.hBgH2,x&&z.bgH);return i.jsx(w4,{id:E,item:w,className:P,select:c,remove:f,renderItem:g,previewStyle:h,sortable:!!d},E)})]});return d&&(S=i.jsx(Xk,{sensors:b,collisionDetection:ck,onDragEnd:y,modifiers:[s4,o4],children:i.jsx(c4,{items:t.map(m),strategy:i4,children:S})})),c&&(S=i.jsx(dr,{placement:"left",size:"s",buttonAs:"div",title:o,classNameBody:"gs-utl-gap-2 gs-utl-flex gs-utl-flex-col",open:!!n,onClose:()=>c==null?void 0:c(null),handler:S,children:r})),i.jsxs("div",{className:H(e,"w-full"),children:[!!(a||u)&&i.jsxs(N,{items:"center",children:[i.jsx(D,{grow:!0,children:i.jsx(Ln,{size:"s",children:a})}),!!u&&i.jsx(D,{children:i.jsx(xt,{title:s,inline:!0,children:i.jsx(Ie,{onClick:u,size:"s",children:i.jsx(ne,{icon:Z.plus,size:se.s})})})})]}),S]})}const Br="gs-cmp-file-field";function ei({className:e,value:t,label:n,btnLabel:r,nameLabel:o,size:s,isContain:a,clear:l,inputField:c,placeholder:u,description:d,preview:f=50,onChange:g,onOpen:h}){var w;const m=(t||"").replace(/^"|"$/gi,""),b=((w=m.split("/").pop())==null?void 0:w.split("?")[0])||"",y={minWidth:f,minHeight:f},v=m?{...y,backgroundImage:`url("${m}")`}:y,S=j(" gs-utl-w-full gs-utl-bg-checker gs-utl-bg-no-repeat gs-utl-bg-center",a?"gs-utl-bg-contain":"gs-utl-bg-cover",re.b,re.rnd,z.br);return i.jsxs(N,{className:j(Br,e,"gs-utl-gap-1"),col:!0,nowrap:!0,children:[!!n&&i.jsx(Ln,{className:j(`${Br}-label`),size:s,m:"",children:n}),!!d&&i.jsx(Ln,{className:j(`${Br}-desc`,z.txtLowEmphasis),size:s,as:"span",m:"",capitalize:!1,children:d}),i.jsxs(N,{className:j(`${Br}-content gs-utl-gap-1`,z.bg),items:"center",nowrap:!0,children:[i.jsx(D,{className:j(`${Br}-preview`),children:i.jsx("div",{className:S,style:v})}),i.jsxs(D,{className:j(`${Br}-fields gs-utl-overflow-hidden`),grow:!0,children:[b&&o!==!1&&i.jsx(Ln,{className:j(`${Br}-name`,"gs-utl-mb-2",$e.txtEllips),as:"div",size:s,capitalize:!1,children:b}),i.jsxs(N,{className:j(`${Br}-buttons`),space:"s",nowrap:!0,children:[i.jsx(Ie,{onClick:()=>h==null?void 0:h(t),size:s,type:"button",block:!0,full:!0,children:r||"Select image"}),!!t&&l&&i.jsx(mt,{onClick:()=>g==null?void 0:g(""),title:l.tooltip,size:s,icon:{icon:Z.close,size:se.s},type:"button",block:!0})]})]})]}),c&&i.jsx(Re,{className:j(`${Br}-input`),value:m,onChange:g,size:s,placeholder:u})]})}function av(e){return e.isFull()||["slider","composite","stack","file"].includes(e.getType())}function S4(e){return["composite","stack"].includes(e.getType())}const iv="gs-cmp-style-field";function Dp({property:e}){const t=j(iv,`${iv}__${e.id}`);switch(e.getType()){case"number":case"slider":case"integer":return i.jsx(_e,{className:t,...Ze(e)});case"color":return i.jsx(Hr,{className:t,...zr(e)});case"select":return i.jsx(Pe,{className:t,...He(e)});case"radio":return i.jsx(Ft,{className:t,...He(e)});case"file":return i.jsx(ei,{className:t,...H4(e)});case"composite":return i.jsx(Qt,{className:t,property:e,corners:e.get("corners"),generic:e.get("generic")});case"stack":{const n=e.getProperties();return i.jsx(mr,{className:t,...po(e),children:i.jsx(jp,{properties:n})})}default:return i.jsx(Re,{className:t,...zr(e)})}}const lv="gs-cmp-style-prop-row";function jp({properties:e}){return i.jsx(i.Fragment,{children:e.map(t=>{const n=t.getId(),r=j(lv,`${lv}__${n}`,av(t)&&"gs-utl-col-span-full");return t.isVisible()?S4(t)?i.jsx("div",{className:r,children:i.jsx(Dp,{property:t})},n):i.jsx(pe,{property:t,className:r,children:i.jsx(Dp,{property:t})},n):null})})}function C4({sector:e}){const t=e.getProperties().filter(n=>n.isVisible());return i.jsx("div",{className:j("gs-utl-grid gs-utl-grid-cols-2 gs-utl-gap-2"),children:i.jsx(jp,{properties:t})})}const x4="gs-cmp-sector-row";function he({className:e,children:t,bottom:n,separator:r,separatorTop:o,property:s,...a}){const l=i.jsx("div",{className:H("gjs-mb-2 -gjs-ml-2 -gjs-mr-2",re.bb,z.br)}),c=H(x4,e,"w-full gs-utl-gap-2",n),u=(Array.isArray(s)?s:[s]).filter(Boolean);return(u.length?u.some(f=>f.isVisible()):!0)?i.jsxs(i.Fragment,{children:[o&&l,i.jsx(N,{className:c,nowrap:!0,...a,children:t}),r&&l]}):null}function ti(e,t,n={}){const r=e.getType(),{compact:o=!1}=n,s=e.getParent(),a=e.getDefaultValue();if(r==="select"){const c={property:s.getName()};return i.jsx(Pe,{...He(e,c),...t?{value:t.same?e.getValue({noDefault:!0}):"",emptyState:t.same?e.getOptionLabel(a,c)||a:"Custom",onChange:u=>t.all.map(d=>d.upValue(u))}:{}})}else return r==="color"?i.jsx(Hr,{...zr(e),...t?{value:t.same?e.getValue({noDefault:!0}):"",placeholder:t.same?a:"Custom",onChange:(l,c)=>t.all.map(u=>u.upValue(l,{partial:c}))}:{}}):i.jsx(_e,{...Ze(e),...o?{pan:e.getLabel()[0]}:{},...t?{value:t.same?e.getValue({noDefault:!0}):"",valueUnit:t.same?e.getUnit():"",placeholder:t.same?a:"Custom",onChange:(l,c)=>t.all.map(u=>u.upValue(l,{partial:c})),onChangeUnit:l=>t.all.map(c=>c.upUnit(l))}:{}})}const Gl="gs-cmp-style-prop-composite";function Qt({className:e,property:t,corners:n,compact:r,generic:o,children:s,options:a}){const[l,c]=p.useState(null);if(!(t!=null&&t.isVisible()))return null;const u={id:"custom",label:i.jsx(ne,{icon:Z.borderStyle,size:se.s}),title:"Custom"},d=[{id:"all",label:i.jsx(ne,{icon:Z.borderAllVariant,size:se.s}),title:"All"},u],f=t.isDetached(),g=t.getProperties(),h=g.length,[m,b,y,v]=g,S=m.getFullValue(),C=g.map(A=>A.getFullValue()).every(A=>A===S),E=l!==null?l:C||a?"all":u.id,x=a?[...a,u]:[],P=t.getFullValue(),T=x.some(A=>A.id===P),_=E===u.id||(a?!T:!1)||!!o,O=i.jsx(pe,{property:r?null:m,shallow:!f,children:ti(m,null,{compact:r})}),k=i.jsx(pe,{property:r?null:b,shallow:!f,children:ti(b,null,{compact:r})}),M=!!y&&i.jsx(pe,{property:r?null:y,shallow:!f,children:ti(y,null,{compact:r})}),F=!!v&&i.jsx(pe,{property:r?null:v,shallow:!f,children:ti(v,null,{compact:r})}),U=r?{label:t.getLabel()}:{property:t};return i.jsxs(N,{className:H(Gl,e,"gs-utl-w-full gs-utl-gap-2"),col:!0,nowrap:!0,children:[i.jsx(he,{className:`${Gl}__main`,children:i.jsx(pe,{...U,children:!o&&i.jsx(he,{bottom:"0",children:s!==void 0?s:a?i.jsx(i.Fragment,{children:i.jsx(D,{grow:!0,children:i.jsx(Ft,{size:"s",options:x,value:_?u.id:P,onChange:A=>{A===u.id?c(A):(t.upValue(A),c(""))}})})}):i.jsxs(i.Fragment,{children:[i.jsx(D,{grow:!0,children:ti(m,{same:C,all:g})}),i.jsx(D,{grow:!0,children:i.jsx(Ft,{size:"s",options:d,value:E,onChange:c})})]})})})}),_&&i.jsx(he,{col:!0,className:H(`${Gl}__details`,"gjs-px-2 gjs-py-1",z.bgH2,re.rnd,re.b,z.br),children:o?i.jsx("div",{className:H(`${Gl}__props`,"grid grid-cols-2 gap-2"),children:g.map(A=>i.jsx(pe,{property:A,shallow:!f,className:H(av(A)&&"col-span-full"),children:i.jsx(Dp,{property:A})},A.getId()))}):h===2?i.jsx(i.Fragment,{children:i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:O}),i.jsx(D,{grow:!0,children:k})]})}):h===3?i.jsxs(i.Fragment,{children:[i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:O}),i.jsx(D,{grow:!0,children:k})]}),i.jsx(N,{space:"s",children:i.jsx(D,{grow:!0,children:M})})]}):n?i.jsxs(i.Fragment,{children:[i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:O}),i.jsx(D,{grow:!0,children:k})]}),i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:F}),i.jsx(D,{grow:!0,children:M})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(N,{className:H("gs-utl-w-1/2 gjs-m-auto"),children:O}),i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:F}),i.jsx(D,{grow:!0,children:k})]}),i.jsx(N,{className:H("gs-utl-w-1/2 gjs-m-auto"),children:M})]})})]})}function E4({sector:e}){const t=e.getProperty("border-radius");return i.jsxs(i.Fragment,{children:[i.jsx(Qt,{property:t,corners:!0}),i.jsx(Qt,{property:e.getProperty("border-width")}),i.jsx(Qt,{property:e.getProperty("border-style")}),i.jsx(Qt,{property:e.getProperty("border-color")})]})}const Go=e=>Il({value:parseFloat(e),min:-3,max:3}),Ip=(e,t="filter")=>{const n=e.getProperty(`${t}-value`),r=e.getProperty(`${t}-name`).getOption()||{},o=r.units||[],s=n.getUnit(),a=GM(s,o)?s:o[0];return{...Ze(n),units:o,valueUnit:a,onChange:(l,c)=>{n.upValue(l,{partial:c,units:o,min:r.min,max:r.max})}}},cv=(e,t)=>{const n=e.getProperty(`${t}-name`),r=e.getProperty(`${t}-value`);return{...He(n),onChange:o=>{n.upValue(o),r.upValue("")}}},P4={"text-shadow-h":"1px","text-shadow-v":"1px","text-shadow-blur":"5px"};function O4({sector:e}){const t=e.getProperty("box-shadow"),n=e.getProperty("text-shadow"),r=e.getProperty("filter"),o=e.getProperty("backdrop-filter"),s=e.getProperty("transition"),a=e.getProperty("transform"),l=e.getProperty("perspective-origin"),c=e.getProperty("backface-visibility"),u=e.getProperty("perspective"),d=e.getProperty("transform-style"),f=e.getProperty("opacity"),g=e.getProperty("mix-blend-mode"),h=e.getProperty("cursor"),m=y=>{const{boxShadowH:v,boxShadowV:S,boxShadowBlur:w,boxShadowColor:C,boxShadowSpread:E,boxShadowType:x}=y.getValues({camelCase:!0}),P=Go(v),T=Go(S),_=Go(w),O=Go(E),k=`${P}px ${T}px ${_}px ${O}px ${C} ${x}`.trim();return i.jsxs(N,{space:"s",items:"center",children:[i.jsxs(D,{grow:!0,children:[v," ",S," ",w," ",E]}),i.jsx(D,{children:i.jsx("div",{className:H("w-4 h-4 gjs-bg-white",re.b,re.rnd),style:{boxShadow:k}})})]})},b=y=>{const{textShadowH:v,textShadowV:S,textShadowBlur:w,textShadowColor:C}=y.getValues({camelCase:!0}),E=Go(v),x=Go(S),P=Go(w),T=`${E}px ${x}px ${P}px ${C}`.trim();return i.jsxs(N,{space:"s",items:"center",children:[i.jsxs(D,{grow:!0,children:[v," ",S," ",w]}),i.jsx(D,{children:i.jsx("div",{className:H("w-4 h-4 gjs-bg-white",re.b,re.rnd),style:{boxShadow:T}})})]})};return i.jsxs(i.Fragment,{children:[i.jsxs(he,{property:[f,g],children:[i.jsx(pe,{property:f,children:i.jsx(_e,{...Ze(f)})}),i.jsx(pe,{property:g,children:i.jsx(Pe,{...He(g)})})]}),i.jsx(he,{property:h,separator:!0,children:i.jsx(pe,{property:h,children:i.jsx(Pe,{...He(h)})})}),i.jsx(he,{property:t,separator:!0,children:i.jsxs(mr,{...po(t),renderItem:m,children:[i.jsx(he,{children:i.jsx(Ft,{...He(t.getProperty("box-shadow-type"))})}),i.jsxs(he,{children:[i.jsx(pe,{label:"X offset",children:i.jsx(_e,{...Ze(t.getProperty("box-shadow-h"))})}),i.jsx(pe,{label:"Y offset",children:i.jsx(_e,{...Ze(t.getProperty("box-shadow-v"))})})]}),i.jsxs(he,{children:[i.jsx(pe,{label:"Blur",children:i.jsx(_e,{...Ze(t.getProperty("box-shadow-blur"))})}),i.jsx(pe,{label:"Spread",children:i.jsx(_e,{...Ze(t.getProperty("box-shadow-spread"))})})]}),i.jsx(he,{children:i.jsx(pe,{label:"Color",children:i.jsx(Hr,{...zr(t.getProperty("box-shadow-color"))})})})]})}),i.jsx(he,{property:n,separator:!0,children:i.jsxs(mr,{...po(n,P4),renderItem:b,children:[i.jsxs(he,{children:[i.jsx(pe,{label:"X offset",children:i.jsx(_e,{...Ze(n.getProperty("text-shadow-h"))})}),i.jsx(pe,{label:"Y offset",children:i.jsx(_e,{...Ze(n.getProperty("text-shadow-v"))})})]}),i.jsx(he,{children:i.jsx(pe,{label:"Blur",children:i.jsx(_e,{...Ze(n.getProperty("text-shadow-blur"))})})}),i.jsx(he,{children:i.jsx(pe,{label:"Color",children:i.jsx(Hr,{...zr(n.getProperty("text-shadow-color"))})})})]})}),i.jsx(he,{property:r,separator:!0,children:i.jsx(mr,{...po(r,{"filter-name":"blur","filter-value":"3px"}),children:i.jsxs(he,{children:[i.jsx(pe,{label:"Type",children:i.jsx(Pe,{...cv(r,"filter")})}),i.jsx(pe,{label:"Value",children:i.jsx(_e,{...Ip(r)})})]})})}),i.jsx(he,{property:o,separator:!0,children:i.jsx(mr,{...po(o,{"backdrop-filter-name":"blur","backdrop-filter-value":"3px"}),children:i.jsxs(he,{children:[i.jsx(pe,{label:"Type",children:i.jsx(Pe,{...He(o.getProperty("backdrop-filter-name"))})}),i.jsx(pe,{label:"Value",children:i.jsx(_e,{...Ip(o,"backdrop-filter")})})]})})}),i.jsx(he,{property:s,separator:!0,children:i.jsxs(mr,{...po(s),children:[i.jsx(he,{children:i.jsx(pe,{label:"Type",children:i.jsx(Pe,{...He(s.getProperty("transition-property"))})})}),i.jsx(he,{children:i.jsx(pe,{label:"Easing",children:i.jsx(Pe,{...He(s.getProperty("transition-timing-function"))})})}),i.jsxs(he,{children:[i.jsx(pe,{label:"Duration",children:i.jsx(_e,{...Ze(s.getProperty("transition-duration"))})}),i.jsx(pe,{label:"Delay",children:i.jsx(_e,{...Ze(s.getProperty("transition-delay"))})})]})]})}),i.jsx(he,{property:a,separator:!0,children:i.jsx(mr,{...po(a),children:i.jsxs(he,{children:[i.jsx(pe,{label:"Type",children:i.jsx(Pe,{...cv(a,"transform")})}),i.jsx(pe,{label:"Value",children:i.jsx(_e,{...Ip(a,"transform")})})]})})}),i.jsx(Qt,{property:e.getProperty("transform-origin")}),i.jsx(Qt,{property:e.getProperty("overflow")}),i.jsx(he,{property:c,children:i.jsx(pe,{property:c,children:i.jsx(Ft,{...He(c)})})}),i.jsx(he,{property:[u,d,l],separatorTop:!0,children:"Children transform"}),i.jsxs(he,{property:[u,d],children:[i.jsx(pe,{property:u,children:i.jsx(_e,{...Ze(u)})}),i.jsx(pe,{property:d,children:i.jsx(Ft,{...He(d)})})]}),i.jsx(Qt,{property:l})]})}function T4(e,t){return e.indexOf(t)>=0}const at=se.s,Kl="M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z",ql="M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z",Yl="M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z",uv="M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z",dv="M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z",_4="M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z",Vp="M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";function A4({sector:e}){const{editor:t}=fe(),n=Ce(),[r,o]=p.useState({}),[s,a]=p.useState({}),l=e.getProperty("display"),c=e.getProperty("flex-direction"),u=e.getProperty("justify-content"),d=e.getProperty("align-items"),f=e.getProperty("flex-wrap"),g=e.getProperty("align-content"),h=e.getProperty("align-self"),m=e.getProperty("order"),b=e.getProperty("gap"),y=e.getProperty("flex"),v=[l,c,u,d,f,g,h,m,b,y].map(L=>L.id),S=e.getProperties().filter(L=>!v.includes(`${L.id}`)),w=L=>n.t(`styleManager.layout.${L}`),C=l.getValue(),E=C==="flex",x=(s.display||"").indexOf("flex")>=0,P=c.getValue(),T=P.indexOf("reverse")>=0,_=!T4(["column","column-reverse"],P),O=[{id:"row",label:i.jsx(ne,{icon:Z.arrowRight,size:se.sx}),title:w("direction.title.row")},{id:"row-reverse",label:i.jsx(ne,{icon:Z.arrowRight,size:at,horizontal:!0}),title:w("direction.title.row-reverse")},{id:"column",label:i.jsx(ne,{icon:Z.arrowDown,size:se.sx}),title:w("direction.title.column")},{id:"column-reverse",label:i.jsx(ne,{icon:Z.arrowDown,size:at,vertical:!0}),title:w("direction.title.column-reverse")}],k=[{id:"flex-start",title:"Start",label:i.jsx(ne,{icon:Kl,size:at,rotate:_?0:90,horizontal:_&&T,vertical:!_&&T})},{id:"center",title:"Center",label:i.jsx(ne,{icon:ql,size:at,rotate:_?0:90})},{id:"flex-end",title:"End",label:i.jsx(ne,{icon:Yl,size:at,rotate:_?0:90,horizontal:_&&T,vertical:!_&&T})},{id:"space-between",title:"Space between",label:i.jsx(ne,{icon:uv,size:at,rotate:_?0:90})},{id:"space-around",title:"Space around",label:i.jsx(ne,{icon:dv,size:at,rotate:_?0:90})},{id:"space-evenly",title:"Space evenly",label:i.jsx(ne,{icon:_4,size:at,rotate:_?0:90})}],M=[{id:"stretch",title:"Stretch",label:i.jsx(ne,{icon:Vp,size:at,rotate:_?0:90})},{id:"flex-start",title:"Start",label:i.jsx(ne,{icon:Kl,size:at,rotate:_?90:0})},{id:"center",title:"Center",label:i.jsx(ne,{icon:ql,size:at,rotate:_?90:0})},{id:"flex-end",title:"End",label:i.jsx(ne,{icon:Yl,size:at,rotate:_?90:0})}],F=[{id:"flex-start",title:"Start",label:i.jsx(ne,{icon:Kl,size:at,rotate:_?90:0,horizontal:_&&T,vertical:!_&&T})},{id:"center",title:"Center",label:i.jsx(ne,{icon:ql,size:at,rotate:_?90:0})},{id:"flex-end",title:"End",label:i.jsx(ne,{icon:Yl,size:at,rotate:_?90:0,horizontal:_&&T,vertical:!_&&T})},{id:"space-between",title:"Space between",label:i.jsx(ne,{icon:uv,size:at,rotate:_?90:0})},{id:"space-around",title:"Space around",label:i.jsx(ne,{icon:dv,size:at,rotate:_?90:0})},{id:"stretch",title:"Stretch",label:i.jsx(ne,{icon:Vp,size:at,rotate:_?0:90})}],U=[{id:"auto",title:"Auto",label:i.jsx(ne,{icon:Z.close,size:at})},{id:"flex-start",title:"Start",label:i.jsx(ne,{icon:Kl,size:at,rotate:90})},{id:"center",title:"Center",label:i.jsx(ne,{icon:ql,size:at,rotate:90})},{id:"flex-end",title:"End",label:i.jsx(ne,{icon:Yl,size:at,rotate:90})},{id:"stretch",title:"Stretch",label:i.jsx(ne,{icon:Vp,size:at,rotate:0})}],A=[{id:"0 0 auto",label:i.jsx(ne,{icon:Z.close,size:at}),title:"Auto"},{id:"1 1 0%",label:i.jsx(ne,{icon:Z.unfoldMoreHorizontal,size:at,rotate:90}),title:"Fill container"},{id:"0 1 auto",label:i.jsx(ne,{icon:Z.unfoldLessHorizontal,size:at,rotate:90}),title:"Hug contents"}];return p.useEffect(()=>{if(!t)return()=>{};const{Styles:L}=t,W=()=>{const $=t.getSelected();let V={},I={};if($){const B=$.getEl();if(B){V=window.getComputedStyle(B);const te=B.parentElement;te&&(I=window.getComputedStyle(te))}}o(V),a(I)},K=L.events.target;return t.on(K,W),W(),()=>t.off(K,W)},[t]),i.jsxs(i.Fragment,{children:[i.jsx(he,{children:i.jsx(pe,{property:l,tooltip:w(`display.tips.${C}`),row:!0,children:i.jsx(Pe,{...He(l)})})}),E&&i.jsxs(i.Fragment,{children:[i.jsx(he,{children:i.jsx(pe,{property:c,children:i.jsx(Ft,{...He(c),options:O})})}),i.jsx(he,{children:i.jsx(pe,{property:u,children:i.jsx(Ft,{...He(u),options:k})})}),i.jsx(he,{children:i.jsx(pe,{property:d,children:i.jsx(Ft,{...He(d),options:M})})}),i.jsx(he,{children:i.jsx(Qt,{property:b})}),i.jsx(he,{children:i.jsx(pe,{property:f,row:!0,children:i.jsx(Pe,{...He(f)})})}),f.getValue()!=="nowrap"&&i.jsx(he,{children:i.jsx(pe,{property:g,children:i.jsx(Ft,{...He(g),options:F})})})]}),x&&i.jsxs(i.Fragment,{children:[i.jsx(he,{separatorTop:!0,children:w("flexChild")}),i.jsx(he,{children:i.jsx(Qt,{property:y,options:A})}),i.jsx(he,{children:i.jsx(pe,{property:h,children:i.jsx(Ft,{...He(h),options:U})})}),i.jsx(he,{children:i.jsx(pe,{property:m,row:!0,children:i.jsx(_e,{...Ze(m)})})})]}),S.length>0&&i.jsx(jp,{properties:S})]})}const M4=["topLeft","topRight","bottomLeft","bottomRight","left","right","bottom","top","full"];function k4({sector:e}){var g;const t=Ce(),n=e.getProperty("position"),r=n.getValue(),o=e.getProperty("top"),s=e.getProperty("right"),a=e.getProperty("bottom"),l=e.getProperty("left"),c=h=>t.t(`styleManager.position.${h}`),u=M4.map(h=>({id:h,label:c(`presets.options.${h}`)})),d=["absolute","fixed"].includes(r),f=h=>{let m="auto",b="auto",y="auto",v="auto";switch(h){case"topLeft":m="0%",v="0%";break;case"topRight":m="0%",b="0%";break;case"bottomLeft":y="0%",v="0%";break;case"bottomRight":y="0%",b="0%";break;case"left":m="0%",y="0%",v="0%";break;case"right":m="0%",y="0%",b="0%";break;case"bottom":v="0%",y="0%",b="0%";break;case"top":v="0%",m="0%",b="0%";break;case"full":v="0%",m="0%",b="0%",y="0%";break}o.upValue(m),s.upValue(b),a.upValue(y),l.upValue(v)};return i.jsxs(i.Fragment,{children:[i.jsxs(he,{children:[i.jsx(pe,{property:n,tooltip:c(`tips.${(g=n.getOption())==null?void 0:g.id}`),row:!0,children:i.jsx(Pe,{...He(n)})}),d&&i.jsx(D,{children:i.jsx(xt,{title:c("presets.title"),children:i.jsx(Pe,{options:u,onChange:f,emptyState:"P",size:"s",caret:"",value:!0})})})]}),r!=="static"&&i.jsxs(i.Fragment,{children:[i.jsxs(he,{col:!0,children:[i.jsx(N,{className:H("gs-utl-w-1/2 gjs-m-auto"),children:i.jsx(pe,{property:o,children:i.jsx(_e,{...Ze(o)})})}),i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:i.jsx(pe,{property:l,children:i.jsx(_e,{...Ze(l)})})}),i.jsx(D,{grow:!0,children:i.jsx(pe,{property:s,children:i.jsx(_e,{...Ze(s)})})})]}),i.jsx(N,{className:H("gs-utl-w-1/2 gjs-m-auto"),children:i.jsx(pe,{property:a,children:i.jsx(_e,{...Ze(a)})})})]}),i.jsx(he,{children:i.jsx(pe,{property:e.getProperty("z-index"),children:i.jsx(_e,{...Ze(e.getProperty("z-index"))})})})]})]})}function L4({sector:e}){const t=e.getProperty("width"),n=e.getProperty("min-width"),r=e.getProperty("max-width"),o=e.getProperty("height"),s=e.getProperty("min-height"),a=e.getProperty("max-height");return i.jsxs(i.Fragment,{children:[i.jsxs(he,{property:[t,o],children:[i.jsx(pe,{property:t,children:i.jsx(_e,{...Ze(t)})}),i.jsx(pe,{property:o,children:i.jsx(_e,{...Ze(o)})})]}),i.jsxs(he,{property:[n,s],children:[i.jsx(pe,{property:n,children:i.jsx(_e,{...Ze(n)})}),i.jsx(pe,{property:s,children:i.jsx(_e,{...Ze(s)})})]}),i.jsxs(he,{property:[r,a],children:[i.jsx(pe,{property:r,children:i.jsx(_e,{...Ze(r)})}),i.jsx(pe,{property:a,children:i.jsx(_e,{...Ze(a)})})]})]})}function $4({sector:e}){return i.jsxs(i.Fragment,{children:[i.jsx(Qt,{property:e.getProperty("padding")}),i.jsx(Qt,{property:e.getProperty("margin")})]})}const Hp=oe(e=>{const{buttonClassName:t,value:n,...r}=e,{editor:o}=fe(),s=Ce(),a=Fo(),l=Sl(),c=[...r.options||[],...l.fontFamilyOptions].map(u=>{const d=l.getFont(u.id),f=d?Nd(d):u.id;return{...u,content:i.jsx(N,{col:!0,children:i.jsx(D,{style:{fontFamily:f},children:u.label})})}});return i.jsx(Pe,{...r,value:Ho(n),options:c,afterLabel:l.sdkAddFonts&&a.hasType("font")&&i.jsx(mt,{className:t,title:s.t("fontManager.addFontToProject"),icon:Z.plus,size:"xs",border:!1,onClick:()=>o&&Jd(o,{onSelect:({assetProps:u})=>{const{customData:{font:d}}=u;r.onChange(Ho(d.family))}})})})});function N4({sector:e}){const t=e.getProperty("font-family"),n=e.getProperty("color"),r=e.getProperty("font-size"),o=e.getProperty("font-weight"),s=e.getProperty("line-height"),a=e.getProperty("letter-spacing"),l=e.getProperty("text-align"),c=e.getProperty("vertical-align"),u=e.getProperty("text-decoration"),d=e.getProperty("text-transform"),f=e.getProperty("direction"),g=e.getProperty("white-space"),{sdkAddFonts:h}=Sl();return i.jsxs(i.Fragment,{children:[!!t&&i.jsx(he,{property:t,children:h?i.jsx(Hp,{...He(t),options:void 0,buttonClassName:"gs-utl-mb-1",labelAs:"div",label:i.jsx(pe,{property:t}),onChange:m=>{t.upValue(m)}}):i.jsx(pe,{property:t,children:i.jsx(Pe,{...He(t)})})}),!!n&&i.jsx(he,{property:n,children:i.jsx(pe,{property:n,children:i.jsx(Hr,{...zr(n)})})}),i.jsxs(he,{property:[r,o],children:[!!r&&i.jsx(pe,{property:r,children:i.jsx(_e,{...Ze(r)})}),!!o&&i.jsx(pe,{property:o,children:i.jsx(Pe,{...He(o)})})]}),i.jsxs(he,{property:[s,a],children:[!!s&&i.jsx(pe,{property:s,children:i.jsx(_e,{...Ze(s)})}),!!a&&i.jsx(pe,{property:a,children:i.jsx(_e,{...Ze(a)})})]}),i.jsxs(he,{property:[l,c],children:[!!l&&i.jsx(pe,{property:l,children:i.jsx(Pe,{...He(l)})}),!!c&&i.jsx(pe,{property:c,children:i.jsx(Pe,{...He(c)})})]}),i.jsxs(he,{property:[d,f],children:[!!d&&i.jsx(pe,{property:d,children:i.jsx(Pe,{...He(d)})}),!!f&&i.jsx(pe,{property:f,children:i.jsx(Pe,{...He(f)})})]}),i.jsxs(he,{property:[g,u],children:[!!g&&i.jsx(pe,{property:g,children:i.jsx(Pe,{...He(g)})}),!!u&&i.jsx(pe,{property:u,children:i.jsx(Pe,{...He(u)})})]})]})}const pv="gs-style-manager",Zl=`${pv}-sector`,D4=`${Zl}-header`,j4=`${Zl}-content`,fv=(e,t=0,n=!0)=>H(D4,z.bgH2,Le.xyS,z.br,t&&re.bt,(e||n)&&re.bb),I4=(e,t={})=>e.getOptions().map(n=>({id:e.getOptionId(n),label:e.getOptionLabel(e.getOptionId(n),t),title:n.title})),V4=(e,t)=>t.map(n=>({...n,title:e.getOptionLabel(e.getOptionId(n))})),He=(e,t={})=>({size:"s",options:I4(e,t),value:e.getValue(),onChange:n=>e.upValue(n)}),po=(e,t={})=>({title:e.getLabel(),titleAdd:`Add new ${e.getLabel()}`,items:e.getLayers(),selected:e.getSelectedLayer(),renderItem:n=>e.getLayerLabel(n),add:()=>e.addLayer(t,{at:0}),select:n=>e.selectLayer(n),remove:n=>e.removeLayer(n),move:(n,r=0)=>e.moveLayer(n,r),label:i.jsx(pe,{property:e})}),Ze=e=>({size:"s",value:e.getValue({noDefault:!0}),valueUnit:e.getUnit(),units:e.getUnits(),placeholder:e.getDefaultValue(),onChangeUnit:t=>e.upUnit(t),onChange:(t,n)=>e.upValue(t,{partial:n})}),zr=e=>({size:"s",value:e.getValue({noDefault:!0}),placeholder:e.getDefaultValue(),onChange:(t,n)=>e.upValue(t,{partial:n})}),H4=e=>({...zr(e),onOpen(){const t=e.em.Assets;t.open({select(n){e.upValue(n.getSrc()),t.close()}})}}),F4=e=>{const t=e.getId();let n=C4;switch(t){case"gs-layout":n=A4;break;case"gs-size":n=L4;break;case"gs-space":n=$4;break;case"gs-position":n=k4;break;case"gs-borders":n=E4;break;case"gs-effects":n=O4;break;case"gs-typography":n=N4;break;case"gs-background":n=X4;break}return i.jsx(n,{sector:e})},gv=oe(function({className:t,sectors:n}){const{editor:r}=fe();if(!r)return null;const{Styles:o}=r,s=o.getSelected(),a=n.length?n:o.getSectors({visible:!0});return s?i.jsx("div",{className:H(pv,t,"select-none"),children:a.map((l,c)=>i.jsx(Uo,{classNameWrap:j(Zl,`${Zl}__${l.id}`),sticky:!0,handler:()=>{const u=l.getProperties({withValue:!0}).length>0,d=l.getProperties({withParentValue:!0}).length>0;return i.jsxs(N,{space:"xs",items:"center",children:[i.jsx(D,{className:H("gjs-mr-2"),children:l.getName()}),u&&i.jsx(D,{children:i.jsx("div",{className:H($e.dot,z.bgA2)})}),d&&i.jsx(D,{children:i.jsx("div",{className:H($e.dot,z.bgW)})})]})},className:u=>fv(u,c,c===a.length-1),children:i.jsx(N,{className:H(j4,"gs-utl-p-2 gs-utl-gap-2"),col:!0,children:F4(l)})},l.id))}):null}),B4="gs-cmp-switch-field";function ni({className:e,value:t,label:n,border:r,size:o="m",tip:s,disabled:a,onChange:l}){const c=!!t,u=j("gs-utl-relative gs-utl-inline-flex gs-utl-items-center gs-utl-h-6 gs-utl-rounded-full gs-utl-w-11 gs-utl-transition-colors focus:gs-utl-outline-none",c?z.bgA:z.bgH,ua.focus,r&&`${z.br} ${re.b}`);return i.jsx(pd.Group,{children:i.jsxs(N,{items:"center",className:j(B4,e),full:!0,children:[!!n&&i.jsx(pd.Label,{className:j("gs-utl-mr-4 gs-utl-flex-1 gs-utl-flex gs-utl-gap-2 gs-utl-items-center"),passive:!0,children:i.jsx(Ln,{as:"span",size:o,tip:s,m:"",children:n})}),i.jsx(pd,{checked:c,onChange:l,className:u,disabled:a,children:i.jsx("span",{className:j(z.bg,"gs-utl-inline-block gs-utl-w-4 gs-utl-h-4 gs-utl-transform gs-utl-rounded-full gs-utl-transition-transform",c?"gs-utl-translate-x-6":"gs-utl-translate-x-1")})})]})})}const z4=/^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/,U4=/,(?![^(]*\))/,Fp=/\s(?![^(]*\))/,W4=/^(closest-side|closest-corner|farthest-side|farthest-corner)/i,Bp=/^circle|ellipse/i,zp=e=>{var d;const t=[],{name:n,value:r}=Ll(e),[o,...s]=r.split(U4).map(f=>f.trim()).filter(Boolean),a=s.length>1,l=a?o:"",c={type:"none"},u=a?s:[o,...s];if(z4.test(l))c.type="angle",c.value=l;else if(/^to\s/.test(l))c.type="side-or-corner",c.value=l;else if(W4.test(l))c.type="size",c.value=l;else if(Bp.test(l)||/^at\s/.test(l)||/\sat\s/.test(l)){c.type="at",c.value=l;const f=((d=l.match(Bp))==null?void 0:d[0])||"circle";c.shape=f;const g={x:"0%",y:"0%"},h={x:"0%",y:"0%"},[m,b]=l.replace(Bp,"").trim().split("at").map(y=>y.trim());if(m){const[y,v]=m.split(Fp);g.x=y,g.y=v||y}if(b){const[y,v]=b.split(Fp);h.x=y,h.y=v||y}c.size=g,c.position=h}return u.forEach(f=>{const[g,h]=f.split(Fp);t.push({color:g,hint:h?parseFloat(h):null})}),t.forEach((f,g)=>{f.hint===null&&(f.hint=g/(t.length-1)*100)}),{name:n,orientation:c,colorStops:t}},fo=({stops:e,orientation:t="to right",name:n="linear-gradient"})=>{const o=(e.length===1?[{color:e[0].color,hint:null},{color:e[0].color,hint:null}]:e).map(s=>`${s.color} ${s.hint?`${s.hint}%`:""}`.trim()).join(", ");return o?`${n}(${t}, ${o})`:"none"},G4=e=>e.slice().sort((t,n)=>(t.hint||0)-(n.hint||0)),K4="gs-cmp-grad-picker";function q4({className:e,value:t,onChange:n}){var L,W,K;const r=zp(t),[o,s]=p.useState(r.colorStops),[a,l]=p.useState(null),c=p.useRef(null),u=H(K4,"gs-grad-picker gs-utl-select-none gs-utl-gap-1",e,re.rnd),d=r.name||"linear-gradient",f=d.indexOf("radial")>=0,g=d.indexOf("repeating")>=0,h=r.orientation.value,m=`${parseFloat(`${h}`)||180}`,b=`${parseFloat(`${(L=r.orientation.size)==null?void 0:L.x}`)||0}`,y=`${parseFloat(`${(W=r.orientation.position)==null?void 0:W.x}`)||0}`,v=`${parseFloat(`${(K=r.orientation.position)==null?void 0:K.y}`)||0}`,S=0,w=100,C=($,V=!1)=>{const I=G4($);s(I),n==null||n(fo({name:d,orientation:h,stops:I}),V)},E=($,V=!1)=>{n==null||n(fo({stops:o,name:d,orientation:`${$}deg`}),V)},x=($,V=!1)=>{n==null||n(fo({stops:o,name:d,orientation:`${$}px at ${y}% ${v}%`}),V)},P=($,V=!1)=>{n==null||n(fo({stops:o,name:d,orientation:`${b}px at ${$}% ${v}%`}),V)},T=($,V=!1)=>{n==null||n(fo({stops:o,name:d,orientation:`${b}px at ${y}% ${$}%`}),V)},_=$=>{const V=`${$?"repeating-":""}${f?"radial":"linear"}-gradient`;n==null||n(fo({stops:o,orientation:h,name:V}))},O=$=>{const V=`${g?"repeating-":""}${$?"radial":"linear"}-gradient`;n==null||n(fo({stops:o,orientation:$?"100px at 50% 50%":"90deg",name:V}))};p.useEffect(()=>{if(!a)return;const $=parseFloat(`${a.stop.hint}`),V=B=>{let X=(B.clientX-a.x)*100;X=X/a.w,X=$+X,X=X<S?S:X,X=X>w?w:X,a.stop.hint=parseInt(`${X}`,10),C(o,!0)},I=()=>{l(null),C(o)};return window.addEventListener("pointermove",V),window.addEventListener("pointerup",I),()=>{window.removeEventListener("pointermove",V),window.removeEventListener("pointerup",I),I()}},[a]);const k=($,V)=>{const I=c.current;l({stop:V,w:(I==null?void 0:I.clientWidth)||0,h:(I==null?void 0:I.clientHeight)||0,x:$.clientX,y:$.clientY})},M=$=>{const V=c.current,I=(V==null?void 0:V.clientWidth)||0,B=(V==null?void 0:V.clientHeight)||0,te=$.nativeEvent.offsetX-((V==null?void 0:V.clientLeft)||0),X=$.nativeEvent.offsetY-((V==null?void 0:V.clientTop)||0),J=te/I*100,ie=document.createElement("canvas"),q=ie.getContext("2d");if(!q)return;ie.width=I,ie.height=B;const Y=q.createLinearGradient(0,0,I,B);o.forEach(we=>Y.addColorStop(parseFloat(`${we.hint}`)/100,we.color)),q.fillStyle=Y,q.fillRect(0,0,ie.width,ie.height),ie.style.background="black";const R=q.getImageData(te,X,1,1).data,le=R[3]?(100/255*R[3]/100).toFixed(2):0,ae=`rgba(${R[0]}, ${R[1]}, ${R[2]}, ${le})`,ye=ae==="rgba(0, 0, 0, 0)"?"#000":ae;C([...o,{color:ye,hint:J}])},F=$=>{C(o.filter(V=>V!==$))},U=($,V,I)=>{V&&($.color=V),C(o,I)},A=$=>(a==null?void 0:a.stop)===$;return i.jsxs(N,{className:u,col:!0,children:[!!(a!=null&&a.stop)&&i.jsx("div",{className:H("fixed inset-0 z-50 cursor-colr")}),i.jsxs("div",{className:H("relative gjs-mb-6 gjs-mt-3"),children:[i.jsx("div",{className:H("bg-checker h-8",re.rnd),children:i.jsx("div",{ref:c,className:H("w-full h-full cursor-cross",re.b,re.rnd,z.br),style:{backgroundImage:fo({stops:o})},onClick:M})}),o.map(($,V)=>i.jsxs("div",{className:H("absolute top-0 h-full"),style:{left:`${$.hint}%`},children:[i.jsx("div",{className:H("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),onClick:()=>F($),children:i.jsx(ne,{icon:Z.close,size:se.s3x})}),i.jsx("div",{onPointerDown:I=>k(I,$),className:H("h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",re.br,re.bl,A($)?"gjs-bg-white":"gjs-bg-black")}),i.jsx("div",{className:H("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"),children:i.jsx(Ab,{value:$.color,onChange:(I,B)=>U($,I,B),className:H("h-4 w-4 gjs-rounded-full gjs-border-2")})})]},V))]}),i.jsxs(N,{space:"s",items:"center",children:[i.jsx(D,{grow:!0,children:i.jsx(ni,{label:"Repeat",value:g,onChange:_})}),i.jsx(D,{grow:!0,children:i.jsx(ni,{label:"Radial",value:f,onChange:O})})]}),f?i.jsxs(N,{space:"s",col:!0,children:[i.jsx(D,{children:i.jsx(N,{space:"s",items:"center",children:i.jsx(D,{grow:!0,children:i.jsx(_e,{pan:"S",size:"s",value:b,onChange:x,valueUnit:"px",units:["px"]})})})}),i.jsx(D,{children:i.jsxs(N,{space:"s",children:[i.jsx(D,{grow:!0,children:i.jsx(_e,{pan:"X",size:"s",value:y,onChange:P,valueUnit:"%",units:["%"]})}),i.jsx(D,{grow:!0,children:i.jsx(_e,{pan:"Y",size:"s",value:v,onChange:T,valueUnit:"%",units:["%"]})})]})})]}):i.jsx(N,{space:"s",items:"center",nowrap:!0,children:i.jsx(D,{grow:!0,children:i.jsx(_e,{pan:"A",size:"s",value:m,onChange:E,valueUnit:"deg",units:["deg"]})})})]})}var go=(e=>(e.Image="image",e.Gradient="gradient",e.Color="color",e))(go||{});const Xl="background-image",br="__background-type",ri=Xl,hv="https://placehold.co/150/777/white.png?text=IMAGE",Up="50px",Y4={[br]:"image","background-image":`url("${hv}")`,"background-size":`${Up} ${Up}`,"background-repeat":"repeat","background-position":"0px 0px"},Z4=e=>(e.includes("gradient(")?zp(e).colorStops[0].color:e)||"";function X4({sector:e}){var y;const t=Jt(),n=e.getProperty("background"),r=n.getProperty(br),o=n.getProperty("background-image"),s=n.getProperty("background-position"),a=n.getProperty("background-size"),l=e.getProperty("background-color"),c=e.getProperty("background-clip"),u=((y=n.getSelectedLayer())==null?void 0:y.getIndex())||-1,d=r==null?void 0:r.getValue(),f=d==="image",g=o.getValue(),h=()=>{const v=t.Assets;v.open({select(S){const w=S.getSrc();o.upValue(`url("${w}")`),v.close()}})},m=v=>{let S="none",w="100%";v==="image"?(S=`url("${hv}")`,w=Up):v==="gradient"?S="linear-gradient(90deg, black 10%, white 90%)":v==="color"&&(S="rgba(0, 0, 0, 0.5)"),o.upValue(S),r.upValue(v),s.upValue("0 0"),a.upValue(`${w} ${w}`)},b=V4(r,[{id:"image",label:i.jsx(ne,{icon:Z.image,size:se.s})},{id:"gradient",label:i.jsx(ne,{icon:Z.gradientVertical,size:se.s})},{id:"color",label:i.jsx(ne,{icon:Z.checkboxBlank,size:se.s})}]);return i.jsxs(i.Fragment,{children:[i.jsx(he,{property:n,separator:!0,children:i.jsxs(mr,{...po(n,Y4),previewStyle:v=>n.getStyleFromLayer(v,{camelCase:!0}),children:[i.jsx(he,{children:i.jsx(pe,{label:"Type",children:i.jsx(Ft,{...He(r),options:b,onChange:m})})}),i.jsx(he,{children:i.jsxs(pe,{children:[f&&i.jsx(ei,{value:Ll(g).value,onOpen:h}),d==="color"&&i.jsx(Hr,{...zr(o),value:Z4(g)}),d==="gradient"&&i.jsx(q4,{value:g,onChange:(v,S)=>o.upValue(v,{partial:S})},u)]})}),f&&i.jsxs(i.Fragment,{children:[i.jsx(he,{col:!0,children:i.jsx(Qt,{property:s})}),i.jsx(he,{col:!0,children:i.jsx(Qt,{property:a})}),i.jsxs(he,{children:[i.jsx(pe,{label:n.getProperty("background-repeat").getLabel(),children:i.jsx(Pe,{...He(n.getProperty("background-repeat"))})}),i.jsx(pe,{label:n.getProperty("background-attachment").getLabel(),children:i.jsx(Pe,{...He(n.getProperty("background-attachment"))})})]}),i.jsx(he,{children:i.jsx(pe,{label:n.getProperty("background-origin").getLabel(),children:i.jsx(Pe,{...He(n.getProperty("background-origin"))})})})]})]})}),i.jsx(he,{property:l,children:i.jsx(pe,{property:l,children:i.jsx(Hr,{...zr(l)})})}),i.jsx(he,{property:c,children:i.jsx(pe,{property:c,children:i.jsx(Pe,{...He(c)})})})]})}const Jl=["%"],Ql=["s","ms"],oi=["deg","rad","grad"],vr=["px","%","em","rem","vw","vh"],mv={type:"select",options:["visible","hidden","scroll","auto"].map(e=>({id:e})),default:"visible"},J4=e=>`linear-gradient(${e} 1%, ${e} 100%)`,Rl=e=>({id:e,label:e.split("-").map(sr).join(" ")}),bv=e=>({property:t,to:n})=>{if(n.value){const r=t.getOption(),o=t.getParent().getProperty(e),s=o.getUnit(),a={units:r.units||[],min:r.min,max:r.max,unit:""};(!s||(a==null?void 0:a.units.indexOf(s))<0)&&(a.unit=(a==null?void 0:a.units[0])||""),o.up(a)}},Q4=e=>{const t=`${e}-name`,n=`${e}-value`;return(r,{separatorLayers:o})=>{const s=r[e]||"";return s?s.split(o).map(a=>{const{name:l,value:c}=Ll(a);return{[t]:l,[n]:c}}):[]}},vv=e=>{const t={[ri]:e};if(e.indexOf("url(")>-1)t[br]=go.Image;else if(e.indexOf("gradient(")>-1){const n=zp(e),r=n.colorStops,o=n.name.indexOf("linear")>=0;r.length===2&&o&&r[0].color===r[1].color?t[br]=go.Color:t[br]=go.Gradient}else t[br]=go.Color,t[ri]=J4(e);return t},yv=(e="filter")=>{const t=`${e}-name`,n=`${e}-value`;return{property:e,type:"stack",layerSeparator:" ",fromStyle(r,{separatorLayers:o}){const s=r[e]||"";return s?s.split(o).map(a=>{const{name:l,value:c}=Ll(a);return{[t]:l,[n]:c}}):[]},toStyle(r,{name:o}){return{[o]:`${r[t]}(${r[n]||"0"})`}},properties:[{property:t,type:"select",default:"blur",options:[{id:"blur",label:"Blur",min:0,units:["px","em","rem","vw","vh"]},{id:"brightness",label:"Brightness",min:0,units:["%"]},{id:"contrast",label:"Contrast",min:0,units:["%"]},{id:"grayscale",label:"Grayscale",min:0,max:100,units:["%"]},{id:"hue-rotate",label:"Hue rotate",min:0,max:360,units:["deg","rad","grad"]},{id:"invert",label:"Invert",min:0,max:100,units:["%"]},{id:"saturate",label:"Saturate",min:0,units:["%"]},{id:"sepia",label:"Sepia",min:0,max:100,units:["%"]}],onChange:bv(n)},{property:n,type:"integer"}]}},ec=(e,{x:t,y:n,mergable:r}={})=>{const o={property:`${e}-x`,type:"integer",units:vr,...t},s={property:`${e}-y`,type:"integer",units:vr,...n};return{property:e,type:"composite",properties:[o,s],...r&&{fromStyle(a,{name:l,separator:c,property:u}){const[d,f]=u.getProperties(),[g,h]=(a[l]||"").split(c);return{[d.getId()]:a[d.getName()]||g||"",[f.getId()]:a[f.getName()]||h||g||""}},toStyle(a,{name:l,property:c}){const[u,d]=c.getProperties(),f=a[u.getId()],g=a[d.getId()];return{[l]:f===g?f:`${f} ${g}`}}}}},R4=(e,t="")=>{const n=`${e}-name`,r=`${e}-value`;return(o,{name:s})=>({[s]:`${o[n]}(${o[r]||t})`})},eL=[{name:"Size",open:!1,buildProps:["width","height","max-width","min-height"],properties:[{property:"icon-size",type:"number",defaults:"20px",units:["px","%"]}]},{name:"Space",open:!1,buildProps:["margin","padding","vertical-align"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"},{name:"Left",property:"margin-left"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]},{property:"vertical-align",type:"select",options:["top","middle","bottom"].map(Rl)}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration","font-style"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"text-decoration",type:"select",defaults:"none",options:[{id:"none",label:"None"},{id:"underline",label:"underline"},{id:"line-through",label:"Line-through"}]},{property:"font-style",type:"select",defaults:"normal",options:[{id:"normal",label:"Normal"},{id:"italic",label:"Italic"}]}]},{name:"Borders",open:!1,buildProps:["border-radius","border"],properties:[{property:"border-radius",corners:!0,properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border",generic:!0},{property:"border-detached",name:"Border",type:"composite",detached:!0,generic:!0,properties:[{name:"Width",property:"border-width",type:"integer",units:["px","%"]},{name:"Style",property:"border-style",type:"select",options:["none","solid","dotted","dashed","double","groove","ridge","inset","outset"].map(Rl)},{name:"Color",property:"border-color",type:"color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","container-background-color","background-url","background-repeat","background-size"],properties:[{name:"Background color",property:"container-background-color",full:!0,type:"color"},{property:"background-url",type:"file"}]}],tL=[{id:"gs-layout",name:"Layout",properties:[{extend:"display"},{extend:"flex-direction",name:"Direction",type:"radio",default:"row"},{extend:"justify-content",type:"radio",default:"flex-start"},{extend:"align-items",type:"radio",default:"stretch"},ec("gap",{x:{property:"row-gap",min:0,default:"0"},y:{property:"column-gap",min:0,default:"0"},mergable:!0}),{extend:"flex-wrap"},{extend:"align-content"},{extend:"align-self"},{extend:"order"},{property:"flex",type:"composite",properties:[{type:"integer",property:"flex-grow",default:"0",min:0},{type:"integer",property:"flex-shrink",default:"0",min:0},{type:"integer",property:"flex-basis",fixedValues:["auto"],default:"auto",units:vr,min:0}]}]},{id:"gs-size",name:"Size",properties:[{extend:"width"},{extend:"min-width"},{extend:"max-width"},{extend:"height"},{extend:"min-height"},{extend:"max-height"}]},{id:"gs-space",name:"Space",properties:[{extend:"padding",detached:!0},{extend:"margin",detached:!0}]},{id:"gs-position",name:"Position",properties:[{extend:"position",options:[{id:"static",label:"Static"},{id:"relative",label:"Relative"},{id:"absolute",label:"Absolute"},{id:"fixed",label:"Fixed"},{id:"sticky",label:"Sticky"}],onChange({opts:e,property:t}){if(e.__clear){const n={top:"",right:"",bottom:"",left:"","z-index":""};t.__upTargetsStyle(n,e)}}},{extend:"top"},{extend:"right"},{extend:"bottom"},{extend:"left"},{extend:"z-index",type:"integer",default:"0"}]},{id:"gs-typography",name:"Typography",properties:[{extend:"font-family"},{extend:"color"},{extend:"font-size"},{extend:"font-weight"},{extend:"line-height",min:0},{extend:"letter-spacing"},{extend:"text-align"},{property:"vertical-align",type:"select",default:"baseline",options:["baseline","top","middle","bottom"].map(Rl)},{extend:"text-decoration",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"underline",label:"Underline"},{id:"overline",label:"Overline"},{id:"line-through",label:"Line through"}]},{extend:"text-transform",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"capitalize",label:"Capitalize"},{id:"uppercase",label:"Uppercase"},{id:"lowercase",label:"Lowercase"}]},{extend:"direction",type:"radio",default:"ltr",options:[{id:"ltr",label:"LTR"},{id:"rtl",label:"RTL"}]},{extend:"white-space",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"nowrap",label:"No wrap"},{id:"pre",label:"Pre"},{id:"pre-wrap",label:"Pre wrap"},{id:"pre-line",label:"Pre line"},{id:"break-spaces",label:"Break spaces"}]}]},{id:"gs-background",name:"Background",properties:[{property:"background",type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:(e,{values:t,property:n})=>n.getProperty(br).getOptionLabel(t[br]),toStyle(e){const t=e[br];let n=e[ri];return t==="color"&&n.indexOf("linear-gradient")<0&&(n=`linear-gradient(${n} 1%, ${n} 100%)`),{...e,[ri]:n}},fromStyle(e,{property:t,name:n,separatorLayers:r}){const o=r,s=t.getProperties();let a=[];return e[Xl]?(a=t.__splitStyleName(e,Xl,o).map(vv),s.forEach(l=>{const c=l.getId(),u=l.getName();u!==Xl&&t.__splitStyleName(e,u,o).map(d=>({[c]:d||l.getDefaultValue()})).forEach((d,f)=>{a[f]=a[f]?{...a[f],...d}:d})})):e[n]&&(a=t.__splitStyleName(e,n,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(l=>l.substring(0,l.lastIndexOf(")")+1)).map(vv)),a},properties:[{property:br,type:"radio",default:"image",options:[{id:go.Image},{id:go.Gradient},{id:go.Color}]},{property:ri,default:"none"},{property:"background-position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,units:vr,default:"0px"}))},{property:"background-size",type:"composite",properties:["background-size-x","background-size-y"].map(e=>({type:"integer",property:e,units:vr,default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-attachment",default:"scroll",type:"select",options:[{id:"scroll",label:"Scroll"},{id:"fixed",label:"Fixed"}]},{property:"background-origin",default:"padding-box",type:"select",options:[{id:"padding-box",label:"Padding box"},{id:"border-box",label:"Border box"},{id:"content-box",label:"Content box"}]}]},{property:"background-color",type:"color",default:"none"},{property:"background-clip",default:"border-box",type:"select",options:[{id:"border-box",label:"Border box"},{id:"padding-box",label:"Padding box"},{id:"content-box",label:"Content box"},{id:"text",label:"Text"}],onChange({to:e,property:t,opts:n}){const{value:r}=e;if(r!==void 0){const o=r==="text";t.__upTargetsStyle({"-webkit-background-clip":o?r:"","-webkit-text-fill-color":o?"transparent":""},n)}}}]},{id:"gs-borders",name:"Borders",properties:[{extend:"border-radius",detached:!0},{extend:"border-width",type:"composite",detached:!0,properties:["border-top-width","border-right-width","border-bottom-width","border-left-width"].map(e=>({type:"integer",property:e,default:"0",units:vr}))},{extend:"border-style",type:"composite",detached:!0,properties:["border-top-style","border-right-style","border-bottom-style","border-left-style"].map(e=>({type:"select",property:e,default:"none",options:[{id:"none",label:"None"},{id:"solid",label:"Solid"},{id:"dotted",label:"Dotted"},{id:"dashed",label:"Dashed"},{id:"double",label:"Double"},{id:"groove",label:"Groove"},{id:"ridge",label:"Ridge"},{id:"inset",label:"Inset"},{id:"outset",label:"Outset"}]}))},{extend:"border-color",type:"composite",detached:!0,properties:["border-top-color","border-right-color","border-bottom-color","border-left-color"].map(e=>({type:"color",property:e,default:"currentColor"}))}]},{id:"gs-effects",name:"Effects",properties:[{property:"opacity",type:"integer",min:0,max:100,default:"100",units:["%"]},{property:"mix-blend-mode",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"multiply",label:"Multiply"},{id:"screen",label:"Screen"},{id:"overlay",label:"Overlay"},{id:"darken",label:"Darken"},{id:"lighten",label:"Lighten"},{id:"color-dodge",label:"Color dodge"},{id:"color-burn",label:"Color burn"},{id:"hard-light",label:"Hard light"},{id:"soft-light",label:"Soft light"},{id:"difference",label:"Difference"},{id:"exclusion",label:"Exclusion"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"color",label:"Color"},{id:"luminosity",label:"Luminosity"}]},{extend:"cursor"},ec("overflow",{x:mv,y:mv,mergable:!0}),{extend:"box-shadow",fromStyle(e,{separatorLayers:t}){const n=e["box-shadow"]||"";return n?n.split(t).map(o=>{const{x:s,y:a,blur:l,spread:c,inset:u,color:d}=ab(o);return{"box-shadow-h":s,"box-shadow-v":a,"box-shadow-blur":l,"box-shadow-spread":c,"box-shadow-color":d,"box-shadow-type":u?"inset":""}}):[]}},{extend:"text-shadow",fromStyle(e,{separatorLayers:t}){const n=e["text-shadow"]||"";return n?n.split(t).map(o=>{const{x:s,y:a,blur:l,color:c}=ab(o);return{"text-shadow-h":s,"text-shadow-v":a,"text-shadow-blur":l,"text-shadow-color":c}}):[]}},yv(),yv("backdrop-filter"),{property:"transition",type:"stack",layerLabel:(e,{values:t})=>`${sr(t["transition-property"])}: ${t["transition-duration"]}`,properties:[{property:"transition-property",type:"select",default:"opacity",options:["width","height","min-width","min-height","max-width","max-height","padding","margin","color","font-size","line-height","letter-height","border","border-radius","background","opacity","box-shadow","text-shadow","filter","backdrop-filter","transform","all"].map(Rl)},{property:"transition-duration",type:"integer",default:"1s",unit:Ql[0],units:Ql,min:0},{property:"transition-timing-function",type:"select",default:"ease",options:[{id:"ease",label:"Ease"},{id:"ease-in",label:"Ease-In"},{id:"ease-in-out",label:"Ease-In-Out"},{id:"ease-out",label:"Ease-Out"},{id:"linear",label:"Linear"}]},{property:"transition-delay",type:"integer",default:"0s",unit:Ql[0],units:Ql}]},{property:"transform",type:"stack",layerSeparator:" ",layerLabel:(e,{values:t,property:n})=>{const r=n.getProperty("transform-name").getOptionLabel(t["transform-name"]);return`${sr(r)}: ${t["transform-value"]}`},fromStyle:Q4("transform"),toStyle:R4("transform","0"),properties:[{property:"transform-name",type:"select",default:"translateX",options:[{id:"translateX",label:"Move X",units:vr},{id:"translateY",label:"Move Y",units:vr},{id:"translateZ",label:"Move Z",units:vr},{id:"rotateX",label:"Rotate X",units:oi},{id:"rotateY",label:"Rotate Y",units:oi},{id:"rotateZ",label:"Rotate Z",units:oi},{id:"scale",label:"Scale",units:Jl},{id:"scaleX",label:"Scale X",units:Jl},{id:"scaleY",label:"Scale Y",units:Jl},{id:"scaleZ",label:"Scale Z",units:Jl},{id:"skewX",label:"Skew X",units:oi},{id:"skewY",label:"Skew Y",units:oi}],onChange:bv("transform-value")},{property:"transform-value",type:"integer",default:"0"}]},ec("transform-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"backface-visibility",type:"radio",default:"visible",options:[{id:"visible",label:"Visible"},{id:"hidden",label:"Hidden"}]},{property:"perspective",type:"integer",min:0,default:"none",units:vr},ec("perspective-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"transform-style",type:"radio",default:"flat",options:[{id:"flat",label:"2D"},{id:"preserve-3d",label:"3D"}]}]}];function nL(e,t){const{blocks:n}=t.appStore.sdkOptions;Array.isArray(n==null?void 0:n.default)&&e.BlockManager.blocks.add(n.default),e.on("rteToolbarPosUpdate",r=>{const o=-r.canvasOffset.left;r.left<o&&(r.left=o)})}const wv=[{id:"desktop",name:"Desktop",width:""},{id:"mobilePortrait",name:"Mobile",width:"320px",widthMedia:"480px"}];function Sv(e,t){return[n=>nL(n,t),...T3[e],n=>Z3(n,t),x3(e,t)]}function rL(e,t={}){var a;const n=e===Me.email,{devices:r}=t,o=r?{default:r.selected,devices:r.default??(n?wv:void 0)}:n?{devices:wv}:{},s={undoManager:{trackSelection:!1},showOffsets:!0,cssIcons:"",assetManager:{},styleManager:{sectors:n?eL:tL},parser:{optionsHtml:{convertDataGjsAttributesHyphens:!0}},selectorManager:{componentFirst:!0},i18n:{messagesAdd:la({en:U_},((a=t.i18n)==null?void 0:a.locales)??{})},deviceManager:o,canvasCss:`
      [contenteditable] { outline: 0px solid transparent;}
    `,canvas:{customSpots:{select:!0,hover:!0,spacing:!0,target:!0}},telemetry:!1};return la(s,t.gjsOptions??{})}class oL{constructor(t){this.loadCounter=0,this.pendingInstalled=[],this.pendingUninstalled=[],this.selectedShown=!1,this.store=t,Ht(this,{},{autoBind:!0})}get hasPending(){return!!this.pendingInstalled.length||!!this.pendingUninstalled.length}*initProjectPlugins(t){this.pendingInstalled=[],this.pendingUninstalled=[];const r=(yield si()).filter(o=>o.projectType.includes(t));this.projectPlugins=[...r]}getPluginsToLoad(t,n){const r=[...Sv(t,{appStore:n}),...this.projectPlugins||[]],o=n.sdkOptions.plugins||[];return it(o)?o({plugins:r}):[...r,...o]}addPendingInstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,o=t.id;r.includes(o)?this.pendingUninstalled=r.filter(s=>s!==o):n.includes(o)||n.push(o)}addPendingUninstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,o=t.id;n.includes(o)?this.pendingInstalled=n.filter(s=>s!==o):r.push(o)}setSelectedShown(t){this.selectedShown=t}}const Wp={db:um.gjsStudio},si=()=>new Promise(async e=>{let t=[];try{t=await O_(As.Settings,"plugins",Wp)||[]}catch(n){or()&&console.error(n)}e(t)}),sL=e=>new Promise(async t=>{try{const r=[...await si(),e];Cv().addPendingInstalled(e),await pm(As.Settings,"plugins",r,Wp)}catch(n){console.error(n)}t()}),aL=e=>new Promise(async t=>{try{const r=(await si()).filter(o=>o.id!==e.id);Cv().addPendingUninstalled(e),await pm(As.Settings,"plugins",r,Wp)}catch(n){console.error(n)}t()}),Gp=()=>Lt().pluginStore,Cv=()=>ai().pluginStore;let tc;const xv=p.createContext(void 0);class iL{constructor(t){this.blockManagerStore=new $_(this),this.appEditorStore=new dL(this,t==null?void 0:t.appEditorStore),this.localSettingsStore=new F_(t==null?void 0:t.localSettingsStore),this.toastStore=new L_(this),this.modalStore=new z_(this),this.i18nStore=new v_(this),this.pluginStore=new oL(this),this.pointerBadgeStore=new C_(this),this.contextMenu=new zT(this),this.layoutStore=new w_(this),this.templatesStore=new k_(this),this.assetsStore=new m_(this),this.globalStylesStore=new I_(this),this.fontsStore=new b_(this),this.appEditorStore.init(),iu()&&(window.__gjss=this)}}const lL=e=>{B_(e.localSettingsStore),fL(e.appEditorStore)},cL=({children:e,initialState:t})=>(tc=p.useMemo(()=>{const n=new iL(t);return lL(n),n},[]),i.jsx(xv.Provider,{value:tc,children:e})),Lt=()=>{const e=p.useContext(xv);if(!e)throw new Error("useStore must be used inside of StoreProvider");return e},ai=()=>{if(!tc)throw new Error("Store has not been initialized");return tc},nc=({icon:e,layout:t,tooltip:n,className:r,forceRemove:o,removeLayouts:s})=>({type:"button",icon:e,tooltip:n,className:r,size:"s",editorEvents:{[`${cn.layoutToggleId}${t.id}`]:({fromEvent:a,setState:l})=>{l({active:a.isOpen})}},onClick:({editor:a})=>{s==null||s.forEach(l=>a.runCommand(de.layoutRemove,{id:l,force:o})),a.runCommand(de.layoutToggle,{...t})}}),Ev={type:"static",layoutId:"leftPanelsContainer"},Pv={width:240,overflow:"hidden"};nc({tooltip:"Blocks",removeLayouts:["pagesLayers","ps"],layout:{id:"blocks",layout:"panelBlocks",header:{label:"Blocks"},style:Pv,placer:Ev}}),nc({tooltip:"Pages & Layers",removeLayouts:["blocks","ps"],layout:{id:"pagesLayers",layout:"panelPagesLayers",header:!1,style:Pv,placer:Ev}}),nc({tooltip:"Page Settings",removeLayouts:["pagesLayers","blocks"],layout:{id:"ps",layout:"panelPageSettings",header:{label:"Page Settings"},style:{marginLeft:40}}}),nc({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',tooltip:"Custom Component",className:"gs-utl-mt-auto",layout:{id:"customLayout",layout:{type:"custom",component:()=>i.jsx("div",{children:"Custom Reat component"})},header:{label:"Custom"},style:{marginLeft:40}}});const uL={type:"row",style:{height:"100%"},children:[{type:"sidebarLeft"},{type:"canvasSidebarTop"},{type:"sidebarRight"}]};class dL{constructor(t,n){this.projectType=Me.web,this.editor=void 0,this.sdkProps={},this.sdkLicenseError="",this.licenseCheckRetry=0,this.showPoweredBy=!1,this.isInPreview=!1,this.isCssPanelActive=!1,this.isLeftSidebarOpen=!0,this.isRightSidebarOpen=!0,this.isTopSidebarOpen=!0,this.isBottomSidebarOpen=!0,this.isSelectingTarget=!1,this.leftSidebarSize=240,this.rightSidebarSize=240,this.transitionTime=152,this.topBarSize=36,this.isDev=!1,this.isStage=!1,this.editorKey=0,this.appInstalled=!1,this.licenseKey="",this.licenseCheckStarted=!1,this.studioSdkVersion="1.0.45",this.projectDataCustom={},this.displayMode="browser",this.projectPlugins=[],this.queryParams={},this.isCanvasPanning=!1,this.selectedDesignerTab="style",this.customAssets=void 0,this.nextProjectData=void 0,this.isDraggingAbsolute=!1,this.isSaving=!1,this.isReady=!1,this.sdkPagesConfigUpdates=0,this.panelPageSettings={isOpen:!1,width:300,page:void 0},this.rootElWidth=0,this._projectId="",this.store=t,n&&Object.keys(n).forEach(o=>{const s=o,a=n[s];a!==void 0&&(this[s]=a)});const r=or()?window.location.search:"";this.queryParams=ZS(r),Ht(this,{sdkProps:!1},{autoBind:!0})}get baseApiUrl(){const{isDev:t,isStage:n}=this;return zS({isDev:t,isStage:n})}get projectId(){var r,o;const{project:t,storage:n}=this.sdkOptions;return this._projectId||((o=(r=(n==null?void 0:n.project)||(t==null?void 0:t.default))==null?void 0:r.custom)==null?void 0:o.id)||""}get projectIdToLoad(){return this.store.localSettingsStore.lastProjectId||this.projectId}get currentProjectId(){return this.projectDataCustom.id||this.projectId}get isBrowserMode(){return this.displayMode==="browser"}get sdkOptions(){return this.sdkProps.options}get sdkProjectId(){var t,n;return(n=(t=this.sdkOptions.project)==null?void 0:t.id)==null?void 0:n.toString()}get sdkIdentityId(){var t,n;return(n=(t=this.sdkOptions.identity)==null?void 0:t.id)==null?void 0:n.toString()}get sdkPagesConfig(){return this.sdkPagesConfigUpdates,this.sdkOptions.pages}get sdkLayoutConfig(){return this.sdkOptions.layout}get sdkComponentsConfig(){return this.sdkOptions.components}get currentLayout(){const{sdkLayoutConfig:t,rootElWidth:n,store:r}=this,{customConfig:o}=r.layoutStore,s=(o==null?void 0:o.responsive)||(t==null?void 0:t.responsive);let a=(o==null?void 0:o.default)||(t==null?void 0:t.default)||uL;if(n&&s){const c=Object.keys(s).map(Number).sort((u,d)=>u-d).find(u=>n<=u);a=c?s[c]:a}return a}get sdkCustomIcons(){var t;return(t=this.sdkOptions.customTheme)==null?void 0:t.icons}get isProjectTypeEmail(){return this.projectType===Me.email}get showPages(){return this.isReady&&this.sdkPagesConfig!==!1&&!this.isProjectTypeEmail}get showSelectors(){return!this.isProjectTypeEmail}get sdkMisconfigurationError(){if(this.store.assetsStore.isUsingAssetCloud||this.isUsingProjectCloud){const n=this.sdkProjectId,r=this.sdkIdentityId;if(!n||!r)return'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.'}return""}get isUsingProjectSelfHosted(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===vl.self}get isUsingProjectCloud(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===vl.cloud}get publicStateTheme(){const{theme:t,resolvedTheme:n}=this.store.localSettingsStore;return{theme:t,resolvedTheme:n}}setPublicStateTheme(t){t.theme!==void 0&&(this.store.localSettingsStore.theme=t.theme)}*init(){var f,g;const{store:t,sdkOptions:n}=this,{lastProjectId:r,lastProjectType:o}=t.localSettingsStore,s=(f=n.project)==null?void 0:f.default,{project:a}=n.storage||{};let l,c;o&&(this.store.templatesStore._projectTypeFilter=o),r&&(l=(g=(yield fm(o)).find(m=>m.id===r))==null?void 0:g.data),l?c=l:a?c=a:s&&(c=s);const u=(c==null?void 0:c.custom)||{},d=u.projectType;d&&(this.projectType=d),u.projectType=this.projectType,this.setProjectDataCustom({...u,id:this.projectIdToLoad}),yield t.pluginStore.initProjectPlugins(this.projectType),this.editorKey++}setInstallEvent(t){this.installEvent=t}setAppInstalled(t){this.appInstalled=t}setDisplayMode(t){this.displayMode=t}setProject(t){const n=this.editor,{id:r,data:o,isTemplate:s}=t,a=n.Storage.getConfig().options.local,l=s?`${r}__${XS()}`:r;this._projectId=l,a.key=l,YS(o)||this.loadProjectData({...o,custom:{...o.custom,id:l,projectType:this.store.templatesStore.projectTypeFilter}})}setProjectDataCustom(t){const n={...this.projectDataCustom,...t};this.projectDataCustom=n,this.projectType=n.projectType||Me.web,this.editor&&g_(this.editor,n),n.id&&this.store.localSettingsStore.setLocalState({lastProjectId:n.id,lastProjectType:this.projectType})}loadProjectData(t){const n=t.custom||{};if(pL(t)!==this.projectType)this.setNextProjectData(t),this.setProjectDataCustom(n),this.updateStudio();else{const r=this.editor;r.loadProjectData(t),r.UndoManager.clear(),this.setProjectDataCustom(n)}}setNextProjectData(t){this.nextProjectData=t}setLeftSidebarSize(t){this.leftSidebarSize=t}setRightSidebarSize(t){this.rightSidebarSize=t}setEditor(t){this.editor=t}setPreview(t){this.isInPreview=t}toggleCssPanel(){this.isCssPanelActive=!this.isCssPanelActive}toggleLeftSidebar(){this.isLeftSidebarOpen=!this.isLeftSidebarOpen,this.refreshEditorPostTransition()}setLeftSidebarOpen(t){this.isLeftSidebarOpen=t,this.refreshEditorPostTransition()}toggleRightSidebar(){this.isRightSidebarOpen=!this.isRightSidebarOpen,this.refreshEditorPostTransition()}setRightSidebarOpen(t){this.isRightSidebarOpen=t,this.refreshEditorPostTransition()}setTopSidebarOpen(t){this.isTopSidebarOpen=t,this.refreshEditorPostTransition()}setBottomSidebarOpen(t){this.isBottomSidebarOpen=t,this.refreshEditorPostTransition()}refreshEditorPostTransition(){setTimeout(()=>{var t;return(t=this.editor)==null?void 0:t.refresh()},this.transitionTime)}setCanvasPanning(t){this.isCanvasPanning=t}setSelectingTarget(t){this.isSelectingTarget=t}setSelectedDesignerTab(t){this.selectedDesignerTab=t}setCustomAssets(t){this.customAssets=t}setIsDraggingAbsolute(t){this.isDraggingAbsolute=t}setIsSaving(t){this.isSaving=t}setIsReady(t){this.isReady=t}setPanelPageSettings(t){this.panelPageSettings={...this.panelPageSettings,...t}}setSdkPagesConfig(t){this.sdkProps.options.pages=t&&{...this.sdkPagesConfig,...t},++this.sdkPagesConfigUpdates}setRootElWidth(t){this.rootElWidth=t,this.refreshEditorCanvas()}*loadLicense(){const{editor:t}=this;try{this.licenseCheckStarted=!0;const{licenseKey:n,baseApiUrl:r,studioSdkVersion:o}=this;t==null||t.trigger(LS,{baseApiUrl:r});const s=yield Qn.post(`${r}/sdk/${n||"na"}`,{params:{d:window.location.hostname,v:o}});if(s instanceof Error)throw s;const a=s.result||{},{license:l,error:c,plan:u}=a;c?this.sdkLicenseError=c:(this.sdkLicense=l,u!=null&&u.poweredBy&&(this.showPoweredBy=!0)),t==null||t.trigger(Jg,a)}catch(n){this.licenseCheckRetry<3?(this.licenseCheckRetry++,setTimeout(()=>this.loadLicense(),3e3)):(console.error(n),this.showPoweredBy=!0,t==null||t.trigger(Jg,{}))}}*updateStudio(){const{pluginStore:t}=this.store,{projectType:n}=this.projectDataCustom;yield t.initProjectPlugins(n),this.editorKey++}refreshStudio(){var t;this.editorKey&&(this.setNextProjectData((t=this.editor)==null?void 0:t.getProjectData()),this.editorKey++)}refreshEditorCanvas(){var t;(t=this.editor)==null||t.refresh({tools:!0})}}const pL=e=>{var t;return((t=e.custom)==null?void 0:t.projectType)||Me.web},fL=e=>{Cg(()=>e.currentLayout,()=>e.refreshStudio())},fe=()=>Lt().appEditorStore,gL=()=>{try{return fe()}catch{}},Vs=()=>ai().appEditorStore,rc=()=>{const[e,t]=p.useState(0),n=Lt().appEditorStore,{transitionTime:r}=n;return p.useEffect(()=>{setTimeout(()=>t(o=>++o),r)},[r]),[e]},hL={light:{colors:{global:{background1:"rgba(244, 244, 244, 1)",background2:"rgba(253, 253, 253, 1)",background3:"rgba(255, 255, 255, 1)",backgroundHover:"rgba(244, 244, 244, 1)",text:"rgba(24, 24, 24, 1)",border:"rgba(210, 210, 210, 1)",focus:"rgba(195, 180, 253, 80%)",placeholder:"rgba(163, 163, 163, 1)"},primary:{background1:"rgba(137.09, 90.27, 246.33, 1)",background3:"rgba(242.25, 239.7, 255, 1)",backgroundHover:"rgba(89.86, 33.2, 181, 1)",text:"rgba(255, 255, 255, 1)"},component:{background1:"rgba(31.87, 127.5, 223.12, 1)",background2:"rgba(121.12, 178.5, 235.87, 1)",background3:"rgba(210.37, 229.5, 248.62, 1)",text:"rgba(255, 255, 255, 1)"},selector:{background1:"rgba(129.28, 23.71, 65.94, 1)",background2:"rgba(250.92, 208.08, 225.22, 1)",text:"rgba(255, 255, 255, 1)"},symbol:{background1:"rgba(137.09, 90.27, 246.33, 1)",background2:"rgba(221.68, 215.22, 253.98, 1)",background3:"rgba(242.25, 239.7, 255, 1)",text:"rgba(255, 255, 255, 1)"}}},dark:{colors:{global:{background1:"rgba(63, 63, 63, 1)",background2:"rgba(39, 39, 39, 1)",background3:"rgba(24, 24, 24, 1)",backgroundHover:"rgba(55, 55, 55, 1)",text:"rgba(163, 163, 163, 1)",border:"rgba(63, 63, 63, 1)",focus:"rgba(194.95, 180.41, 253.09, 0.8)",placeholder:"rgba(163, 163, 163, 1)"},primary:{background1:"rgba(137.09, 90.27, 246.33, 1)",background3:"rgba(39, 39, 39, 1)",backgroundHover:"rgba(89.86, 33.2, 181, 1)",text:"rgba(255, 255, 255, 1)"},component:{background1:"rgba(50.06, 135.15, 220.24, 1)",background2:"rgba(6.89, 87.44, 130.82, 1)",background3:"rgba(31.21, 41.33, 55.49, 1)",text:"rgba(255, 255, 255, 1)"},selector:{background1:"rgba(129.28, 23.71, 65.94, 1)",background2:"rgba(250.92, 208.08, 225.22, 1)",text:"rgba(255, 255, 255, 1)"},symbol:{background1:"rgba(137.09, 90.27, 246.33, 1)",background2:"rgba(89.86, 33.2, 181, 1)",background3:"rgba(44.61, 27.03, 74.97, 1)",text:"rgba(255, 255, 255, 1)"}}}},Ov=String.raw,ze=(e,t)=>{if(t==null)return"";const n=e[0],r=e[1];return`${n}${t}${r}`},mL=(e,t="")=>{var n,r,o,s,a,l,c,u,d,f,g,h,m,b,y,v,S,w,C,E,x,P,T,_,O,k,M,F,U,A,L,W,K,$,V,I,B,te,X,J,ie,q,Y,R,le,ae,ye,we,Xe,Qe,pt,rt,Je,zt,lt,Nt,Tt,ht,ot,Ue,ct,wt,tn,xr,Gr,Ut;return Ov`
  ${t}.${je.txt} {
    ${ze`color: ${(r=(n=e.colors)==null?void 0:n.global)==null?void 0:r.text};`}
  }

  ${t}.${je.bg} {
    ${ze`background-color: ${(s=(o=e.colors)==null?void 0:o.global)==null?void 0:s.background3};`}
  }

  ${t}.${je.br} {
    ${ze`border-color: ${(l=(a=e.colors)==null?void 0:a.global)==null?void 0:l.border};`}
  }

  ${t}.${je.bgA} {
    ${ze`background-color: ${(u=(c=e.colors)==null?void 0:c.primary)==null?void 0:u.background1};`}
    ${ze`color: ${(f=(d=e.colors)==null?void 0:d.primary)==null?void 0:f.text};`}
  }

  ${t}.${je.bgA2} {
    ${ze`background-color: ${(h=(g=e.colors)==null?void 0:g.primary)==null?void 0:h.background1};`}
    ${ze`color: ${(b=(m=e.colors)==null?void 0:m.primary)==null?void 0:b.text};`}
  }

  ${t}.${je.hBgAct}:hover.${je.hBgAct}:hover,
  ${t}.${je.hBgA2}:hover.${je.hBgA2}:hover {
    ${ze`background-color: ${(v=(y=e.colors)==null?void 0:y.primary)==null?void 0:v.backgroundHover};`}
  }

  ${t}.${je.tA} {
    ${ze`color: ${(w=(S=e.colors)==null?void 0:S.primary)==null?void 0:w.background1};`}
  }

  ${t}.${je.tAo} {
    ${ze`color: ${(E=(C=e.colors)==null?void 0:C.primary)==null?void 0:E.background1};`}
  }

  ${t}.${je.hTAo}:hover.${je.hTAo}:hover,
  ${t}.group:hover .${je.grouphTAo} {
    ${ze`color: ${(P=(x=e.colors)==null?void 0:x.primary)==null?void 0:P.backgroundHover};`}
  }

  ${t}.${je.bA} {
    ${ze`border-color: ${(_=(T=e.colors)==null?void 0:T.primary)==null?void 0:_.background1};`}
  }

  ${t}.${je.bg0} {
    ${ze`background-color: ${(k=(O=e.colors)==null?void 0:O.primary)==null?void 0:k.background3};`}
    ${ze`color: ${(F=(M=e.colors)==null?void 0:M.primary)==null?void 0:F.background1};`}
  }

  ${t}.${je.bgH} {
    ${ze`background-color: ${(A=(U=e.colors)==null?void 0:U.global)==null?void 0:A.background1};`}
  }

  ${t}.${je.bgH2} {
    ${ze`background-color: ${(W=(L=e.colors)==null?void 0:L.global)==null?void 0:W.background2};`}
  }

  ${t}.${je.hBgH}:hover,
  ${t}.${je.hBgH2}:hover {
    ${ze`background-color: ${($=(K=e.colors)==null?void 0:K.global)==null?void 0:$.backgroundHover};`}
  }

  ${t}.${je.sel} {
    ${ze`background-color: ${(I=(V=e.colors)==null?void 0:V.selector)==null?void 0:I.background2};`}
    ${ze`color: ${(te=(B=e.colors)==null?void 0:B.selector)==null?void 0:te.text};`}
  }

  ${t}.${je.selBr} {
    ${ze`border-color: ${(J=(X=e.colors)==null?void 0:X.selector)==null?void 0:J.background1};`}
  }

  ${t}.${je.cmp} {
    ${ze`background-color: ${(q=(ie=e.colors)==null?void 0:ie.component)==null?void 0:q.background1};`}
    ${ze`color: ${(R=(Y=e.colors)==null?void 0:Y.component)==null?void 0:R.text};`}
  }

  ${t}.${je.cmpBgSoft} {
    ${ze`background-color: ${(ae=(le=e.colors)==null?void 0:le.component)==null?void 0:ae.background2};`}
  }

  ${t}.${je.cmpBgSoftX} {
    ${ze`background-color: ${(we=(ye=e.colors)==null?void 0:ye.component)==null?void 0:we.background3};`}
  }

  ${t}.${je.cmpBr} {
    ${ze`border-color: ${(Qe=(Xe=e.colors)==null?void 0:Xe.component)==null?void 0:Qe.background1};`}
  }

  ${t}.${je.cmpSymbol} {
    ${ze`background-color: ${(rt=(pt=e.colors)==null?void 0:pt.symbol)==null?void 0:rt.background1};`}
    ${ze`color: ${(zt=(Je=e.colors)==null?void 0:Je.symbol)==null?void 0:zt.text};`}
  }

  ${t}.${je.cmpBgSymbolSoft} {
    ${ze`background-color: ${(Nt=(lt=e.colors)==null?void 0:lt.symbol)==null?void 0:Nt.background2};`}
  }

  ${t}.${je.cmpBgSymbolSoftX} {
    ${ze`background-color: ${(ht=(Tt=e.colors)==null?void 0:Tt.symbol)==null?void 0:ht.background3};`}
  }

  ${t}.${je.cmpSymbolBr} {
    ${ze`border-color: ${(Ue=(ot=e.colors)==null?void 0:ot.symbol)==null?void 0:Ue.background1};`}
  }

  ${t}.${je.cmpTxtActive} {
    ${ze`color: ${(wt=(ct=e.colors)==null?void 0:ct.component)==null?void 0:wt.text};`}
  }

  ${t}.${je.focus}:focus-visible {
    ${ze`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(xr=(tn=e.colors)==null?void 0:tn.global)==null?void 0:xr.focus};`}
  }

  ${t}.${je.inputText}::placeholder {
    ${ze`color: ${(Ut=(Gr=e.colors)==null?void 0:Gr.global)==null?void 0:Ut.placeholder};`}
  }
`},bL=e=>{var a,l,c,u,d;const t=(a=e.colors)==null?void 0:a.global,n=(l=e.colors)==null?void 0:l.primary,r=(c=e.colors)==null?void 0:c.component,o=(u=e.colors)==null?void 0:u.symbol,s=(d=e.colors)==null?void 0:d.selector;return`
  :root {
    --gs-theme-cl-glb-bg1: ${t==null?void 0:t.background1};
    --gs-theme-cl-glb-bg2: ${t==null?void 0:t.background2};
    --gs-theme-cl-glb-bg3: ${t==null?void 0:t.background3};
    --gs-theme-cl-glb-bgh: ${t==null?void 0:t.backgroundHover};
    --gs-theme-cl-glb-br: ${t==null?void 0:t.border};
    --gs-theme-cl-glb-fcs: ${t==null?void 0:t.focus};
    --gs-theme-cl-glb-plh: ${t==null?void 0:t.placeholder};
    --gs-theme-cl-glb-txt: ${t==null?void 0:t.text};
    --gs-theme-cl-prm-bg1: ${n==null?void 0:n.background1};
    --gs-theme-cl-prm-bg2: ${n==null?void 0:n.background2};
    --gs-theme-cl-prm-bg3: ${n==null?void 0:n.background3};
    --gs-theme-cl-prm-bgh: ${n==null?void 0:n.backgroundHover};
    --gs-theme-cl-prm-txt: ${n==null?void 0:n.text};
    --gs-theme-cl-cmp-bg1: ${r==null?void 0:r.background1};
    --gs-theme-cl-cmp-bg2: ${r==null?void 0:r.background2};
    --gs-theme-cl-cmp-bg3: ${r==null?void 0:r.background3};
    --gs-theme-cl-cmp-bgh: ${r==null?void 0:r.backgroundHover};
    --gs-theme-cl-cmp-txt: ${r==null?void 0:r.text};
    --gs-theme-cl-symb-bg1: ${o==null?void 0:o.background1};
    --gs-theme-cl-symb-bg2: ${o==null?void 0:o.background2};
    --gs-theme-cl-symb-bg3: ${o==null?void 0:o.background3};
    --gs-theme-cl-symb-bgh: ${o==null?void 0:o.backgroundHover};
    --gs-theme-cl-symb-txt: ${o==null?void 0:o.text};
    --gs-theme-cl-sel-bg1: ${s==null?void 0:s.background1};
    --gs-theme-cl-sel-bg2: ${s==null?void 0:s.background2};
    --gs-theme-cl-sel-bg3: ${s==null?void 0:s.background3};
    --gs-theme-cl-sel-bgh: ${s==null?void 0:s.backgroundHover};
    --gs-theme-cl-sel-txt: ${s==null?void 0:s.text};
  }
`},vL=oe(()=>{const{sdkOptions:e,publicStateTheme:t}=fe(),[n,r]=p.useState(""),{customTheme:o}=e,{resolvedTheme:s}=t,a=e.theme===Nn.light,l=o==null?void 0:o.default,c=p.useMemo(()=>{const f=hL[s],g=la(la({},f||{}),l||{});return bL(g).trim()},[s]),u=Ov`
    ${l?mL(l,a?`:not(.gs-utl-${Nn.dark}) `:`.gs-utl-${Nn.dark} `):""}
  `.trim(),d=`
    ${c}
    ${u}
  `.trim();return p.useEffect(()=>{r(d)},[d]),i.jsx("style",{"data-gs-editor-theme":!0,children:n})}),yL=oe(function(){const t=_d(),{isOpen:n,items:r,coordinates:o}=t,{x:s,y:a}=o;return p.useEffect(()=>{const l=window.document,c=u=>u.key==="Escape"&&t.hide();return l.addEventListener("keydown",c),()=>{l.removeEventListener("keydown",c)}},[]),i.jsxs(i.Fragment,{children:[i.jsx(U1,{open:n,items:r,x:s,y:a}),n&&i.jsx("div",{onClick:t.hide,className:G("z-10 fixed inset-0")})]})});function vt({children:e,label:t,s:n="m",pill:r,border:o,nopad:s,className:a,block:l,...c}){return i.jsx("div",{className:j(!l&&"gs-utl-inline-block",a,!s&&Le.xyS2,r?re.pill:re.rnd,o&&`${re.b} ${z.br}`,n==="s"&&"gs-utl-text-sm",n==="xs"&&"gs-utl-p-1"),...c,children:t||e})}const Tv=15,wL=oe(function(){const{isActive:t,content:n}=cm(),[r,o]=p.useState({x:0,y:0});p.useEffect(()=>{const a=l=>{o({x:l.clientX,y:Math.max(0,l.clientY)})};return t&&window.addEventListener("pointermove",a),()=>{window.removeEventListener("pointermove",a)}},[t]);const s=p.useMemo(()=>({transform:`translate(${r.x+Tv}px, ${r.y+Tv}px)`}),[r]);return i.jsx(lr,{show:t,...ca,children:i.jsx("div",{className:G("fixed top-0 left-0 pointer-badge pointer-events-none z-10"),style:s,children:i.jsx(vt,{className:G("gjs-px-4 gjs-py-2",z.bgBlur,z.txtHighEmphasis),pill:!0,border:!0,nopad:!0,children:n})})})}),SL=oe(function(){const t=hm();return i.jsx(ZT,{className:H("fixed top-5 right-5 z-20"),toasts:t.toasts,onDismiss:t.remove})}),Kp=typeof window<"u"?window.location.hostname:"";Kp||Kp==="[::1]"||Kp.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function CL(e){if("serviceWorker"in navigator){if(new URL({NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.45"}.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),Vs().setInstallEvent(o)}),window.addEventListener("appinstalled",()=>{Vs().setAppInstalled(!0)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{});const n=o=>{let s="browser";const a=navigator.standalone||document.referrer.startsWith("android-app://");(o||a)&&(s="standalone"),Vs().setDisplayMode(s)},r=window.matchMedia("(display-mode: standalone)");r.addEventListener("change",o=>n(o.matches)),n(r.matches)}}const xL=p.forwardRef(function({children:t},n){const[r,o]=p.useState(""),s=Zt(),a=p.useRef(null),l=fe(),{style:c,className:u,options:d=Hf,onUpdate:f,onEditor:g,onReady:h,...m}=l.sdkProps,{autoHeight:b=!0,serviceWorker:y}=d;p.useImperativeHandle(n,()=>a.current,[]);const v=p.useMemo(()=>({...c,height:r||(c==null?void 0:c.height)||""}),[c,r]);return p.useEffect(()=>{const S=a.current,w=()=>{var x;return(x=S==null?void 0:S.parentElement)==null?void 0:x.offsetHeight},C=w(),E=()=>{const x=S.style.position;S.style.position="absolute";const P=w();P&&o(`${P}px`),S.style.position=x};if(C&&b)return o(`${C}px`),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[b,a.current]),p.useEffect(()=>{const S=a.current;if(!S)return;s.rootEl||s.setRootEl(S),s.init();const w=new ResizeObserver(()=>{l.setRootElWidth(S.offsetWidth)});return l.setRootElWidth(S.offsetWidth),w.observe(S),()=>{w.disconnect()}},[a.current]),p.useEffect(()=>{y&&CL()},[]),i.jsxs("div",{ref:a,className:j(G(Zg,"gs-studio-editor overflow-hidden h-full w-full text-base"),u),style:v,...m,children:[i.jsx(vL,{}),t,i.jsxs("div",{className:G("gs-studio-els",z.txt),children:[i.jsx(SL,{}),i.jsx(wL,{}),i.jsx(yL,{})]})]})});var ii=(e=>(e.REGULAR="regular",e.SYMBOLS="symbols",e))(ii||{});const oc="gs-cmp-tabs";function ho({tabs:e,className:t,classNamePanel:n,classNameTab:r,variant:o,style:s,onChange:a=GS,value:l}){const c=o==="pills",u=c?j("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]",z.bgH):"",d=b=>c?j("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1",b?z.bg:""):j("gs-utl-border-b-2",Le.xy),f=b=>{b&&(b.tabIndex=-1)},g=b=>{const y=b.currentTarget;setTimeout(()=>y.blur(),10)},h=Mt(l)?e.findIndex(b=>b.id===l):void 0,m=!e.some(b=>!!b.content);return i.jsxs(Ea.Group,{onChange:b=>a(e[b].id),defaultIndex:e.findIndex(b=>b.id===l),selectedIndex:h,children:[i.jsx(Ea.List,{as:N,className:j(oc,t,u),style:s,full:!0,nowrap:!0,children:e.map(b=>i.jsx(Ea,{disabled:b.disabled,className:({selected:y})=>j(`${oc}__tab`,"gs-utl-flex-1 focus:gs-utl-outline-none",b.disabled&&"gs-utl-cursor-not-allowed gs-utl-opacity-50",ua.focus,d(y),y?`${z.tAo} ${z.bA}`:z.br,r),children:b.label},b.id))}),i.jsx(Ea.Panels,{className:j(`${oc}__panels`,"gs-utl-overflow-hidden gs-utl-flex-1",m&&"gs-utl-hidden",n),children:e.map(b=>i.jsx(Ea.Panel,{tabIndex:-1,className:j(`${oc}__panel`,"gs-utl-h-full"),ref:f,onFocus:g,children:b.content},b.id))})]})}var _v=(e=>(e.primary="primary",e.outline="outline",e.shallow="shallow",e))(_v||{}),Av=(e=>(e.none="",e.xs="xs",e.s="s",e.m="m",e.lg="lg",e))(Av||{});const EL="gs-cmp-button",qp=p.memo(oe(function({className:t,children:n,tooltip:r,variant:o,onClick:s,editorEvents:a,label:l,size:c,icon:u,active:d,buttonType:f,disabled:g,...h}){const{editor:m}=fe(),[b,y]=p.useState(()=>({disabled:g,variant:o,active:d,className:t,tooltip:r,icon:u,size:c,label:l})),v=b.variant,S=v==="outline",w=v==="primary"?"pr":S?"out-clear":void 0,C=b.label,E=x=>{m&&(s==null||s({event:x,editor:m,state:b,setState:P=>y(T=>({...T,...P}))}))};return p.useEffect(()=>{if(!a||!m)return;const x=Object.keys(a).reduce((T,_)=>(T[_]=(O={})=>{a[_]({fromEvent:O,editor:m,state:b,setState:k=>y(M=>({...M,...k}))})},T),{}),P=Object.keys(x);return P.forEach(T=>m.on(T,x[T])),()=>{P.forEach(T=>m.off(T,x[T]))}},[m,b]),i.jsx(mt,{title:b.tooltip,className:j(EL),classNameWrp:b.className,variant:w,icon:b.icon,active:b.active,size:b.size,disabled:b.disabled,onClick:E,border:S,type:f,block:!0,...h,children:C?it(C)?C({editor:m}):C:n})})),PL="gs-cmp-button-group-field",OL=p.memo(oe(function({className:t,label:n,name:r,value:o,options:s,size:a,required:l,disabled:c,onChange:u,editorEvents:d}){const{editor:f}=fe(),[g,h]=p.useState(()=>({className:t,label:n,name:r,value:o,options:s,size:a,required:l,disabled:c})),m=b=>{u({value:b,editor:f,state:g,setState:y=>h(v=>({...v,...y}))})};return Ws({editor:f,editorEvents:d,localState:g,setLocalState:h}),i.jsx(Ft,{className:j(PL,g.className),label:g.label,name:g.name,value:g.value,options:g.options??[],size:g.size,required:g.required,disabled:g.disabled,onChange:m})}));function sc({colors:e,...t}){return e?i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 79 79",...t,children:[i.jsx("path",{fill:"url(#a)",d:"M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z"}),i.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"5",d:"m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"a",x1:"2.1",x2:"77.2",y1:"39.6",y2:"39.6",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#D7709E"}),i.jsx("stop",{offset:"1",stopColor:"#A84A87"})]})})]}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 76 76",...t,children:i.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",clipRule:"evenodd"})})}const TL=p.memo(oe(function(){const{isStage:e,updateStudio:t}=fe(),{isDarkTheme:n}=Zt(),r=p.useRef(null),{bg:o,text:s}=wh(n);return j1({ref:r,show:e,update:n,reload:t,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",right:"0",left:"0"},node:i.jsxs(i.Fragment,{children:[i.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${o};
                  color: ${s};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            `}),i.jsx(Kt,{className:"gs-banner",children:i.jsxs(N,{className:"gs-banner-row",children:[i.jsx(sc,{className:"gs-gs-logo",colors:!0}),i.jsx("div",{children:"GrapesJS Studio Demo!"})]})})]})}),i.jsx("div",{ref:r})})),_L=()=>`https://grapesjs.com?ref=${window.location.host}`,AL=p.memo(oe(function(){const{updateStudio:e,showPoweredBy:t}=fe(),{isDarkTheme:n}=Zt(),r=p.useRef(null),{bg:o,text:s,link:a}=wh(n);return j1({ref:r,show:t,update:n,reload:e,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",left:"0"},node:i.jsxs(i.Fragment,{children:[i.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${o};
                  color: ${s};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${a};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             `}),i.jsx(Kt,{className:"gs-banner",children:i.jsxs(N,{className:"gs-banner-row",children:[i.jsx("a",{className:"gs-link",href:_L(),target:"_blank",children:"GrapesJS Studio"}),i.jsx(sc,{className:"gs-logo",colors:!0})]})})]})}),i.jsx("div",{ref:r})})),li=p.forwardRef(function({full:t,abs:n,small:r,className:o},s){const a=G(t&&"w-full h-full",n&&$e.coverAbs,o),l=G(r?"w-5 h-5":"w-10 h-10","animate-spin-fast","!gs-utl-border-y-transparent !gs-utl-border-r-transparent",re.pill,re.bS,re.bA);return i.jsx(N,{ref:s,className:a,items:"center",justify:"center",children:i.jsx("div",{className:l})})}),Mv="gs-canvas-content",ML=p.memo(oe(function(){const{isReady:t}=fe(),n=j(`${Mv}__overlay gs-utl-pointer-events-none gs-utl-absolute gs-utl-inset-0`,z.bgH2);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Mv,children:[i.jsx("div",{className:n}),!t&&i.jsx(li,{className:j("gs-utl-z-10"),abs:!0,full:!0})]}),i.jsx(TL,{}),i.jsx(AL,{})]})})),kL="gs-canvas",kv=p.memo(function({className:t,style:n,grow:r}){return i.jsx(rM,{style:n,className:j(kL,"gs-utl-relative",r&&"gs-utl-flex-grow",t),children:i.jsx(zo,{children:i.jsx(ML,{})})})}),ac=({className:e,grow:t,alignItems:n,justifyContent:r})=>j(e,z.br,t&&"gs-utl-flex-grow",n==="start"&&"gs-utl-items-start",n==="end"&&"gs-utl-items-end",n==="center"&&"gs-utl-items-center",n==="baseline"&&"gs-utl-items-baseline",n==="stretch"&&"gs-utl-items-stretch",r==="start"&&"gs-utl-justify-start",r==="end"&&"gs-utl-justify-end",r==="center"&&"gs-utl-justify-center",r==="between"&&"gs-utl-justify-between",r==="around"&&"gs-utl-justify-around",r==="evenly"&&"gs-utl-justify-evenly"),ic=({style:e,width:t,height:n,gap:r})=>({height:n,gap:r,width:t,...e}),Yn=p.memo(oe(function({id:t,children:n,className:r,style:o,width:s,gap:a,height:l,grow:c,alignItems:u,justifyContent:d,htmlAttrs:f,...g}){const{layoutsById:h}=Id(),[m,b]=p.useState({}),{className:y,style:v,...S}=f||{},w=r??y,C=o??v,E=p.useMemo(()=>ic({height:l,gap:a,width:s,style:C}),[C,s,l,a]),x=ac({className:w,grow:c,alignItems:u,justifyContent:d});p.useEffect(()=>{if(t)return h.set(t,{state:m,setState:b}),()=>{h.delete(t)}},[h,m]);const P=g.as??"div";return i.jsx(P,{style:E,className:x,...g,...S,children:m.children??n})})),Yp=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),LL=Yp?Promise.resolve().then(function(){return VL}):Promise.resolve().then(function(){return WL});async function $L(...e){return(await LL).default(...e)}Yp?Promise.resolve().then(function(){return FL}):Promise.resolve().then(function(){return KL});const NL=Yp?Promise.resolve().then(function(){return zL}):Promise.resolve().then(function(){return YL});async function DL(...e){return(await NL).default(...e)}const jL=async e=>{const t=await e.getFile();return t.handle=e,t};var IL=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((o,s)=>{t[s]={description:o.description||"Files",accept:{}},o.mimeTypes?o.mimeTypes.map(a=>{t[s].accept[a]=o.extensions||[]}):t[s].accept["*/*"]=o.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(jL));return e[0].multiple?r:r[0]},VL={__proto__:null,default:IL};function lc(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(o){return{value:o,done:r}})}return lc=function(n){this.s=n,this.n=n.next},lc.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new lc(e)}const Lv=async(e,t,n=e.name,r)=>{const o=[],s=[];var a,l=!1,c=!1;try{for(var u,d=function(f){var g,h,m,b=2;for(typeof Symbol<"u"&&(h=Symbol.asyncIterator,m=Symbol.iterator);b--;){if(h&&(g=f[h])!=null)return g.call(f);if(m&&(g=f[m])!=null)return new lc(g.call(f));h="@@asyncIterator",m="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());l=!(u=await d.next()).done;l=!1){const f=u.value,g=`${n}/${f.name}`;f.kind==="file"?s.push(f.getFile().then(h=>(h.directoryHandle=e,h.handle=f,Object.defineProperty(h,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>g})))):f.kind!=="directory"||!t||r&&r(f)||o.push(Lv(f,t,g,r))}}catch(f){c=!0,a=f}finally{try{l&&d.return!=null&&await d.return()}finally{if(c)throw a}}return[...(await Promise.all(o)).flat(),...await Promise.all(s)]};var HL=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:Lv(t,e.recursive,void 0,e.skipDirectory)},FL={__proto__:null,default:HL},BL=async(e,t=[{}],n=null,r=!1,o=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const s=[];let a=null;if(e instanceof Blob&&e.type?a=e.type:e.headers&&e.headers.get("content-type")&&(a=e.headers.get("content-type")),t.forEach((u,d)=>{s[d]={description:u.description||"Files",accept:{}},u.mimeTypes?(d===0&&a&&u.mimeTypes.push(a),u.mimeTypes.map(f=>{s[d].accept[f]=u.extensions||[]})):a?s[d].accept[a]=u.extensions||[]:s[d].accept["*/*"]=u.extensions||[]}),n)try{await n.getFile()}catch(u){if(n=null,r)throw u}const l=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:s,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&o&&o(l);const c=await l.createWritable();return"stream"in e?(await e.stream().pipeTo(c),l):"body"in e?(await e.body.pipeTo(c),l):(await c.write(await e),await c.close(),l)},zL={__proto__:null,default:BL},UL=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const o=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=o||"",r.style.display="none",document.body.append(r);const s=c=>{typeof a=="function"&&a(),t(c)},a=e[0].legacySetup&&e[0].legacySetup(s,()=>a(n),r),l=()=>{window.removeEventListener("focus",l),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",l)}),r.addEventListener("change",()=>{window.removeEventListener("focus",l),r.remove(),s(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),WL={__proto__:null,default:UL},GL=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const o=a=>{typeof s=="function"&&s(),t(a)},s=e[0].legacySetup&&e[0].legacySetup(o,()=>s(n),r);r.addEventListener("change",()=>{let a=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(a=a.filter(l=>l.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):a=a.filter(l=>l.webkitRelativePath.split("/").length===2),o(a)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),KL={__proto__:null,default:GL},qL=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(a,l){const c=a.getReader(),u=new ReadableStream({start:g=>async function h(){return c.read().then(({done:m,value:b})=>{if(!m)return g.enqueue(b),h();g.close()})}()}),d=new Response(u),f=await d.blob();return c.releaseLock(),new Blob([f],{type:l})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const o=()=>{typeof s=="function"&&s()},s=t.legacySetup&&t.legacySetup(o,()=>s(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),o()}),n.click(),null},YL={__proto__:null,default:qL};const ZL={NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.45"}.REACT_APP_VERSION??"1.0.0",XL=oe(function(){var n;const t=(n=window.grapesjs)==null?void 0:n.version;return i.jsxs(N,{col:!0,space:"m",children:[i.jsx(N,{justify:"center",children:i.jsxs(D,{className:G("relative"),children:[i.jsx(sc,{className:G("w-24 opacity-50")}),t&&i.jsx(vt,{className:G(z.bgA,"absolute gs-utl-right-[-20px] bottom-0"),label:`v${t}`,s:"s",pill:!0})]})}),i.jsxs(D,{children:[i.jsxs("p",{children:[i.jsx("b",{children:"GrapesJS Studio"})," is an innovative experimental editor, initially created to improve and extend the customization capability of the"," ",i.jsx("a",{className:G(ds.link),href:"https://grapesjs.com",children:"GrapesJS"})," ","library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."]}),i.jsx("br",{}),i.jsxs("p",{children:["If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through"," ",i.jsx("a",{className:G(ds.link),href:"https://opencollective.com/grapesjs",children:"Open Collective"}),"."]})]}),i.jsxs(D,{className:G(z.txtLowEmphasis,"text-right"),children:["GrapesJS Studio: v",ZL]})]})}),JL=oe(function(){return i.jsxs(N,{col:!0,space:"m",children:[i.jsx(N,{justify:"center",children:i.jsx(D,{className:H("relative"),children:i.jsx(sc,{className:H("w-24 opacity-50")})})}),i.jsx(D,{children:i.jsxs("p",{children:["We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",i.jsx("br",{}),i.jsx("br",{}),"The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",i.jsx("br",{}),i.jsx("br",{}),"You can try the initial release of the Studio SDK by creating a license and following the instructions on the"," ",i.jsx("a",{className:H(ds.link),href:"/dashboard/sdk/licenses",target:"_blank",children:"Studio SDK license page"}),i.jsx("br",{}),i.jsx("br",{}),"If you have any questions or need assistance with specific use cases, please fill out this"," ",i.jsx("a",{className:H(ds.link),href:"https://forms.gle/VUycp3rc8iCpbh9k8",target:"_blank",rel:"noreferrer",children:"form"})," ","and we'll get back to you as soon as possible."]})})]})});function $v({onCopy:e,getValue:t,value:n,title:r="Copy",...o}){const[s,a]=p.useState(!1),l=()=>{NS((t==null?void 0:t())??n),a(!0),e==null||e()};return p.useEffect(()=>{if(!s)return;const c=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(c)},[s]),i.jsx(mt,{onClick:l,title:r,type:"button",size:"lg",withBg:!0,...o,children:i.jsx(ne,{className:G(s&&z.tA),icon:s?Z.check:Z.contentCopy,size:se.s})})}function Zp(e){return e=e.trimStart(),e=e.replace(/\s*([\{\}\:\;\,])\s*/g,"$1"),e=e.replace(/;\s*;/g,";"),e=e.replace(/\,[\s\.\#\d]*{/g,"{"),e=e.replace(/([^\s])\{([^\s])/g,`$1 {
	$2`),e=e.replace(/([^\s])\}([^\n]*)/g,`$1
}
$2`),e=e.replace(/([^\s]);([^\s\}])/g,`$1;
	$2`),e}const Nv=oe(function(){const t=Jt(),n=Ce(),{Styles:r}=t,{isDarkTheme:o}=Zt(),s=r.getSelected(),[a,l]=p.useState(0),c=s?Zp(s==null?void 0:s.toCSS({allowEmpty:!0})):"",[u,d]=p.useState(c);p.useEffect(()=>{const g=()=>l(m=>++m),h=r.events.custom;return t.on(h,g),()=>{t.off(h,g)}},[r,t]);const f=()=>{if(u){const g=t.Parser.parseCss(u)[0];g&&(s==null||s.setStyle(g.style))}};return i.jsxs(N,{className:H("relative"),col:!0,full:!0,children:[i.jsx(D,{grow:!0,children:s?i.jsx(Ir,{padding:5,language:"css",value:c,onChange:d,isDarkTheme:o,clean:!0},a):n.t("noCode")}),i.jsx(Ie,{className:H("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:f,children:n.t("update")})]})}),Dv=[{id:"html",label:"HTML"},{id:"mjml",label:"MJML"}],QL=oe(function(t){var w;const n=Ce(),r=fe(),{isProjectTypeEmail:o}=r,s=r.editor,[a,l]=p.useState(Dv[0].id),[c,u]=p.useState(),{isDarkTheme:d}=Zt(),[f]=p.useState(()=>Zp(s.getCss())),[g,h]=p.useState(),m=C=>n.t(`actions.showCode.${C}`),b={...t.options,...o?{export:!1}:{}},y=(w=r.sdkOptions.dataSources)==null?void 0:w.exportConfig,v=()=>{s.runCommand("gjs-export-zip",{filenamePfx:"gjs-export",root:async C=>{const E=await Pl(C,{exportConfig:y}),x={};for(const P in E){const T=E[P],{filename:_,content:O}=T;if(T.path){const k=T.path.split("/").filter(Boolean);let M=x;for(const F of k)M[F]=M[F]||{},M=M[F];M[_]=O}else x[_]=O}return x}})};p.useEffect(()=>{var C;if(o){let E=s.getHtml();if(a!=="mjml")try{const x=s.runCommand("mjml-code-to-html");(C=x.errors)!=null&&C.length&&console.warn(x.errors),E=x.html}catch(x){console.error(x)}u(E)}else(async()=>{const P=(await Pl(s,{page:s.Pages.getSelected(),skipProject:!0,styles:"skip",exportConfig:y})).find(T=>T.mimeType==="text/html");P&&u(P.content)})()},[a]),p.useEffect(()=>{var C;g&&((C=g.getModel())==null||C.setValue(c),qm(g))},[g,c]);const S={padding:5,isDarkTheme:d,clean:!0};return i.jsxs(N,{col:!0,space:"m",children:[i.jsxs(N,{className:H("h-96"),space:"m",children:[i.jsxs(D,{className:H("relative"),grow:!0,children:[o&&i.jsxs(N,{className:H("absolute top-3 right-3 z-10"),space:"s",nowrap:!0,children:[i.jsx(Pe,{value:a,onChange:l,options:Dv,className:H("min-w-24")}),i.jsx($v,{getValue:()=>g.getModel().getValue()})]}),c!==void 0&&i.jsx(Ir,{value:c,language:"html",onMount:h,...S})]}),!o&&i.jsx(D,{grow:!0,children:i.jsx(Ir,{value:f,language:"css",...S})})]}),b.export!==!1&&i.jsx(N,{justify:"end",children:i.jsx(Ie,{size:"m2",variant:"pr",onClick:v,children:m("exportButton")})})]})}),RL=()=>[{id:Me.web,label:sr(Me.web),content:i.jsxs(N,{space:"s",children:[i.jsx(ne,{icon:Z.web,size:se.s}),i.jsx("span",{children:sr(Me.web)})]})},{id:Me.email,label:sr(Me.email),content:i.jsxs(N,{space:"s",children:[i.jsx(ne,{icon:Z.emailOutline,size:se.s}),i.jsx("span",{children:sr(Me.email)})]})}],cc=0,mo=1,Hs=2,jv=4;function e$(e,t){return n=>e(t(n))}function t$(e,t){return t(e)}function Iv(e,t){return n=>e(t,n)}function Vv(e,t){return()=>e(t)}function Xp(e,t){return t(e),e}function Ko(...e){return e}function n$(e){e()}function Hv(e){return()=>e}function r$(...e){return()=>{e.map(n$)}}function uc(){}function Vt(e,t){return e(mo,t)}function Ot(e,t){e(cc,t)}function Jp(e){e(Hs)}function Fs(e){return e(jv)}function nt(e,t){return Vt(e,Iv(t,cc))}function Fv(e,t){const n=e(mo,r=>{n(),t(r)});return n}function bt(){const e=[];return(t,n)=>{switch(t){case Hs:e.splice(0,e.length);return;case mo:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case cc:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function ve(e){let t=e;const n=bt();return(r,o)=>{switch(r){case mo:o(t);break;case cc:t=o;break;case jv:return t}return n(r,o)}}function o$(e){let t,n;const r=()=>t&&t();return function(o,s){switch(o){case mo:return s?n===s?void 0:(r(),n=s,t=Vt(e,s),t):(r(),uc);case Hs:r(),n=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function ci(e){return Xp(bt(),t=>nt(e,t))}function Bs(e,t){return Xp(ve(t),n=>nt(e,n))}function s$(...e){return t=>e.reduceRight(t$,t)}function xe(e,...t){const n=s$(...t);return(r,o)=>{switch(r){case mo:return Vt(e,n(o));case Hs:Jp(e);return}}}function Bv(e,t){return e===t}function Rt(e=Bv){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function $t(e){return t=>n=>{e(n)&&t(n)}}function dt(e){return t=>e$(t,e)}function bo(e){return t=>()=>t(e)}function dc(e,t){return n=>r=>n(t=e(t,r))}function Qp(e){return t=>n=>{e>0?e--:t(n)}}function ui(e){let t=null,n;return r=>o=>{t=o,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function zv(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function yr(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const l=Math.pow(2,a);Vt(s,c=>{const u=n;n=n|l,t[a]=c,u!==o&&n===o&&r&&(r(),r=null)})}),s=>a=>{const l=()=>s([a].concat(t));n===o?l():r=l}}function Uv(...e){return function(t,n){switch(t){case mo:return r$(...e.map(r=>Vt(r,n)));case Hs:return;default:throw new Error(`unrecognized action ${t}`)}}}function Fe(e,t=Bv){return xe(e,Rt(t))}function Ur(...e){const t=bt(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const l=Math.pow(2,a);Vt(s,c=>{n[a]=c,r=r|l,r===o&&Ot(t,n)})}),function(s,a){switch(s){case mo:return r===o&&a(n),Vt(t,a);case Hs:return Jp(t);default:throw new Error(`unrecognized action ${s}`)}}}function wr(e,t=[],{singleton:n}={singleton:!0}){return{id:a$(),constructor:e,dependencies:t,singleton:n}}const a$=()=>Symbol();function i$(e){const t=new Map,n=({id:r,constructor:o,dependencies:s,singleton:a})=>{if(a&&t.has(r))return t.get(r);const l=o(s.map(c=>n(c)));return a&&t.set(r,l),l};return n(e)}function l$(e,t){const n={},r={};let o=0;const s=e.length;for(;o<s;)r[e[o]]=1,o+=1;for(const a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}const pc=typeof document<"u"?p.useLayoutEffect:p.useEffect;function c$(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),l=p.createContext({});function c(v,S){v.propsReady&&Ot(v.propsReady,!1);for(const w of r){const C=v[t.required[w]];Ot(C,S[w])}for(const w of o)if(w in S){const C=v[t.optional[w]];Ot(C,S[w])}v.propsReady&&Ot(v.propsReady,!0)}function u(v){return s.reduce((S,w)=>(S[w]=C=>{const E=v[t.methods[w]];Ot(E,C)},S),{})}function d(v){return a.reduce((S,w)=>(S[w]=o$(v[t.events[w]]),S),{})}const f=p.forwardRef((v,S)=>{const{children:w,...C}=v,[E]=p.useState(()=>Xp(i$(e),T=>c(T,C))),[x]=p.useState(Vv(d,E));pc(()=>{for(const T of a)T in C&&Vt(x[T],C[T]);return()=>{Object.values(x).map(Jp)}},[C,x,E]),pc(()=>{c(E,C)}),p.useImperativeHandle(S,Hv(u(E)));const P=n;return i.jsx(l.Provider,{value:E,children:n?i.jsx(P,{...l$([...r,...o,...a],C),children:w}):w})}),g=v=>p.useCallback(Iv(Ot,p.useContext(l)[v]),[v]),h=v=>{const w=p.useContext(l)[v],C=p.useCallback(E=>Vt(w,E),[w]);return p.useSyncExternalStore(C,()=>Fs(w),()=>Fs(w))},m=v=>{const w=p.useContext(l)[v],[C,E]=p.useState(Vv(Fs,w));return pc(()=>Vt(w,x=>{x!==C&&E(Hv(x))}),[w,C]),C},b=p.version.startsWith("18")?h:m;return{Component:f,usePublisher:g,useEmitterValue:b,useEmitter:(v,S)=>{const C=p.useContext(l)[v];pc(()=>Vt(C,S),[S,C])}}}const Wv=typeof document<"u"?p.useLayoutEffect:p.useEffect;var Rp=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Rp||{});const u$={0:"debug",1:"log",2:"warn",3:"error"},d$=()=>typeof globalThis>"u"?window:globalThis,Gv=wr(()=>{const e=ve(3);return{log:ve((n,r,o=1)=>{var s;const a=(s=d$().VIRTUOSO_LOG_LEVEL)!=null?s:Fs(e);o>=a&&console[u$[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function Kv(e,t,n){const r=p.useRef(null);let o=s=>{};if(typeof ResizeObserver<"u"){const s=p.useMemo(()=>new ResizeObserver(a=>{const l=()=>{const c=a[0].target;c.offsetParent!==null&&e(c)};n?l():requestAnimationFrame(l)}),[e]);o=a=>{a&&t?(s.observe(a),r.current=a):(r.current&&s.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:o}}function fc(e,t,n){return Kv(e,t,n).callbackRef}function gc(e,t){return Math.round(e.getBoundingClientRect()[t])}function qv(e,t){return Math.abs(e-t)<1.01}function Yv(e,t,n,r=uc,o,s){const a=p.useRef(null),l=p.useRef(null),c=p.useRef(null),u=p.useCallback(g=>{const h=g.target,m=h===window||h===document,b=s?m?window.pageXOffset||document.documentElement.scrollLeft:h.scrollLeft:m?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,y=s?m?document.documentElement.scrollWidth:h.scrollWidth:m?document.documentElement.scrollHeight:h.scrollHeight,v=s?m?window.innerWidth:h.offsetWidth:m?window.innerHeight:h.offsetHeight,S=()=>{e({scrollTop:Math.max(b,0),scrollHeight:y,viewportHeight:v})};g.suppressFlushSync?S():on.flushSync(S),l.current!==null&&(b===l.current||b<=0||b===y-v)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);p.useEffect(()=>{const g=o||a.current;return r(o||a.current),u({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",u,{passive:!0}),()=>{r(null),g.removeEventListener("scroll",u)}},[a,u,n,r,o]);function d(g){const h=a.current;if(!h||(s?"offsetWidth"in h&&h.offsetWidth===0:"offsetHeight"in h&&h.offsetHeight===0))return;const m=g.behavior==="smooth";let b,y,v;h===window?(y=Math.max(gc(document.documentElement,s?"width":"height"),s?document.documentElement.scrollWidth:document.documentElement.scrollHeight),b=s?window.innerWidth:window.innerHeight,v=s?document.documentElement.scrollLeft:document.documentElement.scrollTop):(y=h[s?"scrollWidth":"scrollHeight"],b=gc(h,s?"width":"height"),v=h[s?"scrollLeft":"scrollTop"]);const S=y-b;if(g.top=Math.ceil(Math.max(Math.min(S,g.top),0)),qv(b,y)||g.top===v){e({scrollTop:v,scrollHeight:y,viewportHeight:b}),m&&t(!0);return}m?(l.current=g.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,s&&(g={left:g.top,behavior:g.behavior}),h.scrollTo(g)}function f(g){s&&(g={left:g.top,behavior:g.behavior}),a.current.scrollBy(g)}return{scrollerRef:a,scrollByCallback:f,scrollToCallback:d}}const hc=wr(()=>{const e=bt(),t=bt(),n=ve(0),r=bt(),o=ve(0),s=bt(),a=bt(),l=ve(0),c=ve(0),u=ve(0),d=ve(0),f=bt(),g=bt(),h=ve(!1),m=ve(!1),b=ve(!1);return nt(xe(e,dt(({scrollTop:y})=>y)),t),nt(xe(e,dt(({scrollHeight:y})=>y)),a),nt(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:l,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:d,scrollHeight:a,smoothScrollTargetReached:r,horizontalDirection:m,skipAnimationFrameInResizeObserver:b,scrollTo:f,scrollBy:g,statefulScrollTop:o,deviation:n,scrollingInProgress:h}},[],{singleton:!0}),p$=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function f$(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!p$)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const mc="up",di="down",g$="none",h$={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},m$=0,Zv=wr(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:s}])=>{const a=ve(!1),l=ve(!0),c=bt(),u=bt(),d=ve(4),f=ve(m$),g=Bs(xe(Uv(xe(Fe(t),Qp(1),bo(!0)),xe(Fe(t),Qp(1),bo(!1),zv(100))),Rt()),!1),h=Bs(xe(Uv(xe(s,bo(!0)),xe(s,bo(!1),zv(200))),Rt()),!1);nt(xe(Ur(Fe(t),Fe(f)),dt(([S,w])=>S<=w),Rt()),l),nt(xe(l,ui(50)),u);const m=ci(xe(Ur(e,Fe(n),Fe(r),Fe(o),Fe(d)),dc((S,[{scrollTop:w,scrollHeight:C},E,x,P,T])=>{const _=w+E-C>-T,O={viewportHeight:E,scrollTop:w,scrollHeight:C};if(_){let M,F;return w>S.state.scrollTop?(M="SCROLLED_DOWN",F=S.state.scrollTop-w):(M="SIZE_DECREASED",F=S.state.scrollTop-w||S.scrollTopDelta),{atBottom:!0,state:O,atBottomBecause:M,scrollTopDelta:F}}let k;return O.scrollHeight>S.state.scrollHeight?k="SIZE_INCREASED":E<S.state.viewportHeight?k="VIEWPORT_HEIGHT_DECREASING":w<S.state.scrollTop?k="SCROLLING_UPWARDS":k="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:k,state:O}},h$),Rt((S,w)=>S&&S.atBottom===w.atBottom))),b=Bs(xe(e,dc((S,{scrollTop:w,scrollHeight:C,viewportHeight:E})=>{if(qv(S.scrollHeight,C))return{scrollTop:w,scrollHeight:C,jump:0,changed:!1};{const x=C-(w+E)<1;return S.scrollTop!==w&&x?{scrollHeight:C,scrollTop:w,jump:S.scrollTop-w,changed:!0}:{scrollHeight:C,scrollTop:w,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),$t(S=>S.changed),dt(S=>S.jump)),0);nt(xe(m,dt(S=>S.atBottom)),a),nt(xe(a,ui(50)),c);const y=ve(di);nt(xe(e,dt(({scrollTop:S})=>S),Rt(),dc((S,w)=>Fs(h)?{direction:S.direction,prevScrollTop:w}:{direction:w<S.prevScrollTop?mc:di,prevScrollTop:w},{direction:di,prevScrollTop:0}),dt(S=>S.direction)),y),nt(xe(e,ui(50),bo(g$)),y);const v=ve(0);return nt(xe(g,$t(S=>!S),bo(0)),v),nt(xe(t,ui(100),yr(g),$t(([S,w])=>!!w),dc(([S,w],[C])=>[w,C],[0,0]),dt(([S,w])=>w-S)),v),{isScrolling:g,isAtTop:l,isAtBottom:a,atBottomState:m,atTopStateChange:u,atBottomStateChange:c,scrollDirection:y,atBottomThreshold:d,atTopThreshold:f,scrollVelocity:v,lastJumpDueToItemResize:b}},Ko(hc)),b$=wr(([{log:e}])=>{const t=ve(!1),n=ci(xe(t,$t(r=>r),Rt()));return Vt(t,r=>{r&&Fs(e)("props updated",{},Rp.DEBUG)}),{propsReady:t,didMount:n}},Ko(Gv),{singleton:!0});function Xv(e,t){e==0?t():requestAnimationFrame(()=>Xv(e-1,t))}function v$(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}function ef(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function y$(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const bc="top",vc="bottom",Jv="none";function Qv(e,t,n){return typeof e=="number"?n===mc&&t===bc||n===di&&t===vc?e:0:n===mc?t===bc?e.main:e.reverse:t===vc?e.main:e.reverse}function Rv(e,t){return typeof e=="number"?e:e[t]||0}const w$=wr(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const s=bt(),a=ve(0),l=ve(0),c=ve(0),u=Bs(xe(Ur(Fe(e),Fe(t),Fe(r),Fe(s,ef),Fe(c),Fe(a),Fe(o),Fe(n),Fe(l)),dt(([d,f,g,[h,m],b,y,v,S,w])=>{const C=d-S,E=y+v,x=Math.max(g-C,0);let P=Jv;const T=Rv(w,bc),_=Rv(w,vc);return h-=S,h+=g+v,m+=g+v,m-=S,h>d+E-T&&(P=mc),m<d-x+f+_&&(P=di),P!==Jv?[Math.max(C-g-Qv(b,bc,P)-T,0),C-x-v+f+Qv(b,vc,P)+_]:null}),$t(d=>d!=null),Rt(ef)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:a,increaseViewportBy:l,visibleRange:u}},Ko(hc),{singleton:!0}),S$=wr(([{scrollVelocity:e}])=>{const t=ve(!1),n=bt(),r=ve(!1);return nt(xe(e,yr(r,t,n),$t(([o,s])=>!!s),dt(([o,s,a,l])=>{const{exit:c,enter:u}=s;if(a){if(c(o,l))return!1}else if(u(o,l))return!0;return a}),Rt()),t),Vt(xe(Ur(t,e,n),yr(r)),([[o,s,a],l])=>o&&l&&l.change&&l.change(s,a)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},Ko(Zv),{singleton:!0});function C$(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const x$=wr(([{scrollTo:e,scrollContainerState:t}])=>{const n=bt(),r=bt(),o=bt(),s=ve(!1),a=ve(void 0);return nt(xe(Ur(n,r),dt(([{viewportHeight:l,scrollTop:c,scrollHeight:u},{offsetTop:d}])=>({scrollTop:Math.max(0,c-d),scrollHeight:u,viewportHeight:l}))),t),nt(xe(e,yr(r),dt(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),o),{useWindowScroll:s,customScrollParent:a,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},Ko(hc)),tf="-webkit-sticky",e0="sticky",t0=C$(()=>{if(typeof document>"u")return e0;const e=document.createElement("div");return e.style.position=tf,e.style.position===tf?tf:e0});function E$(e,t,n){const r=p.useRef(null),o=p.useCallback(c=>{if(c===null||!c.offsetParent)return;const u=c.getBoundingClientRect(),d=u.width;let f,g;if(t){const h=t.getBoundingClientRect(),m=u.top-h.top;f=h.height-Math.max(0,m),g=m+t.scrollTop}else f=window.innerHeight-Math.max(0,u.top),g=u.top+window.pageYOffset;r.current={offsetTop:g,visibleHeight:f,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:s,ref:a}=Kv(o,!0,n),l=p.useCallback(()=>{o(a.current)},[o,a]);return p.useEffect(()=>{if(t){t.addEventListener("scroll",l);const c=new ResizeObserver(()=>{requestAnimationFrame(l)});return c.observe(t),()=>{t.removeEventListener("scroll",l),c.unobserve(t)}}else return window.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[l,t]),s}p.createContext(void 0);const n0=p.createContext(void 0);function P$(e){return e}t0();const O$={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},T$={outline:"none",overflowX:"auto",position:"relative"},r0=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}});t0();function qo(e,t){if(typeof e!="string")return{context:t}}function _$({usePublisher:e,useEmitter:t,useEmitterValue:n}){return p.memo(function({style:s,children:a,...l}){const c=e("scrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=n("scrollerRef"),g=n("context"),h=n("horizontalDirection")||!1,{scrollerRef:m,scrollByCallback:b,scrollToCallback:y}=Yv(c,d,u,f,void 0,h);t("scrollTo",y),t("scrollBy",b);const v=h?T$:O$;return i.jsx(u,{ref:m,style:{...v,...s},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...qo(u,g),children:a})})}function A$({usePublisher:e,useEmitter:t,useEmitterValue:n}){return p.memo(function({style:s,children:a,...l}){const c=e("windowScrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=n("totalListHeight"),g=n("deviation"),h=n("customScrollParent"),m=n("context"),{scrollerRef:b,scrollByCallback:y,scrollToCallback:v}=Yv(c,d,u,uc,h);return Wv(()=>(b.current=h||window,()=>{b.current=null}),[b,h]),t("windowScrollTo",v),t("scrollBy",y),i.jsx(u,{style:{position:"relative",...s,...f!==0?{height:f+g}:{}},"data-virtuoso-scroller":!0,...l,...qo(u,m),children:a})})}const o0={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},M$={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:s0,ceil:a0,floor:yc,min:nf,max:pi}=Math;function k$(e){return{...M$,items:e}}function i0(e,t,n){return Array.from({length:t-e+1}).map((r,o)=>{const s=n===null?null:n[o+e];return{index:o+e,data:s}})}function L$(e,t){return e&&e.column===t.column&&e.row===t.row}function wc(e,t){return e&&e.width===t.width&&e.height===t.height}const $$=wr(([{overscan:e,visibleRange:t,listBoundary:n,increaseViewportBy:r},{scrollTop:o,viewportHeight:s,scrollBy:a,scrollTo:l,smoothScrollTargetReached:c,scrollContainerState:u,footerHeight:d,headerHeight:f},g,h,{propsReady:m,didMount:b},{windowViewportRect:y,useWindowScroll:v,customScrollParent:S,windowScrollContainerState:w,windowScrollTo:C},E])=>{const x=ve(0),P=ve(0),T=ve(o0),_=ve({height:0,width:0}),O=ve({height:0,width:0}),k=bt(),M=bt(),F=ve(0),U=ve(null),A=ve({row:0,column:0}),L=bt(),W=bt(),K=ve(!1),$=ve(0),V=ve(!0),I=ve(!1),B=ve(!1);Vt(xe(b,yr($),$t(([Y,R])=>!!R)),()=>{Ot(V,!1)}),Vt(xe(Ur(b,V,O,_,$,I),$t(([Y,R,le,ae,,ye])=>Y&&!R&&le.height!==0&&ae.height!==0&&!ye)),([,,,,Y])=>{Ot(I,!0),Xv(1,()=>{Ot(k,Y)}),Fv(xe(o),()=>{Ot(n,[0,0]),Ot(V,!0)})}),nt(xe(W,$t(Y=>Y!=null&&Y.scrollTop>0),bo(0)),P),Vt(xe(b,yr(W),$t(([,Y])=>Y!=null)),([,Y])=>{Y&&(Ot(_,Y.viewport),Ot(O,Y==null?void 0:Y.item),Ot(A,Y.gap),Y.scrollTop>0&&(Ot(K,!0),Fv(xe(o,Qp(1)),R=>{Ot(K,!1)}),Ot(l,{top:Y.scrollTop})))}),nt(xe(_,dt(({height:Y})=>Y)),s),nt(xe(Ur(Fe(_,wc),Fe(O,wc),Fe(A,(Y,R)=>Y&&Y.column===R.column&&Y.row===R.row),Fe(o)),dt(([Y,R,le,ae])=>({viewport:Y,item:R,gap:le,scrollTop:ae}))),L),nt(xe(Ur(Fe(x),t,Fe(A,L$),Fe(O,wc),Fe(_,wc),Fe(U),Fe(P),Fe(K),Fe(V),Fe($)),$t(([,,,,,,,Y])=>!Y),dt(([Y,[R,le],ae,ye,we,Xe,Qe,,pt,rt])=>{const{row:Je,column:zt}=ae,{height:lt,width:Nt}=ye,{width:Tt}=we;if(Qe===0&&(Y===0||Tt===0))return o0;if(Nt===0){const nn=v$(rt,Y),ut=Math.max(nn+Qe-1,0);return k$(i0(nn,ut,Xe))}const ht=c0(Tt,Nt,zt);let ot,Ue;pt?R===0&&le===0&&Qe>0?(ot=0,Ue=Qe-1):(ot=ht*yc((R+Je)/(lt+Je)),Ue=ht*a0((le+Je)/(lt+Je))-1,Ue=nf(Y-1,pi(Ue,ht-1)),ot=nf(Ue,pi(0,ot))):(ot=0,Ue=-1);const ct=i0(ot,Ue,Xe),{top:wt,bottom:tn}=l0(we,ae,ye,ct),xr=a0(Y/ht),Ut=xr*lt+(xr-1)*Je-tn;return{items:ct,offsetTop:wt,offsetBottom:Ut,top:wt,bottom:tn,itemHeight:lt,itemWidth:Nt}})),T),nt(xe(U,$t(Y=>Y!==null),dt(Y=>Y.length)),x),nt(xe(Ur(_,O,T,A),$t(([Y,R,{items:le}])=>le.length>0&&R.height!==0&&Y.height!==0),dt(([Y,R,{items:le},ae])=>{const{top:ye,bottom:we}=l0(Y,ae,R,le);return[ye,we]}),Rt(ef)),n);const te=ve(!1);nt(xe(o,yr(te),dt(([Y,R])=>R||Y!==0)),te);const X=ci(xe(Fe(T),$t(({items:Y})=>Y.length>0),yr(x,te),$t(([{items:Y},R,le])=>le&&Y[Y.length-1].index===R-1),dt(([,Y])=>Y-1),Rt())),J=ci(xe(Fe(T),$t(({items:Y})=>Y.length>0&&Y[0].index===0),bo(0),Rt())),ie=ci(xe(Fe(T),yr(K),$t(([{items:Y},R])=>Y.length>0&&!R),dt(([{items:Y}])=>({startIndex:Y[0].index,endIndex:Y[Y.length-1].index})),Rt(y$),ui(0)));nt(ie,h.scrollSeekRangeChanged),nt(xe(k,yr(_,O,x,A),dt(([Y,R,le,ae,ye])=>{const we=f$(Y),{align:Xe,behavior:Qe,offset:pt}=we;let rt=we.index;rt==="LAST"&&(rt=ae-1),rt=pi(0,rt,nf(ae-1,rt));let Je=rf(R,ye,le,rt);return Xe==="end"?Je=s0(Je-R.height+le.height):Xe==="center"&&(Je=s0(Je-R.height/2+le.height/2)),pt&&(Je+=pt),{top:Je,behavior:Qe}})),l);const q=Bs(xe(T,dt(Y=>Y.offsetBottom+Y.bottom)),0);return nt(xe(y,dt(Y=>({width:Y.visibleWidth,height:Y.visibleHeight}))),_),{data:U,totalCount:x,viewportDimensions:_,itemDimensions:O,scrollTop:o,scrollHeight:M,overscan:e,increaseViewportBy:r,scrollBy:a,scrollTo:l,scrollToIndex:k,smoothScrollTargetReached:c,windowViewportRect:y,windowScrollTo:C,useWindowScroll:v,customScrollParent:S,windowScrollContainerState:w,deviation:F,scrollContainerState:u,footerHeight:d,headerHeight:f,initialItemCount:P,gap:A,restoreStateFrom:W,...h,initialTopMostItemIndex:$,horizontalDirection:B,gridState:T,totalListHeight:q,...g,startReached:J,endReached:X,rangeChanged:ie,stateChanged:L,propsReady:m,stateRestoreInProgress:K,...E}},Ko(w$,hc,Zv,S$,b$,x$,Gv));function l0(e,t,n,r){const{height:o}=n;if(o===void 0||r.length===0)return{top:0,bottom:0};const s=rf(e,t,n,r[0].index),a=rf(e,t,n,r[r.length-1].index)+o;return{top:s,bottom:a}}function rf(e,t,n,r){const o=c0(e.width,n.width,t.column),s=yc(r/o),a=s*n.height+pi(0,s-1)*t.row;return a>0?a+t.row:a}function c0(e,t,n){return pi(1,yc((e+n)/(yc(t)+n)))}const N$=wr(([e,t])=>({...e,...t}),Ko($$,wr(()=>{const e=ve(f=>`Item ${f}`),t=ve({}),n=ve(null),r=ve("virtuoso-grid-item"),o=ve("virtuoso-grid-list"),s=ve(P$),a=ve("div"),l=ve(uc),c=(f,g=null)=>Bs(xe(t,dt(h=>h[f]),Rt()),g),u=ve(!1),d=ve(!1);return nt(Fe(d),u),{readyStateChanged:u,reportReadyState:d,context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:r,listClassName:o,headerFooterTag:a,scrollerRef:l,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}))),D$=p.memo(function(){const t=gt("gridState"),n=gt("listClassName"),r=gt("itemClassName"),o=gt("itemContent"),s=gt("computeItemKey"),a=gt("isSeeking"),l=Vn("scrollHeight"),c=gt("ItemComponent"),u=gt("ListComponent"),d=gt("ScrollSeekPlaceholder"),f=gt("context"),g=Vn("itemDimensions"),h=Vn("gap"),m=gt("log"),b=gt("stateRestoreInProgress"),y=Vn("reportReadyState"),v=fc(p.useMemo(()=>S=>{const w=S.parentElement.parentElement.scrollHeight;l(w);const C=S.firstChild;if(C){const{width:E,height:x}=C.getBoundingClientRect();g({width:E,height:x})}h({row:d0("row-gap",getComputedStyle(S).rowGap,m),column:d0("column-gap",getComputedStyle(S).columnGap,m)})},[l,g,h,m]),!0,!1);return Wv(()=>{t.itemHeight>0&&t.itemWidth>0&&y(!0)},[t]),b?null:i.jsx(u,{ref:v,className:n,...qo(u,f),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list",children:t.items.map(S=>{const w=s(S.index,S.data,f);return a?i.jsx(d,{...qo(d,f),index:S.index,height:t.itemHeight,width:t.itemWidth},w):p.createElement(c,{...qo(c,f),className:r,"data-index":S.index,key:w},o(S.index,S.data,f))})})}),j$=p.memo(function(){const t=gt("HeaderComponent"),n=Vn("headerHeight"),r=gt("headerFooterTag"),o=fc(p.useMemo(()=>a=>n(gc(a,"height")),[n]),!0,!1),s=gt("context");return t?i.jsx(r,{ref:o,children:i.jsx(t,{...qo(t,s)})}):null}),I$=p.memo(function(){const t=gt("FooterComponent"),n=Vn("footerHeight"),r=gt("headerFooterTag"),o=fc(p.useMemo(()=>a=>n(gc(a,"height")),[n]),!0,!1),s=gt("context");return t?i.jsx(r,{ref:o,children:i.jsx(t,{...qo(t,s)})}):null}),V$=({children:e})=>{const t=p.useContext(n0),n=Vn("itemDimensions"),r=Vn("viewportDimensions"),o=fc(p.useMemo(()=>s=>{r(s.getBoundingClientRect())},[r]),!0,!1);return p.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),i.jsx("div",{style:r0(!1),ref:o,children:e})},H$=({children:e})=>{const t=p.useContext(n0),n=Vn("windowViewportRect"),r=Vn("itemDimensions"),o=gt("customScrollParent"),s=E$(n,o,!1);return p.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),i.jsx("div",{ref:s,style:r0(!1),children:e})},F$=p.memo(function({...t}){const n=gt("useWindowScroll"),r=gt("customScrollParent"),o=r||n?U$:z$,s=r||n?H$:V$;return i.jsx(o,{...t,children:i.jsxs(s,{children:[i.jsx(j$,{}),i.jsx(D$,{}),i.jsx(I$,{})]})})}),{Component:B$,usePublisher:Vn,useEmitterValue:gt,useEmitter:u0}=c$(N$,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},F$),z$=_$({usePublisher:Vn,useEmitterValue:gt,useEmitter:u0}),U$=A$({usePublisher:Vn,useEmitterValue:gt,useEmitter:u0});function d0(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Rp.WARN),t==="normal"?0:parseInt(t??"0",10)}const fi=B$,of=e=>{const t="gs-utl-grid-cols-4",n=parseInt(`${e||4}`,10);return n===1?"gs-utl-grid-cols-1":n===2?"gs-utl-grid-cols-2":n===3?"gs-utl-grid-cols-3":n===4?t:n===5?"gs-utl-grid-cols-5":n===6?"gs-utl-grid-cols-6":n===7?"gs-utl-grid-cols-7":n===8?"gs-utl-grid-cols-8":n===9?"gs-utl-grid-cols-9":n===10?"gs-utl-grid-cols-10":n===11?"gs-utl-grid-cols-11":n===12?"gs-utl-grid-cols-12":t},W$=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function G$(e){const t=e.map(({id:a,src:l})=>({id:a,src:l})),n=e.reduce((a,l)=>(a[l.id]=l,a),{}),r=[],o=[];return(await IS(t)).forEach(a=>{a.status==="fulfilled"?r.push(n[a.value]):o.push(n[a.reason])}),{loaded:r,failed:o}}const K$=async e=>{const t=[...e],n={};if(t.length){const r={},o=[];if(t.forEach((s,a)=>{W$(s)&&(r[s.id]={index:a},o.push(s))}),o.length){const{loaded:s}=await G$(o);s.forEach(({id:a,options:l})=>{r[a].loaded=!0,n[a]=l||{}})}Object.keys(r).forEach(s=>{const a=r[s];a.loaded?t[a.index]=s:t[a.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},q$=(e,t,n)=>{e.loadData(t);let r=`${e.getHtml()}<style>${e.getCss()}</style>`;if(n===Me.email)try{r=e.runCommand("mjml-code-to-html").html}catch(o){console.error(o)}return r.replace("<body","<div data-body").replace("</body>","</div>")},Y$=async(e,t,n)=>{const r=Sv(t,{appStore:n}),o=await K$(r);return e.init({headless:!0,projectData:{},noticeOnUnload:!1,storageManager:!1,plugins:[...o.plugins,s=>{s.Storage.setCurrent("")}],pluginsOpts:o.pluginOptions,protectedCss:`
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `})};function sf({children:e,text:t,onConfirm:n,onCancel:r,className:o="w-[200px]",confirmButtonProps:s={},...a}){const l=Ce();return i.jsx(dr,{...a,overlay:!0,title:!1,buttonAs:"span",handler:e,children:({close:c})=>i.jsxs(N,{className:H(o),space:"m",col:!0,children:[i.jsx(D,{grow:!0,className:H("text-center"),children:t||l.t("confirmAction")}),i.jsxs(N,{justify:"center",items:"center",space:"m",children:[i.jsx(Ie,{variant:"pr",size:"m2",onClick:()=>{c(),n==null||n()},...s,children:l.t("confirm")}),i.jsx(Ie,{size:"m2",onClick:()=>{c(),r==null||r()},children:l.t("cancel")})]})]})})}const p0=new Map,f0=new Map,Z$=async({html:e="",el:t})=>{const n=e,r={};if(document.body.attachShadow){const o=t.shadowRoot||t.attachShadow({mode:"open"});o.innerHTML=n}return r},X$=oe(function({template:t,projectType:n,skipProjectNamePopover:r,className:o,onSelect:s,onRemove:a}){var P;const l=Ce(),c=fe(),u=c.editor,[d,f]=p.useState(""),g=p.useRef(null),h=l.t("projectManager.projectName"),m=!t.isTemplate&&c.currentProjectId===((P=t.data.custom)==null?void 0:P.id),b=n===Me.web,y=!t.isTemplate||r,v=()=>{y&&(s==null||s({editor:u,template:t,loadTemplate:S}))},S=c.setProject,w=T=>{T.preventDefault(),s({editor:u,template:t,loadTemplate:S})};p.useEffect(()=>{const _=setTimeout(async()=>{if(!g.current||!u)return;const O=`${t.isTemplate?"t-":""}${t.id}`;let k=p0.get(O);if(!k){let F=f0.get(n);F||(F=await Y$(u.config.grapesjs,n,c),f0.set(n,F)),k=q$(F,t.data,n),p0.set(O,k)}const M=g.current;Z$({el:M,html:k})});return()=>clearTimeout(_)},[g,u,n,t.data]);const{media:C,author:E}=t,x=i.jsx(Ie,{className:G("text-sm"),size:"m2",variant:"pr",onClick:v,disabled:m,children:l.t("select")});return i.jsx(Kt,{padding:!1,className:G("overflow-hidden max-w-full group",o),children:i.jsxs(N,{col:!0,children:[i.jsxs(D,{className:G("relative group h-36 bg-checker max-w-full"),children:[i.jsx("div",{className:G("gs-utl-relative","gs-utl-h-full","gs-utl-overflow-hidden","gs-utl-flex","gs-utl-justify-center"),children:C?i.jsx("img",{src:C,alt:t.name,className:G("max-w-full")}):i.jsx("div",{className:G("gs-utl-w-[1200px]","gs-utl-flex-shrink-0","gs-utl-flex-grow-0","gs-utl-origin-top","gs-utl-bg-white","gs-utl-scale-[0.232]","gs-utl-h-[431.034%]"),ref:g})}),m&&i.jsx(vt,{className:G("absolute top-2 right-2",z.bgA2),label:l.t("current"),s:"s",pill:!0}),i.jsx(N,{justify:"center",items:"center",className:G($e.coverAbs,z.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:y?x:i.jsx(dr,{overlay:!0,title:!1,buttonAs:"span",handler:x,children:()=>i.jsx("form",{onSubmit:w,children:i.jsxs(N,{space:"m",col:!0,children:[i.jsx(D,{children:i.jsx(Re,{size:"s",value:d,onChange:f,placeholder:h,required:!0})}),i.jsx(D,{children:i.jsx(Ie,{type:"submit",variant:"pr",size:"m2",full:!0,children:l.t("load")})})]})})})})]}),i.jsxs(N,{className:G("gjs-p-2 max-w-full",re.bt,z.br),col:!0,space:"s",children:[i.jsxs(N,{className:G("text-sm w-full"),space:"s",nowrap:!0,children:[i.jsx(D,{className:G($e.txtEllips,"max-w-full"),grow:!0,children:t.name}),!!E&&i.jsxs(D,{children:["by"," ",i.jsx("a",{className:G(ds.link),href:E.link,rel:"noreferrer",target:"_blank",children:E.name})]})]}),i.jsxs(N,{items:"center",children:[b&&i.jsxs(D,{className:G("gjs-mr-auto"),children:[l.t("projectManager.pages"),": ",t.data.pages.length]}),!t.isTemplate&&a&&i.jsx(D,{className:G("gjs-ml-auto"),children:i.jsx(sf,{onConfirm:()=>a(t),className:"",children:i.jsx(mt,{title:l.t("delete"),children:i.jsx(ne,{icon:Z.delete,size:se.sx})})})})]})]})]})})}),g0=oe(function({templates:e,projectType:t,content:n,skipProjectNamePopover:r,onSelect:o,onRemove:s}){const[a]=rc(),c=Ce().tScoped("templates"),d=fe().editor,f=of(n==null?void 0:n.itemsPerRow),g=o??(({template:h,loadTemplate:m})=>m(h));return i.jsx(i.Fragment,{children:d&&e?e.length===0?i.jsx(N,{justify:"center",children:c("notFound")}):i.jsx(fi,{data:e,listClassName:G("grid gap-2 gjs-pr-2",f),itemContent:(h,m)=>i.jsx(X$,{template:m,projectType:t,onSelect:g,onRemove:s,skipProjectNamePopover:r},m.id)},a):i.jsx(li,{})})}),J$=oe(function(){var b;const t=fe(),n=gm(),{filteredTemplates:r,projectSourceFilter:o,projectTypeFilter:s}=n,a=Ce(),l=Kn(),{sdkOptions:c}=t,u=a.tScoped("projectManager"),d=async({loadTemplate:y,template:v})=>{y(v),l.close()},f=async y=>{n.setProjectTypeFilter(y),await n.loadAllTemplates()},g=y=>{n.removeProject(y.id),n.loadProjects()},h=p.useMemo(()=>[{id:Ia.Existing,label:u("existentProjects")},{id:Ia.Templates,label:u("templates")}],[a]),m=((b=c.project)==null?void 0:b.types)&&iu();return p.useEffect(()=>{n.loadAllTemplates()},[]),i.jsxs(N,{col:!0,full:!0,space:"m",children:[m&&i.jsx(N,{items:"center",space:"m",children:i.jsx(D,{className:G("gjs-ml-auto"),children:i.jsx(Pe,{value:s,onChange:f,options:RL(),handlerSelected:y=>i.jsxs(i.Fragment,{children:[i.jsx("b",{children:u("projectType")}),": ",y.label]})})})}),i.jsx(D,{children:i.jsx(ho,{tabs:h,value:o,onChange:n.setProjectSourceFilter})}),i.jsx(D,{grow:!0,children:i.jsx(g0,{templates:r,projectType:Me[s],onSelect:d,onRemove:g,content:{itemsPerRow:3}})})]})}),Q$=[{id:Nn.auto,label:"Auto"},{id:Nn.dark,label:"Dark"},{id:Nn.light,label:"Light"}],R$={size:"s"},af=".grapesjs",eN=(e,t)=>{const n=e==null?void 0:e.settingsMenu;return n!==!1&&(n==null?void 0:n[t])!==!1},tN=({actions:e,editor:t,buttons:n,sdkOptions:r})=>{const o=r.actions;return o===!1?[]:it(o)?o({actions:e,editor:t}):o||(n?it(n)?n({items:e,editor:t}):n:e)},nN="gs-cmp-topbar-right",rN=oe(function({editor:t,className:n,buttons:r,...o}){var U;const s=fe(),{theme:a,setTheme:l}=Zt(),{Commands:c,UndoManager:u,Components:d}=t,{installEvent:f,appInstalled:g,isBrowserMode:h,setInstallEvent:m,sdkOptions:b,isProjectTypeEmail:y}=s,v=Kn(),S=Ce(),w=A=>S.t(`actions.${A}`),C=(U=b.commands)==null?void 0:U.options,E=t.Storage.events,x=c.events,P="change:changesCount",T=(A,L)=>()=>{it(A)?A({editor:t}):c.isActive(A)?c.stop(A):c.run(A,L)},_=A=>({[`${x.runCommand}${A}`]:({setState:L})=>L({active:!0}),[`${x.stopCommand}${A}`]:({setState:L})=>L({active:!1})}),O=[{id:$n.componentOutline,icon:Z.borderRadius,tooltip:w("componentOutline.title"),onClick:T("core:component-outline"),editorEvents:_("core:component-outline")},{id:$n.preview,icon:Z.eye,tooltip:w("preview.title"),onClick:T("core:preview"),editorEvents:_("core:preview")},{id:$n.fullscreen,icon:Z.fullscreen,tooltip:w("fullscreen.title"),onClick:T("core:fullscreen",{target:"body"}),editorEvents:_("core:fullscreen")},{id:$n.showCode,icon:Z.xml,tooltip:w("showCode.title"),onClick:()=>v.open({title:w("showCode.title"),content:()=>i.jsx(QL,{options:C==null?void 0:C[$n.showCode]})})},{id:$n.showImportCode,icon:Z.trayArrowDown,tooltip:w("importCode.title"),onClick:()=>v.open({title:w("importCode.title"),content:()=>i.jsx(Ym,{})})},{id:$n.clearCanvas,icon:Z.delete,tooltip:w("clearCanvas.title"),onClick:()=>v.confirm({title:w("clearCanvas.title"),content:w("clearCanvas.content"),confirmButton:{variant:"danger",children:w("clearCanvas.title")},onConfirm:()=>{var A;if(y){const L=(A=d.getWrapper())==null?void 0:A.findType("mjml")[0];L==null||L.components().forEach(W=>{W.components().map($=>$).forEach($=>$.remove())})}else t.Components.clear()}})},{id:$n.store,tooltip:w("store.title"),onClick:async()=>!s.isSaving&&t.store(),editorEvents:{"change:changesCount":({setState:A})=>A({}),[E.startStore]:({setState:A})=>A({disabled:!0}),[E.endStore]:({setState:A})=>A({disabled:!1})},label:()=>i.jsxs("div",{className:H("relative"),children:[i.jsx(ne,{icon:Z.floppy,size:se.s}),!!t.getDirtyCount()&&!s.isSaving&&i.jsx("div",{className:H("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full",z.bg),children:i.jsx("div",{className:H($e.dot,z.bgW)})}),s.isSaving&&i.jsx("div",{className:H("absolute right-0 bottom-0 gjs-rounded-full",z.bg),children:i.jsx(ne,{icon:Z.refresh,size:"11px",className:H($e.spin)})})]})},{id:$n.undo,icon:Z.arrowULeftTop,disabled:!0,onClick:T("core:undo"),editorEvents:{[P]:({setState:A})=>A({disabled:!u.hasUndo()})}},{id:$n.redo,icon:Z.arrowURightTop,disabled:!0,onClick:T("core:redo"),editorEvents:{[P]:({setState:A})=>A({disabled:!u.hasRedo()})}}],k=tN({actions:O,sdkOptions:b,editor:t,buttons:r}),M=[{id:"about",label:w("about.title"),icon:Z.helpCircle,action:()=>v.open({size:"m",title:w("about.title"),content:()=>i.jsx(XL,{})})},{id:"embed",label:w("embed.title"),icon:Z.powerPlug,action:()=>v.open({size:"m",title:w("embed.title"),content:()=>i.jsx(JL,{})})},{id:"openProject",label:w("open.title"),icon:Z.folder,action:async()=>{let A="";try{A=await(await $L({extensions:[af]})).text()}catch(L){return console.error(L)}s.loadProjectData(JSON.parse(A))}},{id:"saveProject",label:w("save.title"),icon:Z.contentSave,action:async()=>{const A=t.getProjectData(),L=new Blob([JSON.stringify(A)]),W=`Untitled-${new Date().toISOString().replace("T","-").replace(/:|\./g,"").substring(0,17)}`;try{await DL(L,{fileName:`${W}${af}`,extensions:[af]})}catch(K){return console.error(K)}}},{id:"loadProject",label:w("newProject.title"),icon:Z.newspaperVariantOutline,action:()=>v.open({fullH:!0,title:w("newProject.title"),content:()=>i.jsx(J$,{})})},{id:"installApp",label:w(g?"installApp.installed":"installApp.title"),icon:Z.applicationBracketsOutline,action:async()=>{if(g)return;f==null||f.prompt();const A=await(f==null?void 0:f.userChoice);(A==null?void 0:A.outcome)==="accepted"&&m()}},...b.customTheme?[]:[{id:"theme",label:i.jsxs(N,{items:"center",space:"m",children:[i.jsx(D,{children:"Theme"}),i.jsx(D,{children:i.jsx(ho,{tabs:Q$,onChange:A=>l(A),value:a,variant:"pills"})})]})}]].filter(({id:A})=>!((!h||!f)&&A==="installApp"||!eN(b,A))),F=(A,L)=>W=>{it(A)&&(A(W),L())};return i.jsxs(N,{space:"s",items:"center",justify:"end",className:H(nN,Le.xS,n),nowrap:!0,...o,children:[k.map(({id:A,...L})=>i.jsx(qp,{size:"s",...L},A)),i.jsx(D,{children:b.settingsMenu!==!1&&M.length>0&&i.jsx(dr,{placement:"bottom-end",title:!1,padding:!1,handler:i.jsx(ne,{icon:Z.cog,size:se.s}),buttonProps:R$,overlay:!0,children:({close:A})=>i.jsx(i.Fragment,{children:M.map(L=>i.jsx(fl,{action:F(L.action,A),icon:L.icon,label:L.label},L.id))})})})]})}),oN=({items:e,editor:t,customItems:n})=>n===!1?[]:it(n)?n({items:e,editor:t}):n||e,h0=e=>({icon:Z.plus,size:se.s,className:H("gs-utl-transition-transform",e&&"gs-utl-rotate-45")}),sN="gs-cmp-topbar-left",aN=oe(function({buttons:t,className:n,style:r}){const o=fe(),s=Ce(),{isOpen:a,toggleOpen:l}=mm(),c=o.editor,d=s.tScoped("blockManager")("blocks"),f=oN({items:[{id:`blocks-${d}`,tooltip:d,size:Av.s,icon:h0(a),variant:_v.primary,editorEvents:{[cn.toggleBlocksPanel]:({fromEvent:g,setState:h})=>{h({icon:h0(g.isOpen)})}},onClick:()=>l()}],customItems:t,editor:c});return i.jsx(N,{space:"s",items:"center",justify:"start",className:H(sN,Le.xS,n),style:r,nowrap:!0,children:f.map(({id:g,...h})=>i.jsx(qp,{...h},g))})});function iN({devices:e,selected:t,className:n,style:r,select:o}){const s=e.map(a=>({id:a.id,label:a.getName()}));return s.length?i.jsx(Pe,{size:"xs",className:n,style:r,value:t,options:s,onChange:o}):null}const lN="gs-devices",m0=p.memo(function({className:t,style:n}){return i.jsx(oM,{children:r=>i.jsx(iN,{className:j(lN,t),style:n,...r})})}),gi="gs-cmp-editor-topbar",cN=oe(function({className:t,height:n,style:r,children:o,leftContainer:s,rightContainer:a,devices:l}){const{topBarSize:c,isInPreview:u,editor:d,isTopSidebarOpen:f}=fe(),g=n??c,h=p.useMemo(()=>({...r,minHeight:g,marginTop:u||!f?`-${g}px`:0}),[u,f,r]);return i.jsxs(i.Fragment,{children:[i.jsx(D,{className:j(gi,"gs-utl-transition-spacing gs-utl-w-full",re.bb,z.br,t),style:h,children:o??i.jsxs(N,{className:j(`${gi}__wrp`,"gs-utl-h-full"),items:"center",full:!0,nowrap:!0,children:[i.jsx(D,{className:j(`${gi}__wrp-left`),grow:!0,children:s!==!1&&i.jsx(aN,{...s})}),i.jsx(D,{className:j(`${gi}__wrp-center`),children:l!==!1&&i.jsx(m0,{...l})}),i.jsx(D,{className:j(`${gi}__wrp-right`),grow:!0,children:a!==!1&&d&&i.jsx(rN,{editor:d,...a})})]})}),i.jsx(D,{className:j("gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",!u&&"-gs-utl-translate-y-full"),children:i.jsx(Ie,{className:j("gs-cmp-close-preview gs-utl-m-4",z.bg),size:"s",onClick:()=>d==null?void 0:d.Commands.stop("core:preview"),children:i.jsx(ne,{icon:Z.eyeOff,size:se.s})})})]})}),uN="gs-sidebar-top",b0=p.memo(oe(function({height:t,children:n,...r}){return i.jsx(cN,{height:t,...r,style:ic(r),className:j(uN,"gs-utl-flex",ac(r)),children:n?vn(n):void 0})})),dN="gs-canvas-sidebar-top",pN=p.memo(oe(function({className:t,sidebarTop:n,...r}){return i.jsxs(Yn,{className:j(dN,"gs-utl-flex gs-utl-flex-col",t),grow:!0,...r,children:[i.jsx(b0,{...n}),i.jsx(kv,{grow:!0})]})})),fN="gs-cmp-column",gN=p.memo(function({className:t,children:n,full:r,...o}){return i.jsx(Yn,{className:j(fN,z.bg,"gs-utl-flex gs-utl-flex-col",r&&"gs-utl-h-full",t),...o,children:vn(n)})}),hN="gs-cmp-input-field",mN=p.memo(oe(function({className:t,style:n,label:r,name:o,value:s,size:a,disabled:l,inputType:c,readOnly:u,required:d,placeholder:f,onChange:g,onInput:h,editorEvents:m}){const{editor:b}=fe(),[y,v]=p.useState(()=>({className:t,style:n,label:r,name:o,value:s,size:a,readOnly:u,disabled:l,required:d,placeholder:f})),S=E=>({value:E,editor:b,state:y,setState:x=>v(P=>({...P,...x}))}),w=E=>g==null?void 0:g(S(E)),C=E=>h==null?void 0:h(S(E));return Ws({editor:b,editorEvents:m,localState:y,setLocalState:v}),i.jsx(Re,{type:c,className:j(hN,y.className),style:y.style,label:y.label,name:y.name,value:y.value,size:y.size,required:y.required,disabled:y.disabled,readOnly:y.readOnly,placeholder:y.placeholder,onChange:w,onInput:C})}));function bN({children:e,accept:t,onChange:n,multiple:r=!0,...o}){const s=Ce(),a=p.useRef(null),l=()=>{const{current:c}=a;c&&(c.value="",c.click())};return i.jsxs(i.Fragment,{children:[i.jsx("input",{className:H("hidden"),ref:a,type:"file",multiple:r,accept:t,onChange:n}),i.jsx(Ie,{variant:"pr",size:"m2",...o,onClick:l,children:e||s.t("upload")})]})}const vN=oe(bN),yN=oe(function({editor:t,assetProps:n,itemLayout:r,onSelect:o,onRemove:s}){const a=Fo();return vn(r({asset:Zr(a.toAsset(n)),assetProps:Zr(n),onSelect:l=>o(a.toAssetProps(l)),onDelete:s&&(l=>s(a.toAssetProps(l))),editor:t}))}),wN="gs-cmp-asset-card",SN=oe(function(t){var f;const{assetProps:n,onSelect:r,onRemove:o,className:s,itemLayout:a}=t,l=Ce(),{editor:c}=fe();if(a)return c?i.jsx(yN,{...t,editor:c,itemLayout:a}):null;const{src:u}=n,d=n.name||((f=u.split("/").pop())==null?void 0:f.split("?").shift());return i.jsx(Kt,{padding:!1,className:G(wN,"overflow-hidden max-w-full group",s),children:i.jsxs(N,{col:!0,children:[i.jsxs(D,{className:G("relative group h-24 cursor-pointer bg-checker"),onClick:()=>r(n),children:[i.jsx("div",{className:G("w-full h-full bg-contain bg-no-repeat bg-center"),style:{backgroundImage:`url("${u}")`}}),i.jsx(N,{justify:"center",items:"center",className:G($e.coverAbs,z.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:i.jsx(Ie,{className:G("text-sm"),size:"m2",variant:"pr",children:l.t("select")})})]}),i.jsxs(N,{className:G("gjs-p-1 max-w-full"),space:"s",items:"center",nowrap:!0,children:[i.jsx(D,{className:G($e.txtEllips,"text-sm gjs-mr-auto"),children:d}),o&&i.jsx(sf,{onConfirm:()=>o==null?void 0:o(n),text:i.jsxs(N,{col:!0,space:"m",items:"stretch",children:[i.jsx("p",{className:G("text-center",z.txtHighEmphasis),children:l.t("assetManager.deleteConfirmQuestion")}),i.jsx("p",{className:G("text-center"),children:l.t("assetManager.deleteConfirmExplanation")})]}),confirmButtonProps:{variant:"danger"},children:i.jsx(mt,{title:l.t("delete"),children:i.jsx(ne,{icon:Z.delete,size:se.sx})})})]})]})})}),lf="gs-asset-manager",CN={search:!0,addUrl:!0,upload:!0},xN=oe(function({assetProps:t,typeFilterOptions:n,providerFilterOptions:r,typeFilter:o,providerFilter:s,searchValue:a,isLoading:l,optionalType:c,optionalProvider:u,useLocalSearch:d,itemLayout:f,content:g,onSelect:h,onChangeTypeFilter:m,onChangeProviderFilter:b,onChangeSearchValue:y,onChangeUpload:v,onAddUrl:S,onRemove:w,onEndReached:C}){const E=fe(),{editor:x}=E,P=Ce(),[T]=rc(),_=of(g==null?void 0:g.itemsPerRow),[O,k]=p.useState(""),M=(g==null?void 0:g.header)===!1?!1:{...CN,...ss(g==null?void 0:g.header)?g.header:{}};if(!x)return;const F=d?t.filter(U=>!(a&&!as(U.src,a)&&!as(U.name??"",a))):t;return i.jsxs(N,{className:H(lf,"relative gs-utl-h-full",l&&$e.disabled),nowrap:!0,col:!0,space:"m",children:[M!==!1&&i.jsxs(N,{className:H(`${lf}__header`,"gs-utl-gap-4"),justify:"between",items:"center",children:[i.jsxs(N,{items:"center",space:"m",children:[M.search&&i.jsx(D,{children:i.jsx(Re,{size:"s",type:"search",value:a,onInput:y,placeholder:`${P.t("search")}...`})}),n.length>(c?0:1)&&i.jsx(D,{children:i.jsx(Pe,{className:H("items-center"),size:"m",options:n,value:o,onChange:m,emptyState:P.t("assetManager.assetTypes.all"),includeEmpty:c})}),r.length>(u?0:1)&&i.jsx(D,{children:i.jsx(Pe,{className:H("items-center"),size:"m",options:r.map(U=>({...U,label:it(U.label)?U.label({editor:x}):U.label})),value:s,onChange:b,emptyState:P.t("assetManager.noProvider"),includeEmpty:u})})]}),i.jsxs(N,{items:"center",space:"m",children:[M.upload&&i.jsx(D,{children:i.jsx(vN,{onChange:v})}),M.addUrl&&!!S&&i.jsx(D,{children:i.jsx(dr,{overlay:!0,placement:"bottom-end",title:!1,buttonAs:"span",handler:i.jsx(Ie,{variant:"pr",size:"m2",children:P.t("assetManager.addUrl")}),children:({close:U})=>i.jsxs(N,{space:"m",children:[i.jsx(D,{children:i.jsx(Re,{type:"url",size:"s",value:O,onChange:k,placeholder:P.t("assetManager.inputPlh")})}),i.jsx(D,{children:i.jsx(Ie,{variant:"pr",size:"m2",onClick:()=>{S(O),U()},children:P.t("add")})})]})})})]})]}),i.jsx(N,{className:H(`${lf}__content`,"gs-utl-h-[75vh] gs-utl-flex-grow"),space:"m",col:!0,nowrap:!0,children:!l&&!F.length?i.jsx(N,{justify:"center",children:P.t("noItems")}):!!T&&i.jsx(fi,{data:F,listClassName:H("gs-utl-grid gs-utl-gap-2",_),endReached:C,itemContent:(U,A)=>i.jsx(SN,{assetProps:A,onSelect:h,onRemove:w,itemLayout:f},A.id),components:{Footer:C?EN:void 0}})}),l&&i.jsx(li,{abs:!0})]})}),EN=()=>i.jsx("div",{style:{padding:"2rem",display:"flex",justifyContent:"center",height:200}}),v0=oe(function({panelId:t,content:n,assets:r,types:o,providers:s,typeId:a,providerId:l,optionalType:c,optionalProvider:u,onSelect:d,close:f}){const{appEditorStore:g,i18nStore:h}=Lt(),{editor:m}=g,b=Fo(),{customOnLoad:y}=b,v=im(t);p.useEffect(()=>{const x=T=>ft(T)?{id:T,label:h.t(`assetManager.assetTypes.${T}`)||T}:T;v.setCustomTypes(o==null?void 0:o.map(x)),v.setCustomProviders(ft(s)?[s]:s),a?v.setTypeFilter(a):v.initTypeFilter(),l?v.setProviderFilter(l):v.initProviderFilter(),c?v.setOptionalType(c):v.initOptionalType(),u?v.setOptionalProvider(u):v.initOptionalProvider();const P=setTimeout(()=>v.loadAssets());return()=>clearTimeout(P)},[o,s,a,l,c,u]);const S=x=>{b.addToProjectAssets([{id:x,src:x,type:v.typeFilter??so.image}])},w=x=>{m&&(d==null||d({asset:b.toAsset(x),assetProps:x,editor:m}),f==null||f())},C=r==null?void 0:r.map(b.toAssetProps),E=v.shouldLoadNextPage?()=>v.loadAssets(!1):void 0;return i.jsx(xN,{assetProps:C??v.assetProps,typeFilter:v.typeFilter,typeFilterOptions:v.typeFilterOptions,providerFilter:v.providerFilter,providerFilterOptions:v.providerFilterOptions,searchValue:v.searchValue,onChangeTypeFilter:x=>{v.setTypeFilter(x),v.loadAssets()},onChangeProviderFilter:x=>{v.setProviderFilter(x),v.loadAssets()},onChangeSearchValue:v.setSearchValue,onSelect:w,onAddUrl:y?void 0:S,onChangeUpload:x=>b.uploadFile(x.nativeEvent),onRemove:C?void 0:v.handleDelete,onEndReached:E,isLoading:v.isLoading,itemLayout:v.itemLayout,content:n,optionalType:v.optionalType,optionalProvider:v.optionalProvider,useLocalSearch:!v.reloadOnInput})});var PN=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=globalThis&&globalThis.__assign||function(){return yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},yt.apply(this,arguments)},y0={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},w0={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Sc={width:"20px",height:"20px",position:"absolute"},ON={top:yt(yt({},y0),{top:"-5px"}),right:yt(yt({},w0),{left:void 0,right:"-5px"}),bottom:yt(yt({},y0),{top:void 0,bottom:"-5px"}),left:yt(yt({},w0),{left:"-5px"}),topRight:yt(yt({},Sc),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:yt(yt({},Sc),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:yt(yt({},Sc),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:yt(yt({},Sc),{left:"-10px",top:"-10px",cursor:"nw-resize"})},TN=function(e){PN(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return t.prototype.render=function(){return Be.createElement("div",{className:this.props.className||"",style:yt(yt({position:"absolute",userSelect:"none"},ON[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(Be.PureComponent),_N=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=globalThis&&globalThis.__assign||function(){return Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Sr.apply(this,arguments)},AN={width:"auto",height:"auto"},Cc=function(e,t,n){return Math.max(Math.min(e,n),t)},S0=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},zs=function(e,t){return new RegExp(e,"i").test(t)},xc=function(e){return!!(e.touches&&e.touches.length)},MN=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},C0=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(s,a,l){return Math.abs(a-e)<Math.abs(t[s]-e)?l:s},0),o=Math.abs(t[r]-e);return n===0||o<n?t[r]:e},cf=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Ec=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return r*o}}return e},kN=function(e,t,n,r,o,s,a){return r=Ec(r,e.width,t,n),o=Ec(o,e.height,t,n),s=Ec(s,e.width,t,n),a=Ec(a,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},LN=function(e){return Array.isArray(e)?e:[e,e]},$N=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],x0="__resizable_base__",NN=function(e){_N(t,e);function t(n){var r,o,s,a,l=e.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(x0):u.className+=x0,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(o=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&o!==void 0?o:"auto",height:(a=(s=l.propsSize)===null||s===void 0?void 0:s.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||AN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,o=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return f+"%"}return cf(n.state[l])},s=r&&typeof r.width<"u"&&!this.state.isResizing?cf(r.width):o("width"),a=r&&typeof r.height<"u"&&!this.state.isResizing?cf(r.height):o("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=o),this.removeBase(n),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var o=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof o>"u"||o==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var o=this.props.boundsByDirection,s=this.state.direction,a=o&&zs("left",s),l=o&&zs("top",s),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=a?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var o=this.props.scale||1,s=LN(this.props.resizeRatio||1),a=s[0],l=s[1],c=this.state,u=c.direction,d=c.original,f=this.props,g=f.lockAspectRatio,h=f.lockAspectRatioExtraHeight,m=f.lockAspectRatioExtraWidth,b=d.width,y=d.height,v=h||0,S=m||0;return zs("right",u)&&(b=d.width+(n-d.x)*a/o,g&&(y=(b-S)/this.ratio+v)),zs("left",u)&&(b=d.width-(n-d.x)*a/o,g&&(y=(b-S)/this.ratio+v)),zs("bottom",u)&&(y=d.height+(r-d.y)*l/o,g&&(b=(y-v)*this.ratio+S)),zs("top",u)&&(y=d.height-(r-d.y)*l/o,g&&(b=(y-v)*this.ratio+S)),{newWidth:b,newHeight:y}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,o,s){var a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=typeof s.width>"u"?10:s.width,f=typeof o.width>"u"||o.width<0?n:o.width,g=typeof s.height>"u"?10:s.height,h=typeof o.height>"u"||o.height<0?r:o.height,m=c||0,b=u||0;if(l){var y=(g-m)*this.ratio+b,v=(h-m)*this.ratio+b,S=(d-b)/this.ratio+m,w=(f-b)/this.ratio+m,C=Math.max(d,y),E=Math.min(f,v),x=Math.max(g,S),P=Math.min(h,w);n=Cc(n,C,E),r=Cc(r,x,P)}else n=Cc(n,d,f),r=Cc(r,g,h);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var o=r.getBoundingClientRect();this.parentLeft=o.left*n,this.parentTop=o.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,c=a.top,u=a.right,d=a.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var o=0,s=0;if(n.nativeEvent&&MN(n.nativeEvent)?(o=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&xc(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(n,r,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Sr(Sr({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&xc(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,s=o.maxWidth,a=o.maxHeight,l=o.minWidth,c=o.minHeight,u=xc(n)?n.touches[0].clientX:n.clientX,d=xc(n)?n.touches[0].clientY:n.clientY,f=this.state,g=f.direction,h=f.original,m=f.width,b=f.height,y=this.getParentSize(),v=kN(y,this.window.innerWidth,this.window.innerHeight,s,a,l,c);s=v.maxWidth,a=v.maxHeight,l=v.minWidth,c=v.minHeight;var S=this.calculateNewSizeFromDirection(u,d),w=S.newHeight,C=S.newWidth,E=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(C=C0(C,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=C0(w,this.props.snap.y,this.props.snapGap));var x=this.calculateNewSizeFromAspectRatio(C,w,{width:E.maxWidth,height:E.maxHeight},{width:l,height:c});if(C=x.newWidth,w=x.newHeight,this.props.grid){var P=S0(C,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=S0(w,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),_=this.props.snapGap||0,O=_===0||Math.abs(P-C)<=_?P:C,k=_===0||Math.abs(T-w)<=_?T:w;C=O,w=k}var M={width:C-h.width,height:w-h.height};if(m&&typeof m=="string"){if(m.endsWith("%")){var F=C/y.width*100;C=F+"%"}else if(m.endsWith("vw")){var U=C/this.window.innerWidth*100;C=U+"vw"}else if(m.endsWith("vh")){var A=C/this.window.innerHeight*100;C=A+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var F=w/y.height*100;w=F+"%"}else if(b.endsWith("vw")){var U=w/this.window.innerWidth*100;w=U+"vw"}else if(b.endsWith("vh")){var A=w/this.window.innerHeight*100;w=A+"vh"}}var L={width:this.createSizeForCssProperty(C,"width"),height:this.createSizeForCssProperty(w,"height")};this.flexDir==="row"?L.flexBasis=L.width:this.flexDir==="column"&&(L.flexBasis=L.height);var W=this.state.width!==L.width,K=this.state.height!==L.height,$=this.state.flexBasis!==L.flexBasis,V=W||K||$;V&&on.flushSync(function(){r.setState(L)}),this.props.onResize&&V&&this.props.onResize(n,g,this.resizable,M)}},t.prototype.onMouseUp=function(n){var r,o,s=this.state,a=s.isResizing,l=s.direction,c=s.original;if(!(!a||!this.resizable)){var u={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,u),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Sr(Sr({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){var r,o;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(o=n.height)!==null&&o!==void 0?o:"auto"})},t.prototype.renderResizer=function(n){var r=this,o=this.props,s=o.enable,a=o.handleStyles,l=o.handleClasses,c=o.handleWrapperStyle,u=o.handleWrapperClass,d=o.handleComponent;if(!s)return null;var f=n.filter(function(g){return s[g]!==!1}).map(function(g){return s[g]!==!1?Be.createElement(TN,{key:g,direction:g,onResizeStart:r.onResizeStart,replaceStyles:a&&a[g],className:l&&l[g]},d&&d[g]?d[g]:null):null});return Be.createElement("div",{className:u,style:c},f)},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(a,l){return $N.indexOf(l)!==-1||(a[l]=n.props[l]),a},{}),o=Sr(Sr(Sr({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return Be.createElement(s,Sr({style:o,className:this.props.className},r,{ref:function(a){a&&(n.resizable=a)}}),this.state.isResizing&&Be.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(Be.PureComponent);function Pc({className:e,children:t,top:n,bottom:r,right:o,left:s,width:a,height:l,minHeight:c,minWidth:u,maxHeight:d,maxWidth:f,style:g,onResize:h,onResizeStop:m,...b}){const y={top:n||!1,right:o||!1,bottom:r||!1,left:s||!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},v={width:a||"auto",height:l||"auto"},S=H("z-10",z.hBgAct),w={bottom:S,right:S,left:S},C={bottom:{bottom:0,height:2},right:{right:-1,width:2},left:{left:-1,width:2}};return i.jsx(NN,{className:e,enable:b.enable??y,defaultSize:v,handleStyles:C,handleClasses:w,onResize:h,onResizeStop:m,minHeight:c,minWidth:u,maxHeight:d,maxWidth:f,style:g,children:t})}const hi="gs-studio-panel",E0=(e,t={})=>({...t,...e===!0?{}:e||void 0}),Zn=p.memo(function({children:t,header:n,resizable:r,className:o,classNameAccordion:s,classNameAccordionContent:a,...l}){const c=i.jsx(Yn,{className:j(hi,o),...l,children:t}),u=r?r===!0?{top:!0,right:!0,bottom:!0,left:!0}:r:void 0,d=u?i.jsx(Pc,{className:j([`${hi}__resizer`]),...u,children:c}):c,f=n===!0?{collapsible:!0}:n||void 0;return f?i.jsx(Uo,{classNameWrap:j(`${hi}__accordion`,s),className:j(`${hi}__accordion-header`,Le.xy,f.className),classNameContent:j(`${hi}__accordion-content`,a),disabled:f.collapsible===!1,style:f.style,handler:i.jsxs(N,{space:"s",items:"center",children:[!!f.icon&&i.jsx(ne,{icon:f.icon,size:se.s}),i.jsx(D,{grow:!0,children:f.label})]}),open:n?f.collapsed!==!0:!0,children:d}):d}),DN="gs-panel-assets",jN=p.memo(oe(function({className:t,onSelect:n,content:r,assets:o,types:s,providers:a,typeId:l,providerId:c,optionalType:u,optionalProvider:d,...f}){const g=fe(),h=Fo(),m=g.editor,[b]=p.useState(()=>f.id||th());return p.useEffect(()=>(h.createAssetManager(b),()=>{h.removeAssetManager(b)}),[b]),im(b)?i.jsx(Zn,{className:j(DN,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...f,children:m&&i.jsx(v0,{panelId:b,assets:o,types:s,providers:a,onSelect:n,typeId:l,providerId:c,content:r,optionalType:u,optionalProvider:d})}):null})),uf=p.forwardRef(function({children:t,className:n,...r},o){return i.jsx("div",{className:j(G("gs-block-manager-after"),n),ref:o,...r,children:t})}),df=p.forwardRef(function({children:t,className:n,...r},o){return i.jsx("div",{className:j(G("gs-block-manager-before"),n),ref:o,...r,children:t})}),IN="gs-panel-blocks",VN=p.memo(oe(function({className:t,symbols:n,search:r,hideCategories:o,blocks:s,itemLayout:a,...l}){const c=fe().sdkProps.children,u={search:r,symbols:n,hideCategories:o,isOpen:!0,blocks:s,itemLayout:a};return i.jsx(Zn,{className:j(IN,"gs-utl-overflow-hidden",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...l,children:i.jsxs(zo,{children:[Yt(c,df),i.jsx(cy,{className:j("gs-utl-overflow-hidden gs-utl-flex-nowrap"),...u}),Yt(c,uf)]})})})),HN=(e,{t,id:n})=>t(`fields.${n}.label`)||sr(`${e}`.replace(/-/g," ")),P0=(e,{t,id:n})=>{const r=ft(e)?{id:e,label:e}:e;return{...r,label:t(`fields.${n}.options.${r.id}`)||r.label}},O0=e=>e.get("defaultValue")||"",mi=e=>e.get("field"),T0=e=>{const t=mi(e);return ft(t)?{type:t}:t},_0=e=>`${e.get("value")||O0(e)||T0(e).defaultValue||""}`,FN=(e,t)=>e||O0(t)||"",bi=({record:e,value:t,partial:n})=>{e.set({value:FN(t,e)},{partial:n}),e.em.refreshCanvas({tools:!0})},vi=(e,t)=>{const{className:n,defaultValue:r,size:o,...s}=T0(e),a=r||e.get("defaultValue");return{...s,hasClear:()=>{const l=e.get("value");return!!l&&Mt(a)&&l!==a},className:j(n,"gs-utl-w-full"),size:o||"s",value:_0(e),label:HN(e.get("label")||e.id||"",t),onChange:(l,c)=>bi({record:e,value:l,partial:c})}},BN=(e,t)=>{const n=mi(e),r=ss(n)?n:void 0,o=(r==null?void 0:r.units)||[],s=zM(_0(e)),a=s.number,l=s.unit||o[0]||"";return{...vi(e,t),value:a,valueUnit:l,min:r==null?void 0:r.min,max:r==null?void 0:r.max,step:r==null?void 0:r.step,units:r==null?void 0:r.units,onChange:(c,u)=>{bi({value:c?`${c}${l}`:"",record:e,partial:u})},onChangeUnit:c=>{bi({value:a?`${a}${c}`:"",record:e})}}},A0=(e,t)=>{var s;const n=mi(e),r=ss(n)?n:void 0,o=((s=r==null?void 0:r.options)==null?void 0:s.map(a=>P0(a,t)))||[];return{...vi(e,t),options:o,onChange:a=>bi({value:a,record:e})}},zN=(e,t)=>({...vi(e,t),onChange:n=>bi({value:n,record:e})}),UN=(e,t)=>{var s;const n=mi(e),r=ss(n)?n:void 0,o=((s=r==null?void 0:r.options)==null?void 0:s.map(a=>P0(a,t)))||[];return{...A0(e,t),size:"s",options:o}};function WN(e,t){const n=mi(e);switch(ft(n)?n:n==null?void 0:n.type){case"radio":return i.jsx(Ft,{...UN(e,t)});case"select":return i.jsx(Pe,{...A0(e,t)});case"selectFont":{const o=zN(e,t);return i.jsx(Hp,{...o,labelAs:"div"})}case"number":return i.jsx(_e,{...BN(e,t)});case"color":return i.jsx(Hr,{...vi(e,t)});default:return i.jsx(Re,{...vi(e,t)})}}const M0="gs-cmp-global-style-field",GN=oe(function({record:t}){const n=fe(),o=Ce().tScoped("globalStyleManager"),[,s]=p.useState(0),a=n.editor,l=t.id,c={t:o,id:l};return p.useEffect(()=>{if(!a)return;const u=`data:path:${t.getPath("value")}`,d=()=>s(f=>++f);return a.on(u,d),()=>{a.off(u,d)}},[a]),i.jsx(N,{className:j(M0,`${M0}__${l}`),children:WN(t,c)})}),yi="gs-cmp-global-style-manager",k0=({items:e,category:t,className:n})=>{const r=j(t?`${yi}__cat-fields--${t.id}`:`${yi}__uncat-fields`,"gs-utl-gap-2",Le.xy,n);return i.jsx(N,{className:r,nowrap:!0,col:!0,children:e.map(o=>i.jsx(GN,{record:o},o.id))})},KN=oe(function(){const t=V_(),{recordsByCategory:n,openCategories:r}=t,s=Ce().tScoped("globalStyleManager");return i.jsx(N,{col:!0,full:!0,nowrap:!0,className:j(yi,"gs-utl-flex-grow gs-utl-overflow-hidden"),children:i.jsx(N,{col:!0,nowrap:!0,className:j(`${yi}__fields`,$e.scrollY,"gs-utl-select-none"),children:n.length?n.map(({category:a,items:l},c)=>a?i.jsx(Uo,{sticky:!0,open:r.get(a.id)??a.open,handler:s(`categories.${a.id}.label`)||a.label||a.id,onChange:({open:u})=>t.setCategoryOpen(a.id,u),className:u=>j(`${yi}__cat-fields`,Ou.itemList({index:c,open:u,length:n.length}),c===0&&re.bt),children:i.jsx(k0,{category:a,items:l})},a.id):i.jsx(k0,{items:l,className:j(n.length!==1&&[re.bt,z.br])},c)):i.jsx(N,{className:j("gs-utl-text-center"),justify:"center",children:s("notFound")})})})}),qN="gs-panel-global-styles",YN=p.memo(oe(function({className:t,...n}){return i.jsx(Zn,{className:j(qN,"gs-utl-overflow-auto",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-auto"),...n,children:i.jsx(zo,{children:i.jsx(KN,{})})})}));function pf({className:e,value:t,onChange:n}){const[r,o]=p.useState(t),s=p.useRef(null),a=u=>{const{value:d}=u.target;o(d)},l=()=>{n(r||t)},c=u=>{switch(u.key){case"Escape":n(t);break;case"Enter":n(r||t);break}};return p.useEffect(()=>{s.current&&s.current.select()},[]),i.jsx("input",{autoFocus:!0,className:H([e,"w-full",z.bgTr]),value:r,onChange:a,onBlur:l,onKeyDown:c,onPointerDown:os,ref:s})}const ZN={maxWidth:`${KS}px`},XN="gs-cmp-layer-item";function L0({component:e,draggingCmp:t,dragParent:n,...r}){const o=Jt(),{Layers:s}=o,a=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(s.getLayerData(e)),{open:f,selected:g,hovered:h,components:m,visible:b,locked:y,name:v}=u,S=m.map(K=>K.cid),w=t===e,C=S.join("-"),E=r.level+1,x=h||n===e;p.useEffect(()=>{E===0&&d(s.getLayerData(e)),a.current&&(a.current.__cmp=e)},[e]),p.useEffect(()=>{const K=a.current;if(!K)return;const{select:$}=o.Components.events,V=I=>I===e&&K.scrollIntoView({block:"nearest"});return o.on($,V),()=>{o.off($,V)}},[e,a.current]),p.useEffect(()=>{const K=V=>{V===e&&d(s.getLayerData(V))},$=s.events.component;return o.on($,K),()=>{o.off($,K)}},[o,s,e]);const P=p.useMemo(()=>m.map(K=>i.jsx(L0,{component:K,level:E,draggingCmp:t,dragParent:n},K.cid)),[C,t,n]),T=K=>{s.setLayerData(e,{name:K}),c(!1)},_=K=>{K.stopPropagation(),s.setLayerData(e,{open:!f})},O=K=>{K.stopPropagation(),s.setLayerData(e,{visible:!b})},k=K=>{K.stopPropagation(),s.setLayerData(e,{locked:!y})},M=K=>{K.stopPropagation(),s.setLayerData(e,{selected:!0},{event:K})},F=K=>{K.preventDefault(),o.runCommand(de.contextMenuComponent,{source:pl.layers,component:e,event:K.nativeEvent,x:K.clientX,y:K.clientY})},U=K=>{(!K||!t)&&s.setLayerData(e,{hovered:K})},A=da(e),L=H("layer-item",(g||A.isSymbol)&&A.bgSoftX,(!b||w)&&"opacity-50"),W=H(Le.xyS,re.b,x?A.border:re.bT,g&&A.bgSoft);return i.jsx("div",{className:XN,children:i.jsxs(N,{col:!0,className:L,children:[i.jsx(D,{onClick:M,onContextMenu:F,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),className:H("group max-w-full"),"data-layer-item":!0,ref:a,children:i.jsxs(N,{items:"center",space:"xs",className:W,children:[i.jsx(D,{style:{marginLeft:`${E*10}px`},className:H("cursor-pointer",!m.length&&"pointer-events-none opacity-0"),onClick:_,children:i.jsx(ne,{icon:Z.menuDown,size:se.sx,rotate:f?0:-90})}),i.jsx(D,{children:em(e)}),i.jsx(D,{className:H("truncate"),onDoubleClick:()=>c(!0),style:ZN,grow:!0,children:l?i.jsx(pf,{value:v,onChange:T}):i.jsx(i.Fragment,{children:v})}),!l&&i.jsxs(i.Fragment,{children:[i.jsx(D,{className:H("group-hover:gs-utl-opacity-100 cursor-pointer",y?"opacity-100":"opacity-0"),onClick:k,children:i.jsx(ne,{icon:y?Z.lock:Z.lockOpenVariant,size:se.s3x})}),i.jsx(D,{className:H("group-hover:gs-utl-opacity-100 cursor-pointer",b?"opacity-0":"opacity-100"),onClick:O,children:i.jsx(ne,{icon:b?Z.eyeOutline:Z.eyeOffOutline,size:se.sx})})]})]})}),!!(f&&m.length)&&i.jsx(D,{className:H("max-w-full",!f&&"hidden"),children:P})]})})}const JN={touchAction:"none"},$0=5,QN=e=>{const t=document.elementFromPoint(e.clientX,e.clientY),n=t==null?void 0:t.closest("[data-layer-item]");return{el:n,cmp:n==null?void 0:n.__cmp}},N0=oe(function({root:t,header:n}){const{editor:r}=fe(),[o,s]=p.useState(!1),[a,l]=p.useState({}),[c,u]=p.useState(),[d,f]=p.useState(),[g,h]=p.useState(),[m,b]=p.useState(),y=p.useRef(null);if(p.useEffect(()=>{const _=window.document,O=k=>{k.key==="Escape"&&(l({...a,result:!1}),C())};return _.addEventListener("keydown",O),()=>{_.removeEventListener("keydown",O)}},[]),!r)return null;const{Components:v}=r,S=_=>{_.button===0&&s(!0)},w=_=>{if(!o)return;const{cmp:O,el:k}=QN(_);if(!k||!O)return;const M=k.getBoundingClientRect(),F=k.offsetHeight,U=k.offsetTop,A=_.clientY,L=A<M.y+F/2,W=d||O,K=O.parent(),$=O.index()+(L?0:1);!d&&f(O),u(O);const V=v.canMove(K,W,$),I=v.canMove(O,W),B={...V,canMoveInside:I,index:$};let te=!1;I.result&&A>M.y+$0&&A<M.y+F-$0&&(te=!0,B.target=O,delete B.index),h(te?O:void 0),l(B),b({pointerInside:te,y:U+(L?0:F),h:F})},C=()=>{var _;a!=null&&a.result&&((_=a.source)==null||_.move(a.target,{at:a.index})),l({}),s(!1),f(void 0),u(void 0),h(void 0),b(void 0)},E=(c?c.parents():[]).length,x=!!(d&&m&&(a!=null&&a.result)&&!m.pointerInside),P=x?{top:m.y,left:0,marginLeft:E*10+20}:{},T=n&&(n==null?void 0:n.label)||"Layers";return i.jsxs(N,{col:!0,full:!0,nowrap:!0,className:H("gs-layer-manager flex-grow overflow-hidden"),children:[n!==!1&&i.jsx(D,{children:i.jsxs(N,{space:"s",items:"center",className:H([Le.xy,re.bb,z.br]),children:[i.jsx(D,{children:i.jsx(ne,{icon:Z.layers,size:se.s})}),i.jsx(D,{grow:!0,children:T})]})}),i.jsxs(D,{className:H("overflow-y-auto overflow-x-hidden text-sm select-none relative"),style:JN,onPointerDown:S,onPointerMove:w,onPointerUp:C,grow:!0,children:[!!t&&i.jsx(L0,{component:t,level:-1,draggingCmp:d,dragParent:g}),x&&i.jsx("div",{ref:y,className:H("absolute w-full gs-utl-h-0.5",z.cmp),style:P})]})]})}),ff=p.forwardRef(function({children:t,className:n,...r},o){return i.jsx("div",{className:j(G("gs-layer-manager-after"),n),ref:o,...r,children:t})}),gf=p.forwardRef(function({children:t,className:n,...r},o){return i.jsx("div",{className:j(G("gs-layer-manager-before"),n),ref:o,...r,children:t})}),RN="gs-panel-layers",D0=p.memo(oe(function({className:t,...n}){const r=fe().sdkProps.children;return i.jsx(Zn,{className:j(RN,"gs-utl-overflow-auto",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-auto"),...n,children:i.jsx(ep,{children:o=>i.jsxs(i.Fragment,{children:[Yt(r,gf),i.jsx(N0,{...o,header:!1}),Yt(r,ff)]})})})})),e6=oe(function(){const t=Ce(),{editor:n}=fe(),r=Fo(),o=Sl(),s=o.sortedFonts;return n?i.jsx(mr,{items:s,selected:null,renderItem:a=>{const l=Nd(a);return i.jsxs(N,{col:!0,children:[i.jsx(D,{className:"gs-utl-text-lg",style:{fontFamily:l},children:a.familyLabel}),i.jsx(D,{children:a.familyLabel})]})},remove:a=>o.removeFont(a.family),add:o.sdkAddFonts&&r.hasType("font")?()=>Jd(n):void 0,titleAdd:t.t("fontManager.addFontToProject"),label:t.t("fontManager.projectFonts"),getItemId:a=>a.family,emptyState:t.t("fontManager.emptyProjectFonts")}):null}),j0=p.forwardRef(function({size:t="m",className:n,border:r=!0,children:o,...s},a){const l=G(z.bg,z.br,r&&`${re.b} ${re.rnd}`,t==="m"&&Le.xy,t==="s"&&"gjs-px-3 gjs-py-1",n);return i.jsx(N,{className:l,items:"center",space:"x2s",...s,ref:a,children:i.jsx(D,{grow:!0,children:o})})}),t6="gs-field-textarea";function I0(e){const{className:t,value:n,label:r,size:o,description:s,placeholder:a,readOnly:l,disabled:c,required:u,onChange:d}=e,f=La(e);return i.jsxs("div",{className:H(t6,t),children:[!!r&&i.jsx(Ln,{size:o,children:r}),!!s&&i.jsx(Ln,{size:o,as:"span",className:H(z.txtLowEmphasis),capitalize:!1,children:s}),i.jsx(j0,{size:o,children:i.jsx("textarea",{className:H(f),value:n,placeholder:a,readOnly:l,disabled:c,required:u,onChange:g=>d==null?void 0:d(g.target.value)})})]})}const Oc="gs-page-settings",n6=`${Oc}-header`,r6=`${Oc}-content`,o6=`${Oc}-footer`,V0="",H0=oe(function({className:t,classNameHeader:n,classNameContent:r,classNameFooter:o,page:s,size:a=gl.m}){const l=fe(),{isDarkTheme:c}=Zt(),u=Sl(),d=Ce(),[f,g]=p.useState(s),[h,m]=p.useState(()=>om(f,l)),[b,y]=p.useState(()=>d.t("update")),v=d.tScoped("pageManager.settings"),S=d.tScoped("pageManager.settings.fields"),w=l.editor,C={containerClassName:G("min-h-80"),size:a,padding:5,isDarkTheme:c,clean:!0},E=M=>m(F=>({...F,...M})),x=M=>{M.preventDefault();const{name:F,...U}=h;U.customCodeHead=FS(U.customCodeHead),U.customCodeBody=HS(U.customCodeBody),f?(p_(f,U),f.setName(F)):l.setProjectDataCustom({globalPageSettings:U}),y(d.t("updated")),setTimeout(()=>y(d.t("update")),2e3),tm(w),w.trigger(cn.pageSettingsUpdate,{page:f,data:{name:F,...U}})},P={tooltip:d.t("clear")},T=(f==null?void 0:f.getId())??V0,_=M=>{const F=w.Pages.get(M);g(F),m(om(F,l))},O=d_(f),k=[{id:V0,label:v("global")},...w.Pages.getAll().map(M=>({id:M.getId(),label:M.getName()}))];return i.jsx("form",{onSubmit:x,className:G(Oc,"h-full",t),children:i.jsxs(N,{col:!0,full:!0,className:G("gap-1 gs-utl-overflow-hidden"),nowrap:!0,children:[i.jsx(D,{className:G(n6,n,z.br,re.bb),children:i.jsx(Pe,{value:T,onChange:_,options:k,handlerSelected:M=>i.jsxs(i.Fragment,{children:[i.jsx("b",{children:d.t("pageManager.page")}),": ",M.label]})})}),i.jsxs(N,{col:!0,className:G(r6,"gap-5 overflow-y-auto",r),nowrap:!0,children:[!!T&&i.jsxs(i.Fragment,{children:[i.jsx(Re,{size:a,value:h.name,onChange:M=>E({name:M}),label:S("name.label"),description:S("name.description"),required:!0}),!O&&i.jsx(Re,{size:a,value:h.slug,onChange:M=>E({slug:lu(M)}),label:S("slug.label"),description:S("slug.description"),required:!0})]}),i.jsx(Re,{size:a,value:h.title,onChange:M=>E({title:M}),label:S("title.label"),description:S("title.description")}),i.jsx(I0,{size:a,value:h.description,onChange:M=>E({description:M}),label:S("description.label"),description:S("description.description")}),i.jsx(ei,{size:a,clear:P,value:h.favicon,onChange:M=>E({favicon:M}),onOpen:()=>{w.Assets.open({select(M){E({favicon:M.getSrc()}),w.Assets.close()}})},label:S("favicon.label"),description:S("favicon.description")}),i.jsx(Re,{size:a,value:h.keywords,onChange:M=>E({keywords:M}),label:S("keywords.label"),description:S("keywords.description")}),i.jsx(Re,{size:a,value:h.socialTitle,onChange:M=>E({socialTitle:M}),label:S("socialTitle.label"),description:S("socialTitle.description")}),i.jsx(ei,{size:a,clear:P,value:h.socialImage,onChange:M=>E({socialImage:M}),onOpen:()=>{w.Assets.open({select(M){E({socialImage:M.getSrc()}),w.Assets.close()}})},label:S("socialImage.label"),description:S("socialImage.description")}),i.jsx(I0,{size:a,value:h.socialDescription,onChange:M=>E({socialDescription:M}),label:S("socialDescription.label"),description:S("socialDescription.description")}),i.jsx(Ir,{language:"html",value:h.customCodeHead,onChange:M=>E({customCodeHead:M}),label:S("customCodeHead.label"),description:S("customCodeHead.description"),...C},`head-${T}`),i.jsx(Ir,{language:"html",value:h.customCodeBody,onChange:M=>E({customCodeBody:M}),label:S("customCodeBody.label"),description:S("customCodeBody.description"),...C},`body-${T}`),u.sdkShowProjectFonts&&!T&&i.jsx(e6,{})]}),i.jsx(N,{className:G(o6,"mt-auto",o,z.br,re.bt),children:i.jsx(Ie,{type:"submit",variant:"pr",size:"m2",full:!0,children:b})})]})})}),s6="gs-panel-page-settings",a6=p.memo(oe(function({className:t,page:n,...r}){return i.jsx(Zn,{className:j(s6,"gs-utl-overflow-hidden",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...r,children:i.jsx(zo,{children:i.jsx(H0,{className:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),page:n,size:gl.s,classNameHeader:Le.s,classNameContent:Le.s,classNameFooter:Le.s})})})})),hf="gs-page-item",F0=oe(function({page:t,rename:n,setRename:r,commandItems:o}){const s=fe(),a=Ce(),l=s.editor,{Pages:c}=l,{sdkPagesConfig:u}=s,d=u==null?void 0:u.settings,f=w=>a.t(`pageManager.${w}`),g=w=>c.select(w),h=w=>c.getSelected()===w,m=w=>w===n,b=w=>w.getName()||w.getId(),y=w=>{n==null||n.set({name:w}),r(void 0)},v=G("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"),S=()=>l.runCommand(de.setPageSettings,{page:t,isOpen:!0});return i.jsxs(N,{space:"s",items:"center",onClick:()=>g(t),className:G([hf,"group cursor-default",Le.xy,h(t)&&z.bgH,!h(t)&&z.hBgH2]),children:[i.jsx(D,{className:G(`${hf}__name truncate`),grow:!0,children:m(t)?i.jsx(pf,{value:b(t),onChange:y}):i.jsx(i.Fragment,{children:b(t)})}),i.jsxs(N,{className:`${hf}__actions`,space:"xs",onClick:os,items:"center",children:[!n&&d!==!1&&i.jsx(mt,{className:v,size:"xs",border:!1,title:f("settings.label"),onClick:S,block:!0,children:i.jsx(ne,{icon:Z.cog,size:se.s3x})}),h(t)&&!!o.length&&i.jsx(dr,{placement:"right-start",handler:i.jsx(ne,{icon:Z.dotsVertical,size:se.s}),title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:w})=>o.map(C=>i.jsx(fl,{label:it(C.label)?C.label({editor:l}):C.label,action:()=>{var E;w(),(E=C.cmd)==null||E.call(C,{page:t,editor:l})}},C.id))})]})]},t.getId())});function i6({dragging:e,dragRect:t}){const n=!!(e&&t),r=n?{top:t.y,left:0,marginLeft:0}:{};return{showIndicator:n,indicatorStyle:r}}var B0=(e=>(e.horizontal="horizontal",e.vertical="vertical",e))(B0||{});const mf="gs-cmp-sortable",l6=({items:e,direction:t,onDrop:n,renderItem:r})=>{const[o,s]=p.useState(null),[a,l]=p.useState(-1),[c,u]=p.useState(),d=p.useRef(null),{showIndicator:f,indicatorStyle:g}=i6({dragging:!!o,dragRect:c}),h=p.useMemo(()=>[],[e]);p.useEffect(()=>{const E=window.document,x=P=>P.key==="Escape"&&y(P);return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)},[]);const m=E=>x=>{x.button===0&&(d.current={x:x.clientX,y:x.clientY},s(E),x.target.setPointerCapture(x.pointerId))},b=E=>{if(!o||!d.current)return;const x=E.clientY;let P=-1;h.forEach((O,k)=>{const M=O.getBoundingClientRect();x>M.top+M.height/2&&(P=k)});const T=e.findIndex(O=>O.id===o.id);P<T&&(P+=1),P=Math.min(P,e.length-1),l(P);const _=h[P];if(_){const{height:O,top:k}=_.getBoundingClientRect(),M=x<k+O/2;u({y:_.offsetTop+(M?0:O),h:O})}},y=E=>{s(null),d.current=null,u(void 0);const x=E.target,{pointerId:P}=E;P&&(x==null||x.releasePointerCapture(P))},v=E=>{!o||!d.current||(c&&a!==-1&&(n==null||n(o,a)),y(E))},S=j(mf,"gs-utl-relative"),w=j(`${mf}__indicator`,z.cmp,"gs-utl-absolute gs-utl-w-full gs-utl-h-0.5"),C=E=>j(`${mf}__item`,f&&(o==null?void 0:o.id)===E.id&&"gs-utl-opacity-50 gs-utl-select-none");return i.jsxs(i.Fragment,{children:[i.jsx(N,{col:t==="vertical",className:S,children:e.map((E,x)=>i.jsx(D,{ref:P=>{P&&(h[x]=P)},className:C(E),onPointerDown:m(E),onPointerMove:b,onPointerUp:v,children:r(E)},E.id))}),f&&i.jsx("div",{className:w,style:g})]})},c6=({pages:e,commandItems:t,rename:n,setRename:r,editor:o})=>{if(!o.Pages.move)return e.map(c=>i.jsx(F0,{page:c,commandItems:t,rename:n,setRename:r},c.getId()));const s=(c,u)=>{o.Pages.move(c.entity,{at:u})},a=c=>i.jsx(F0,{page:c.entity,commandItems:t,rename:n,setRename:r},c.id),l=e.map(c=>({id:c.getId(),entity:c}));return i.jsx(l6,{items:l,direction:B0.vertical,onDrop:s,renderItem:a})},u6=({items:e,editor:t,sdkPageConfig:n})=>{const r=n==null?void 0:n.commandItems;return r===!1?[]:it(r)?r({items:e,editor:t}):r||e},bf="gs-panel-page-manager",z0=oe(function({pages:t,select:n,add:r,remove:o,header:s,resizable:a={bottom:!0},height:l=200}){const c=fe(),u=Kn(),d=Ce(),{sdkPagesConfig:f}=c,g=c.editor,[h,m]=p.useState(),b=M=>d.t(`pageManager.${M}`),y=f==null?void 0:f.add,v=f==null?void 0:f.duplicate,S=f==null?void 0:f.remove,w=M=>{if(os(M),y)return y({editor:g,rename:m});const F=t.length+1,U=r({name:`${b("page")} ${F}`,component:`<div>${b("newPage")} ${F}</div>`},{select:!0});U&&m(U)},C=({page:M})=>{if(S)return S({editor:g,page:M});u.confirm({title:b("deletePage"),content:b("confirmDelete"),confirmButton:{variant:"danger",children:b("deletePage")},onConfirm:()=>{const F=t.indexOf(M),U=t[F+1]||t[0];n(U),o(M)}})},E=({page:M})=>{if(v)return v({editor:g,page:M,rename:m});const F=M.getMainComponent(),U=r({name:`${M.getName()} (${b("copy")})`,component:F.clone()},{select:!0});U&&m(U)},x=[{id:"rename",label:b("rename"),cmd:({page:M})=>m(M)},v!==!1&&{id:"duplicate",label:b("duplicate"),cmd:E},t.length>1&&S!==!1&&{id:"remove",label:b("delete"),cmd:C}].filter(Boolean),P=u6({items:x,editor:g,sdkPageConfig:f}),T=E0(s,{collapsible:!0,label:b("pages"),icon:Z.textBoxMultiple}),_=a?a===!0?{top:!0,right:!0,bottom:!0,left:!0}:a:void 0,O=i.jsx(c6,{pages:t,commandItems:P,rename:h,setRename:m,editor:g}),k=_?i.jsx(Pc,{className:H([`${bf}__content`,"text-sm overflow-auto",re.bt,z.br]),height:l,..._,children:O}):O;return i.jsx(Uo,{classNameWrap:bf,className:H(`${bf}__header`,Le.xy,s===!1&&"gs-utl-hidden"),disabled:T&&T.collapsible===!1,handler:i.jsxs(N,{space:"s",items:"center",children:[!!T.icon&&i.jsx(D,{children:i.jsx(ne,{icon:T.icon,size:se.s})}),i.jsx(D,{grow:!0,children:T.label}),y!==!1&&i.jsx(xt,{title:b("add"),children:i.jsx(N,{onClick:w,className:H("cursor-pointer"),children:i.jsx(ne,{icon:Z.plus,size:se.s})})})]}),open:T?T.collapsed!==!0:!0,children:k})}),vf=p.forwardRef(function({children:t,className:n,...r},o){return i.jsx("div",{className:j(G("gs-page-manager-after"),n),ref:o,...r,children:t})}),yf=p.forwardRef(function({children:t,className:n,...r},o){return i.jsx("div",{className:j(G("gs-page-manager-before"),n),ref:o,...r,children:t})}),d6="gs-panel-pages",U0=p.memo(oe(function({className:t,header:n,height:r,resizable:o,...s}){const a=fe().sdkProps.children;return i.jsx(Yn,{className:j(d6,t),...s,children:i.jsx(tp,{children:l=>i.jsxs(i.Fragment,{children:[Yt(a,yf),i.jsx(z0,{header:n,height:r,resizable:o,...l}),Yt(a,vf)]})})})})),p6="gs-panel-pages-layers",f6=p.memo(oe(function({className:t,panelPagesProps:n,panelLayersProps:r,...o}){const{showPages:s}=fe(),a=Ce(),{className:l,...c}=n||{},u=E0(r==null?void 0:r.header,{icon:Z.layers,collapsible:!1,label:a.t("layerManager.layers"),className:j(re.bb,z.br)});return i.jsxs(Zn,{className:j(p6,"gs-utl-flex gs-utl-flex-col gs-utl-h-full",t),...o,children:[s&&i.jsx(U0,{className:j(l,re.bb,z.br),...c}),i.jsx(D0,{...r,header:u})]})})),g6="gs-trait-custom",h6=oe(function({trait:t,editor:n}){const[,r]=p.useState(0),o=p.useRef(null),s=t.get("component"),a=t.get("render"),l=t.target,c=o.current;return p.useEffect(()=>{if(l){let u=()=>{},d=()=>{};const f=()=>{d(),r(g=>++g)};if(l.on("change",f),!s&&a&&c){const g=b=>c.appendChild(b),h=b=>c.removeChild(b),m=a({editor:n,component:l,trait:t,addEl:g,removeEl:h,onUpdate:b=>{d=b}});m instanceof HTMLElement?(g(m),u=()=>h(m)):it(m)&&(u=()=>m())}return()=>{l.off("change",f),u()}}},[l,c]),l?s?i.jsx(s,{trait:t,component:l,editor:n}):a?i.jsx("div",{className:g6,ref:o}):null:null});function W0({className:e,options:t,value:n,name:r,label:o,border:s,hideCaret:a,size:l="s",autoFocus:c,open:u,allowNew:d,onChange:f,onBlur:g,placeholder:h}){const[m,b]=p.useState(null),[y,v]=p.useState(null),{styles:S,attributes:w}=xs(m,y,Md),[C,E]=p.useState(""),x=La(),P=C===""?t:t.filter(U=>U.label.toLowerCase().includes(C.toLowerCase())),T=U=>E(U.target.value),_=U=>U==null?void 0:U.label,O=d&&C.length>0&&!P.some(U=>U.label===C),k=it(d)?d(C):d,M={minWidth:`${m==null?void 0:m.offsetWidth}px`,maxHeight:200},F=()=>g==null?void 0:g();return i.jsxs("div",{className:H("w-full",e),children:[!!o&&i.jsx(Ln,{size:l,children:o}),i.jsxs(ms,{value:n,onChange:f,name:r,nullable:!0,children:[i.jsx(j0,{size:l,ref:b,border:s,children:i.jsxs(N,{nowrap:!0,children:[i.jsx(ms.Input,{autoFocus:c,className:x,displayValue:_,onChange:T,onBlur:F,placeholder:h}),!a&&i.jsx(ms.Button,{children:i.jsx(ne,{icon:Z.chevronDown,size:se.sx})})]})}),i.jsx(ms.Options,{static:u,className:H1,ref:v,style:S.popper,...w.popper,children:i.jsxs(Kt,{className:H("h-full"),padding:!1,style:M,children:[O&&i.jsx(ms.Option,{value:{id:null,label:C},children:({active:U})=>i.jsx(F1,{option:{id:null,label:k},active:U,selected:n})}),!O&&P.length===0&&i.jsx("div",{className:H(Le.xy),children:"No items found"}),P.map(U=>i.jsx(ms.Option,{value:U,children:({active:A})=>i.jsx(F1,{option:U,active:A,selected:n})},U.id))]})})]})]})}const m6="page://",G0="#",Tc="mailto:",wf="subject=",Sf="tel:",K0=e=>e.startsWith(Sf)?"phone":e.startsWith(Tc)?"email":e.startsWith(m6)?"pages":e.startsWith(G0)?"elements":"url",q0=e=>`${e.getName()} - #${e.getId()}`,b6=oe(function({trait:t}){const n=t.getValue(),r=fe(),{isSelectingTarget:o}=r,[,s]=p.useState(0),[a,l]=p.useState(()=>K0(n)),[c,u]=p.useState(""),[d,f]=p.useState(""),[g,h]=p.useState(""),[m,b]=p.useState(!0),[y,v]=p.useState([]),S=Jt(),w=Ce(),C=S.Pages.getAll(),E=w.tScoped("traitManager.traits.labels"),x=()=>s(L=>++L),P=L=>{t.setValue(L)},T=L=>{l(L),u(""),f(""),h(""),P("")},_=L=>{P(L),x()},O=L=>{L&&(P(L.id),x())},k=L=>{P(`${Sf}${L}`),h(L)},M=L=>{P(`${Tc}${L}${d?`?${wf}${d}`:""}`),u(L)},F=L=>{P(`${Tc}${c}${L?`?${wf}${L}`:""}`),f(L)},U=()=>{r.setSelectingTarget(!o)},A=L=>{const W=L.replace(G0,""),K=S.Components.componentsById[W];return{id:L,label:K?q0(K):L}};return p.useEffect(()=>{var W;const L=[];if(m){const K=["path","br","b","u","i","strike"],$=(W=S.Pages.getSelected())==null?void 0:W.getMainComponent();$==null||$.forEachChild(V=>{!V.is("comment")&&!V.is("textnode")&&!K.includes(V.get("tagName"))&&L.push({id:`#${V.getId()}`,label:q0(V)})})}v(L)},[m]),p.useEffect(()=>{let L=()=>{};const W=()=>{L(),S.stopCommand(kl)};return o&&(L=DS(W),S.runCommand(kl,{onSelect:K=>P(`#${K.getId()}`)})),W},[o]),p.useEffect(()=>{if(!n)return;const L=K0(n);switch(L){case"phone":h(n.replace(Sf,""));break;case"email":{const[W,K=""]=n.replace(Tc,"").split("?");u(W),f(K.replace(wf,""));break}}l(L)},[n]),i.jsx(ho,{onChange:T,classNamePanel:H("gjs-p-1"),value:a,tabs:[{id:"url",label:i.jsx(ne,{icon:Z.link,size:se.s}),content:i.jsx(Re,{placeholder:"eg. https://google.com",value:n,label:"URL",onChange:P,size:"s",type:"url"})},{id:"pages",label:i.jsx(ne,{icon:Z.textBoxMultiple,size:se.s}),content:i.jsx(Pe,{size:"s",options:C.map(L=>({id:`page://${L.getId()}`,label:L.getName()})),value:n,onChange:_,label:"Page"})},{id:"elements",label:i.jsx(ne,{icon:Z.viewDayOutline,size:se.s}),content:i.jsxs(N,{space:"s",col:!0,children:[i.jsx(Ln,{size:"s",children:"Element ID"}),i.jsxs(N,{space:"xs",nowrap:!0,children:[m?i.jsx(W0,{options:y,onChange:O,value:A(n),placeholder:w.t("selectList")}):i.jsx(Re,{size:"s",placeholder:"eg. #my-element-in-page",value:n,onChange:P,className:H("flex-1")}),i.jsx(mt,{title:w.t("selectTarget"),size:"m2",active:o,onClick:U,className:H("h-7"),children:i.jsx(ne,{icon:Z.target,size:se.sx})})]}),i.jsx(ni,{value:m,onChange:b,label:E("showList")})]})},{id:"email",label:i.jsx(ne,{icon:Z.email,size:se.s}),content:i.jsxs(N,{space:"s",col:!0,children:[i.jsx(Re,{placeholder:"eg. mail@gmail.com",value:c,onChange:M,size:"s",label:"Email",type:"email"}),i.jsx(Re,{placeholder:"eg. My subject",value:d,onChange:F,label:"Subject",size:"s"})]})},{id:"phone",label:i.jsx(ne,{icon:Z.phone,size:se.s}),content:i.jsx(Re,{size:"s",type:"tel",label:"Phone",placeholder:"eg. +55123456789",value:g,onChange:k})}]},a)});function v6({trait:e}){const[t,n]=p.useState(),r=e.get("properties"),o=e.get("addItem"),s=e.get("labelItem"),a=e.getValue(),l=a.findIndex(c=>c.id===(t==null?void 0:t.id));return i.jsx(mr,{items:a,selected:l>-1?t:null,add:()=>{const c=a.length+1,u=o?o(c):{id:`opt${c}`,label:`New option ${c}`};e.setValue([...a,u])},select:n,move:(c,u)=>{const d=e.getValue().filter(f=>f.id!==c.id);d.splice(u,0,c),e.setValue(d)},remove:c=>{const u=e.getValue().filter(d=>d.id!==c.id);e.setValue(u,{removed:c})},label:e.getLabel({locale:!0}),renderItem:c=>s?s(c):c.label,children:i.jsx(N,{space:"m",col:!0,children:!!t&&r.map(c=>{const{name:u,getValue:d}=c,f=c.setValue,g=c.label||u,h=a[l];if(!h)return null;const m=h[u],b=d?d(m):m,y=S=>{const w={...h};h[u]=f?f(S,b):S,e.setValue([...a],{item:h,previous:w}),u==="id"&&n(h)};let v=i.jsx(Re,{label:g,value:b,onChange:y});switch(c.type){case"select":v=i.jsx(Pe,{label:g,options:c.options,value:b,onChange:y})}return i.jsx(p.Fragment,{children:v},u)})})})}const y6="gs-trait-custom-type",w6=oe(function({trait:t,editor:n}){const r=p.useRef(null),o=t.getType(),s=t.target,{Traits:a}=n,l=a.getType(o),c=!!(s&&l),u=r.current;return p.useEffect(()=>{if(l&&u&&s){const d=new l({model:t,config:a.getConfig(),attributes:t.get("attributes")}),f=d.render().el;return u.appendChild(f),d.listenTo(s,"change",()=>d.postUpdate()),()=>{u.removeChild(f),d.removeView()}}},[u]),c&&i.jsx("div",{className:y6,ref:r})}),_c=e=>sr((e||"").replace(/-/g," ")),Y0=e=>({size:"s",tip:e.get("tip")}),Us=(e,t)=>({...Y0(e),type:e.getType(),value:e.getValue(),label:e.get("label")!==!1&&_c(e.getLabel({locale:!0})),placeholder:(t==null?void 0:t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`))||e.get("placeholder")||"",onChange:(n,r)=>e.setValue(n,{partial:r})}),Z0=e=>{const t=e.get("labelToTitle");return{...Us(e),options:e.getOptions().map(n=>{const r=n.labelReact||n.name||n.label||n.value;return ft(n)?{id:n,label:n}:{id:n.id||n.value,title:t?r:n.title,icon:n.icon,label:t?"":r}}),onChange:n=>e.setValue(n)}},S6=e=>({...Us(e),min:e.get("min"),max:e.get("max"),step:e.get("step"),units:e.get("units"),onChange:(t,n)=>{e.setValue(n?t:parseFloat(t),{partial:n})}}),C6=e=>({children:_c(e.getLabel()||e.get("text")||e.get("labelButton")),onClick:()=>{const t=e.em.Editor,n=e.get("command");ft(n)?t.runCommand(n):n==null||n(t,e)},full:!0}),x6=e=>({...Y0(e),value:!!e.getValue({useType:!0}),label:_c(e.getLabel()),onChange:t=>e.setValue(t)}),E6=e=>({language:"css",...e.get("typeProps")||{},value:e.getValue(),label:_c(e.getLabel()),onChange:n=>e.setValue(n)}),P6=(e,t)=>{const n=e.get("typeProps")||{};return{...Us(e,t),isContain:!0,onOpen(){const r=t==null?void 0:t.Assets;r==null||r.open({select(o){e.setValue(o.getSrc()),r.close()}})},btnLabel:e.get("text"),...n}};function O6(e,t,n={}){var s;const r=e.get("visible"),o=e.getType();if(it(r)&&r({component:e.target,trait:e})===!1)return null;switch(o){case"text":return i.jsx(Re,{...Us(e,t)});case"select":return i.jsx(Pe,{...Z0(e)});case"number":return i.jsx(_e,{...S6(e)});case"checkbox":return i.jsx(ni,{...x6(e)});case"color":return i.jsx(Hr,{...Us(e)});case"button":return i.jsx(Ie,{...C6(e)});case"radio":return i.jsx(Ft,{...Z0(e)});case"code":return i.jsx(Ir,{...E6(e),...n},((s=t==null?void 0:t.getSelected())==null?void 0:s.getId())||"");case"image":case"file":return i.jsx(ei,{...P6(e,t)});case"stack":return i.jsx(v6,{trait:e});case"href":return i.jsx(b6,{trait:e});case"custom":return i.jsx(h6,{editor:t,trait:e});default:return!!t.Traits.getType(o)?i.jsx(w6,{editor:t,trait:e}):i.jsx(Re,{...Us(e,t)})}}const Cf="gs-trait-manager",X0=({trait:e,isDarkTheme:t})=>i.jsx(D,{className:H(`${Cf}-field gs-utl-mb-2 gs-utl-w-full`),children:O6(e,e.em.getEditor(),{isDarkTheme:t})});function T6({traits:e,className:t}){var c;const n=Jt(),{isDarkTheme:r}=Zt(),o=n.Traits.getTraitsByCategory(e),s=(c=o.find(u=>!u.category))==null?void 0:c.items,a=o.filter(u=>u.category),l=H("gs-utl-text-center");return i.jsx(N,{className:H(Cf,t),col:!0,children:n.getSelected()?e.length?i.jsxs(i.Fragment,{children:[s==null?void 0:s.map(u=>i.jsx(X0,{trait:u,isDarkTheme:r},u.id)),a.map(({category:u,items:d},f)=>i.jsx(Uo,{open:!!(u!=null&&u.get("open")),onChange:({open:g})=>u==null?void 0:u.set({open:g}),handler:u==null?void 0:u.getLabel(),handlerIcon:u==null?void 0:u.get("icon"),classNameContent:"gs-utl-p-2",classNameWrap:`${Cf}-category -gs-utl-mx-2`,className:g=>H(Ou.itemList({index:f+(s?1:0),open:g,length:a.length})),children:d.map(g=>i.jsx(X0,{trait:g,isDarkTheme:r},g.id))},u==null?void 0:u.id))]}):i.jsx(D,{className:l,children:"No properties available"}):i.jsx(D,{className:l,children:n.t("traitManager.empty")})})}const xf=oe(T6),_6="gs-panel-properties",A6=p.memo(oe(function({className:t,...n}){return i.jsx(Zn,{className:j(_6,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-auto"),...n,children:i.jsx(rp,{children:r=>i.jsx(xf,{...r})})})})),M6=async({html:e="",css:t="",el:n})=>{const r=`<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`,o={};if(document.body.attachShadow){const s=n.shadowRoot||n.attachShadow({mode:"open"});s.innerHTML=r}return o},k6=oe(function({rule:t,onSelect:n,onRemove:r,className:o}){const s=p.useRef(null),l=fe().editor,c=Ce(),u=t.getDevice(),d=t.getState(),{isDarkTheme:f}=Zt(),[g,h]=p.useState(t.toCSS({allowEmpty:!0})),[m,b]=p.useState(g),y=t.selectorsToString(),v=()=>{l.select(),setTimeout(()=>l.Selectors.select(t)),n==null||n()},S=()=>{l.Css.remove(t),r==null||r()},w=()=>{if(m){const C=l.Parser.parseCss(m)[0];C&&(t.setStyle(C.style),h(m))}};return p.useEffect(()=>{if(s.current){const C=s.current;M6({el:C,html:'<div class="prv-rule">Preview</div>',css:`
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${g}
        `})}},[s,g]),i.jsx(Kt,{padding:!1,className:G("overflow-hidden max-w-full group",o),children:i.jsxs(N,{col:!0,space:"xs",children:[i.jsx(N,{className:G("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"),justify:"center",items:"center",children:i.jsx("div",{ref:s,className:G("relative flex items-center justify-center")})}),i.jsxs(N,{className:G("gjs-p-1 w-full"),col:!0,space:"s",children:[i.jsxs(N,{nowrap:!0,items:"center",space:"xs",full:!0,children:[i.jsx(D,{grow:!0,children:i.jsx("pre",{className:G("text-xs bg-white/10",z.txt,re.rnd,Le.xyS),children:y})}),!!u&&u.getWidthMedia()&&i.jsx(D,{children:i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[c.t("deviceManager.device"),": ",i.jsx("b",{children:u.getName()})]}),children:i.jsx(ne,{icon:Z.cellphoneLink,size:se.sx})})}),!!d&&i.jsx(D,{children:i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[c.t("selectorManager.state"),": ",i.jsx("b",{children:d.getLabel()})]}),children:i.jsx(ne,{icon:Z.flare,size:se.sx})})})]}),i.jsxs(N,{nowrap:!0,className:G($e.txtEllips),space:"s",children:[i.jsx(D,{className:G("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),grow:!0,children:i.jsx(Ie,{onClick:v,className:G("text-sm gjs-mr-auto"),size:"m2",full:!0,children:c.t("select")})}),i.jsx(dr,{overlay:!0,title:!1,padding:!1,buttonAs:"span",handler:i.jsx(mt,{title:c.t("selectorManager.showCSS"),children:i.jsx(ne,{icon:Z.codeBraces,size:se.sx})}),children:({close:C})=>i.jsxs(N,{className:G("relative w-80 h-48"),col:!0,children:[i.jsx(D,{grow:!0,children:i.jsx(Ir,{value:Zp(g),onChange:b,language:"css",padding:5,isDarkTheme:f,clean:!0})}),i.jsx(Ie,{className:G("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{w(),C()},children:c.t("update")})]})}),i.jsx(sf,{onConfirm:S,className:G("w-48"),children:i.jsx(mt,{title:c.t("selectorManager.deleteStyle"),children:i.jsx(ne,{icon:Z.delete,size:se.sx})})})]})]})]},t.cid)})}),L6=oe(function(){const[t]=rc(),n=Kn(),r=Ce(),[o,s]=p.useState(""),[a,l]=p.useState(""),u=fe().editor,[d,f]=p.useState(u.Css.getRules("")),g=u.Devices.getDevices().map(b=>({id:b.id,label:b.getName()})),h=d.filter(b=>{var y;return!(o&&!as(b.selectorsToString(),o)||a&&((y=b.getDevice())==null?void 0:y.id)!==a)}),m=()=>f(u.Css.getRules(""));return i.jsxs(N,{col:!0,space:"m",children:[i.jsxs(N,{items:"center",space:"m",children:[i.jsx(D,{children:i.jsx(Re,{size:"s",type:"search",value:o,onInput:s,placeholder:`${r.t("selectorManager.searchStyle")}...`})}),i.jsx(D,{children:i.jsx(Pe,{includeEmpty:!0,size:"s",value:a,options:g,onChange:l,emptyState:r.t("deviceManager.allDevices"),handlerSelected:b=>i.jsxs(N,{space:"s",items:"center",children:[i.jsx(ne,{icon:Z.cellphoneLink,size:se.sx}),i.jsx("span",{children:b.label})]})})})]}),i.jsx(D,{className:G("gs-utl-h-[75vh] w-full overflow-auto"),children:h.length?i.jsx(fi,{data:h,listClassName:G("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(b,y)=>i.jsx(k6,{rule:y,onRemove:m,onSelect:n.close},y.cid)},t):i.jsx(N,{justify:"center",children:r.t("modals.styleCatalog.noStyles")})})]})});function J0({className:e,value:t,active:n,unstyled:r,activable:o,onChange:s,onActive:a,...l}){const[c,u]=p.useState(n);p.useEffect(()=>{u(n)},[n]);const d=g=>{a==null||a(g),u(g)},f=g=>{s(g),d(!1)};return i.jsx("div",{className:H("truncate",e),...l,onDoubleClick:()=>o&&d(!0),children:c?i.jsx(pf,{className:H(r&&$e.noFocusOut),value:t,onChange:f}):i.jsx(i.Fragment,{children:t})})}const $6=oe(function({selector:t,className:n,removable:r,toggleable:o}){const s=Ce(),a=fe(),[l,c]=p.useState(),[u,d]=p.useState(t.getActive()),f=a.editor,{Selectors:g}=f,h=t.getLabel(),m=i.jsx(ne,{icon:Z.dotsVertical,size:se.sx}),b=()=>{g.removeSelected(t)},y=x=>{l&&g.rename(l,x),c(void 0)},v=()=>{g.duplicateSelected(t)},S=()=>{const x=!t.getActive();d(x),t.setActive(x)},C=[{id:"rename",label:s.t("rename"),action:()=>c(t)},{id:"duplicate",label:s.t("duplicate"),action:v},r&&{id:"delete",label:s.t("delete"),action:b},o&&{id:"active",label:s.t(u?"disable":"enable"),action:S}].filter(Boolean),E=(x,P)=>T=>{x(),it(P)&&P(T)};return i.jsx(vt,{className:G(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative",z.sel,n]),s:"s",children:i.jsxs(N,{items:"center",children:[i.jsx(D,{className:G("gjs-mr-4",!l&&!u&&"opacity-50 line-through"),children:i.jsx(J0,{value:h,onChange:y,active:!!l,unstyled:!0})}),i.jsx(N,{className:G("absolute h-full right-0 transition-opacity",z.sel,z.selBr,re.bl),children:i.jsx(dr,{handler:m,title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:x})=>C.map(P=>i.jsx(fl,{className:G(z.txt),label:P.label,action:E(x,P.action)},P.id))})})]})})}),N6=e=>{var r,o;let t=(r=e==null?void 0:e.selectorsToString)==null?void 0:r.call(e);const n=(o=e==null?void 0:e.getAtRule)==null?void 0:o.call(e);return t&&n&&(t=`${n} {
	${t}
}`),t},Q0=oe(function({selectedState:t,states:n,addSelector:r,setState:o,styleCatalog:s,stateSelector:a}){var X,J,ie;const l=Ce(),c=Kn(),[u,d]=p.useState(!1),{toggleCssPanel:f,isCssPanelActive:g,editor:h}=fe();if(!h)return null;const{Selectors:m,Styles:b}=h,y=m.getComponentFirst(),v=m.getSelectedAll(),S=m.getAll({array:!0}),w=h.getSelectedAll(),C=n.map(q=>({id:q.getName(),label:q.getLabel()})),E=h.getModel(),x=b.getSelected(),P=(X=x==null?void 0:x.getDevice)==null?void 0:X.call(x),T=(J=x==null?void 0:x.getState)==null?void 0:J.call(x),_=v.reduce((q,Y)=>{const R=q.indexOf(Y);return R>=0&&q.splice(R,1),q},S),O=H("overflow-hidden gjs-mb-2",re.b,re.rnd,z.br),k=H(z.bA),M=H("flex h-full cursor-pointer gjs-p-2",re.br,z.br),F=`${z.bgA}`,U=N6(x),A=v.length>0,L=w.length>0,W=A||L,K=y&&L||!y&&!A,$=K?"Components":"Selectors",V=q=>l.t(`selectorManager.${q}`),I=l.t("modals.styleCatalog.title"),B=()=>c.open({title:I,content:i.jsx(L6,{})}),te=_.filter(q=>q.isClass()).map(q=>({id:q,label:q.getLabel()}));return i.jsxs(i.Fragment,{children:[i.jsxs(N,{items:"center",className:H("gjs-mb-2"),children:[i.jsx(D,{grow:!0,children:i.jsxs(N,{items:"center",space:"s",children:[i.jsx(D,{children:V("selection")}),s!==!1&&i.jsx(D,{children:i.jsx(xt,{className:H("cursor-pointer"),onClick:B,title:I,children:i.jsx(ne,{icon:Z.paletteSwatch,size:se.s})})})]})}),!!x&&a!==!1&&i.jsx(D,{children:i.jsx(Pe,{size:"s",value:t,options:C,includeEmpty:!0,onChange:o,emptyState:`- ${V("state")} -`,className:H([t&&z.bA])})})]}),W?i.jsxs(i.Fragment,{children:[i.jsxs(N,{items:"stretch",space:"xs",className:H(O,!K&&k),children:[i.jsx(xt,{title:V(A?"applyOnSelector":"noSelectors"),className:H(M,!K&&F),onClick:()=>A&&m.setComponentFirst(!1),children:i.jsx(N,{className:H("h-full"),items:"center",children:i.jsx(ne,{icon:Z.tag,size:se.sx})})}),i.jsx(D,{grow:!0,children:i.jsx(N,{className:H("h-full gjs-pr-1"),items:"center",children:u?i.jsx(W0,{autoFocus:!0,open:!0,hideCaret:!0,border:!1,options:te,allowNew:V("addNewSelector"),onBlur:()=>setTimeout(()=>d(!1),100),onChange:q=>{q&&(r(q.id||q.label),d(!1))}}):i.jsxs(i.Fragment,{children:[L&&i.jsx(mt,{title:V("addNewSelector"),variant:"out",size:"xs",className:"gs-utl-p-0.5",onClick:()=>d(!0),block:!0,children:i.jsx(ne,{icon:Z.plus,size:se.sx})}),v.map(q=>i.jsx($6,{selector:q,removable:L,toggleable:L&&v.filter(Y=>Y.getActive()||Y===q).length>1},q.toString()))]})})})]}),i.jsxs(N,{items:"stretch",space:"xs",className:H(O,K&&k),children:[i.jsx(xt,{title:V(L?"applyOnComponents":"noComponents"),onClick:()=>L&&m.setComponentFirst(!0),className:H(M,K&&F),children:i.jsx(N,{className:H("h-full"),items:"center",children:i.jsx(ne,{icon:Z.targetVariant,size:se.sx})})}),i.jsx(D,{grow:!0,className:H("gjs-py-0.5"),children:i.jsx(N,{className:H("h-full gjs-pr-1"),items:"center",children:w.map(q=>i.jsx(vt,{s:"s",className:H(["gjs-ml-1 gjs-my-0.5 cursor-default",z.cmp]),onPointerEnter:()=>E.setHovered(q),onPointerOut:()=>E.setHovered(),label:q.getName()},q.getId()))})})]}),i.jsxs(N,{space:"s",items:"center",justify:"between",children:[i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[i.jsx("div",{children:V("selected")}),i.jsx("pre",{className:H("gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-text-gray-400",re.rnd,Le.xyS),children:U}),i.jsx("div",{className:H("gs-utl-text-xs gs-utl-mt-1.5"),children:V("currentSelection")})]}),children:i.jsx(vt,{className:H(re.b,re.rnd,z.br),s:"xs",nopad:!0,block:!0,children:i.jsx(ne,{icon:Z.target,size:se.sx})})}),i.jsx(D,{className:H("text-sm"),children:i.jsx(vt,{className:H(re.b,re.rnd,z.br),s:"xs",nopad:!0,children:i.jsxs(N,{space:"xs",items:"center",nowrap:!0,children:[!!P&&P.getWidthMedia()&&i.jsxs(i.Fragment,{children:[i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[V("device"),": ",i.jsx("b",{children:P.getName()})]}),children:i.jsx(ne,{icon:Z.cellphoneLink,size:se.sx})}),i.jsx(D,{className:H("opacity-30"),children:"|"})]}),i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[V("target"),": ",i.jsx("b",{children:$}),i.jsxs("span",{className:H("text-xs opacity-75"),children:[" ",(ie=x==null?void 0:x.selectorsToString)==null?void 0:ie.call(x,{skipState:1})]})]}),children:i.jsx(ne,{icon:K?Z.targetVariant:Z.tag,size:se.sx})}),!!T&&i.jsxs(i.Fragment,{children:[i.jsx(D,{className:H("opacity-30"),children:"|"}),i.jsx(xt,{title:i.jsxs(i.Fragment,{children:[V("state"),": ",i.jsx("b",{children:T.getLabel()})]}),children:i.jsx(ne,{icon:Z.flare,size:se.sx})})]})]})})}),i.jsx(mt,{title:l.t("toggleCss"),onClick:f,active:g,size:"s",children:i.jsx(ne,{icon:Z.codeBraces,size:se.sx})})]})]}):i.jsxs(N,{className:H("text-sm leading-6 gjs-my-5"),col:!0,children:[i.jsx(D,{children:V("noSelecton")}),i.jsxs("ul",{className:H("list-disc gjs-pl-5 gjs-mt-2"),children:[i.jsx("li",{children:V("selectFromCanvas")}),i.jsx("li",{children:V("selectFromList")})]})]})]})}),D6="gs-panel-selectors",j6=p.memo(oe(function({className:t,styleCatalog:n,stateSelector:r,...o}){return i.jsx(Zn,{className:j(D6,t),...o,children:i.jsx(np,{children:s=>i.jsx(Q0,{...s,styleCatalog:n,stateSelector:r})})})})),R0=p.forwardRef(function({children:t,className:n,content:r,...o},s){return i.jsx("div",{className:j(G("gs-design-manager-tab"),n),ref:s,...o,children:t})}),Ef=H("overflow-y-auto overflow-x-hidden max-w-full"),ey=oe(function(){var w,C,E;const{isCssPanelActive:t,selectedDesignerTab:n,showSelectors:r,setSelectedDesignerTab:o,sdkProps:s,sdkOptions:a,isProjectTypeEmail:l}=fe(),c=Ce(),u=H(t&&"hidden"),f=(((w=Yt(s.children,R0))==null?void 0:w.filter(Boolean))||[]).map(({props:x},P)=>({id:x.id,label:x.label,content:i.jsx(zo,{children:x.children}),order:x.order??2+P+1})),g=(C=a.designPanel)==null?void 0:C.propsInStyles,h=(E=a.designPanel)==null?void 0:E.hideTabs,m=g===!0||l&&g!==!1,b=h===!0||l&&h!==!1,y=c.t("traitManager.panelLabel"),S=[{id:"style",label:c.t("styleManager.panelLabel"),order:1,content:i.jsxs(N,{col:!0,full:!0,children:[!!r&&i.jsx(D,{className:H(Le.s,re.bb,z.br),children:i.jsx(np,{children:x=>i.jsx(Q0,{...x})})}),m&&i.jsx(D,{className:Ef,children:i.jsx(Uo,{handler:y,className:fv(!1),sticky:!0,open:!0,children:i.jsx(rp,{children:x=>i.jsx(xf,{...x,className:H("gjs-p-2",z.br,re.bb)})})})}),i.jsx(D,{className:Ef,grow:!0,children:i.jsx(fb,{children:x=>i.jsxs(i.Fragment,{children:[t&&i.jsx(Nv,{}),i.jsx(gv,{className:u,...x})]})})})]})},!m&&{id:"props",label:y,order:2,content:i.jsx(N,{col:!0,full:!0,children:i.jsx(D,{className:H(Le.s,Ef),children:i.jsx(rp,{children:x=>i.jsx(xf,{...x})})})})},...f].filter(Boolean).sort((x,P)=>x.order-P.order);return i.jsx(N,{col:!0,full:!0,nowrap:!0,children:i.jsx(ho,{value:n,onChange:o,tabs:S,className:H(b&&"hidden")})})}),I6="gs-panel-sidebar-tabs",V6=p.memo(oe(function({className:t,...n}){return i.jsx(Zn,{className:j(I6,"gs-utl-h-full",t),...n,children:i.jsx(ey,{})})})),H6="gs-panel-styles",F6=p.memo(oe(function({className:t,...n}){const{isCssPanelActive:r}=fe(),o=j(r&&" gs-utl-hidden");return i.jsx(Zn,{className:j(H6,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-auto"),...n,children:i.jsx(fb,{children:s=>i.jsxs(i.Fragment,{children:[r&&i.jsx(Nv,{}),i.jsx(gv,{className:o,...s})]})})})})),B6="gs-panel-templates",z6=p.memo(oe(function({className:t,templates:n,content:r,onSelect:o,...s}){const a=gm(),{projectTypeFilter:l}=a;let c=n??a.templates;return c=c==null?void 0:c.map(u=>({...u,isTemplate:!0})),p.useEffect(()=>{n||a.loadTemplates()},[n]),i.jsx(Zn,{className:j(B6,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:j("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...s,children:i.jsx(N,{className:G("relative gs-utl-h-full"),nowrap:!0,col:!0,space:"m",children:i.jsx(N,{className:G("gs-utl-h-[75vh] gs-utl-flex-grow"),nowrap:!0,col:!0,space:"m",children:i.jsx(g0,{templates:c,projectType:Me[l],content:r,onSelect:o,skipProjectNamePopover:!0})})})})})),U6="gs-cmp-row",W6=p.memo(function({className:t,children:n,full:r,...o}){return i.jsx(Yn,{className:j(U6,z.bg,"gs-utl-flex",r&&"gs-utl-w-full",t),...o,children:vn(n)})}),G6="gs-cmp-select-field",K6=p.memo(oe(function({className:t,style:n,label:r,name:o,value:s,options:a,size:l,onChange:c,required:u,disabled:d,emptyState:f,editorEvents:g}){const{editor:h}=fe(),[m,b]=p.useState(()=>({required:u,disabled:d,style:n,className:t,label:r,name:o,value:s,options:a,size:l,emptyState:f})),y=v=>{c({value:v,editor:h,state:m,setState:S=>b(w=>({...w,...S}))})};return Ws({editor:h,editorEvents:g,localState:m,setLocalState:b}),i.jsx(Pe,{classNameContainer:j(G6,m.className),style:m.style,label:m.label,name:m.name,value:m.value??"",options:m.options??[],size:m.size,required:m.required,disabled:m.disabled,emptyState:m.emptyState,onChange:y})})),q6="gs-cmp-select-field",Y6=p.memo(oe(function({className:t,style:n,label:r,name:o,value:s,size:a,onChange:l,required:c,disabled:u,emptyState:d,editorEvents:f}){const{editor:g}=fe(),[h,m]=p.useState(()=>({required:c,disabled:u,style:n,className:t,label:r,name:o,value:s,size:a,emptyState:d})),b=y=>{l({value:y,editor:g,state:h,setState:v=>m(S=>({...S,...v}))})};return Ws({editor:g,editorEvents:f,localState:h,setLocalState:m}),i.jsx(Hp,{classNameContainer:j(q6,h.className),style:h.style,label:h.label,name:h.name,value:h.value??"",size:h.size,required:h.required,disabled:h.disabled,emptyState:h.emptyState,onChange:b})})),Z6="gs-sidebar-bottom",X6=p.memo(oe(function({children:t,className:n,style:r,height:o,...s}){const{isInPreview:a,isBottomSidebarOpen:l}=fe(),c=o??35,u=p.useMemo(()=>({height:c,marginBottom:a||!l?`-${c}px`:0,...r}),[a,l,r]);return i.jsx(Yn,{className:j(Z6,"gs-utl-flex gs-utl-transition-spacing",re.bt,z.br,n),style:u,...s,children:t?vn(t):void 0})})),J6=oe(function(t){var w;const{leftSidebarSize:n,setLeftSidebarSize:r,editor:o,isInPreview:s,isLeftSidebarOpen:a,sdkProps:l,showPages:c}=fe(),u=l.children,d=((w=t.style)==null?void 0:w.width)??t.width,f=d??n,g=t.resizable===!1,h=j(t.className,"gs-utl-h-full gs-utl-transition-spacing",re.br,z.br),m=j("gs-utl-w-full",re.bb,z.br),b=j("gs-utl-w-full gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),y=p.useMemo(()=>({marginLeft:s||!a?`-${f}px`:0,...t.style}),[f,s,a,t.style]),v=()=>o==null?void 0:o.refresh(),S=(C,E,x)=>{r(x.getBoundingClientRect().width)};return i.jsx(Pc,{className:h,enable:g?!1:void 0,right:!g,style:y,height:"100%",width:f,minWidth:d??200,maxWidth:d??400,onResize:v,onResizeStop:S,children:t.children??i.jsxs(N,{full:!0,col:!0,children:[c&&i.jsx(D,{className:m,children:i.jsx(tp,{children:C=>i.jsxs(i.Fragment,{children:[Yt(u,yf),i.jsx(z0,{...C}),Yt(u,vf)]})})}),i.jsx(D,{className:b,grow:!0,children:i.jsx(ep,{children:C=>i.jsxs(i.Fragment,{children:[Yt(u,gf),i.jsx(N0,{...C}),Yt(u,ff)]})})})]})})}),Q6="gs-sidebar-left",R6=p.memo(oe(function({children:t,width:n,resizable:r,...o}){return i.jsx(J6,{className:j(Q6,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",ac(o)),width:n,resizable:r,style:ic(o),children:t?vn(t):void 0})})),e8=oe(function(t){var m;const{rightSidebarSize:n,setRightSidebarSize:r,editor:o,isInPreview:s,isRightSidebarOpen:a}=fe(),l=((m=t.style)==null?void 0:m.width)??t.width,c=l??n,u=t.resizable===!1,d=j(t.className,"gs-utl-h-full gs-utl-transition-spacing",re.bl,z.br),f=p.useMemo(()=>({marginRight:s||!a?`-${c}px`:0,...t.style}),[c,s,a,t.style]),g=()=>o==null?void 0:o.refresh(),h=(b,y,v)=>{r(v.getBoundingClientRect().width)};return i.jsx(Pc,{className:d,enable:u?!1:void 0,left:!u,style:f,height:"100%",width:c,minWidth:l??200,maxWidth:l??400,onResize:g,onResizeStop:h,children:t.children??i.jsx(ey,{})})}),t8="gs-sidebar-right",n8=p.memo(oe(function({children:t,resizable:n,...r}){return i.jsx(e8,{className:j(t8,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",ac(r)),resizable:n,style:ic(r),children:t?vn(t):void 0})})),r8=oe(function({className:t,variant:n,value:r,tabs:o,style:s,editorEvents:a,onChange:l}){const{editor:c}=fe(),[u,d]=p.useState(()=>({tabs:o,style:s,value:r,variant:n,className:t})),f=p.useMemo(()=>{var h;return((h=u.tabs)==null?void 0:h.map(m=>({...m,content:vn(m.children)})))||[]},[u.tabs]),g=h=>{l&&c?l({value:h,editor:c,state:u,setState:m=>d(b=>({...b,...m}))}):d(m=>({...m,value:h}))};return Ws({editor:c,editorEvents:a,localState:u,setLocalState:d}),i.jsx(ho,{tabs:f,className:j(u.className),variant:u.variant,value:u.value,style:u.style,onChange:g})}),o8="gs-cmp-text",s8=p.memo(function({className:t,content:n,children:r,...o}){return i.jsx(Yn,{className:j(o8,t),...o,children:r||n})}),a8="gs-cmp-virtual-list",i8=oe(function({id:t,items:n,itemLayout:r,itemsPerRow:o=12,className:s,style:a,htmlAttrs:l}){const{editor:c}=fe(),u=of(o);return i.jsx(fi,{...l,data:n,className:j(a8,"gs-utl-h-full",s),listClassName:`gs-utl-grid gs-utl-gap-2 gs-utl-pr-2 ${u}`,style:a,itemContent:(d,f)=>i.jsx(p.Fragment,{children:r?vn(r({item:f,editor:c})):i.jsx("pre",{children:JSON.stringify(f,void 0,2)})},f.id??d)},t)});var Pf=(e=>(e.text="text",e.row="row",e.column="column",e.button="button",e.buttonGroupField="buttonGroupField",e.inputField="inputField",e.codeField="codeField",e.selectField="selectField",e.selectFontField="selectFontField",e.tabs="tabs",e.devices="devices",e.custom="custom",e.panelLayers="panelLayers",e.panelPages="panelPages",e.panelSelectors="panelSelectors",e.panelStyles="panelStyles",e.panelProperties="panelProperties",e.panelSidebarTabs="panelSidebarTabs",e.panelPagesLayers="panelPagesLayers",e.panelBlocks="panelBlocks",e.panelPageSettings="panelPageSettings",e.panelGlobalStyles="panelGlobalStyles",e.panelAssets="panelAssets",e.panelTemplates="panelTemplates",e.sidebarLeft="sidebarLeft",e.sidebarRight="sidebarRight",e.sidebarTop="sidebarTop",e.sidebarBottom="sidebarBottom",e.canvas="canvas",e.canvasSidebarTop="canvasSidebarTop",e.virtualList="virtualList",e.dataPathField="dataPathField",e.panelDataVariablePicker="panelDataVariablePicker",e.panelDataConditionPicker="panelDataConditionPicker",e.panelDataCollectionPicker="panelDataCollectionPicker",e))(Pf||{});const l8={array:Z.codeBrackets,object:Z.codeBraces,string:Z.codeString,number:Z.number,boolean:Z.toggleSwitchOffOutline,default:Z.null},c8=e=>Array.isArray(e)?"array":e===null?"default":typeof e,u8=oe(({name:e,value:t,isActive:n,onClick:r,className:o})=>{const s=Ce().tScoped("dataSources"),a=c8(t),l=typeof t=="object"&&t!==null,c=j(o,"gs-utl-text-left",z.hBgH,re.b,re.rnd,Le.xy,n?[re.bA,z.tA]:[z.br,z.txtHighEmphasisH]),u=d=>typeof d=="object"?Array.isArray(d)?s("items",{params:{length:d.length}}):d?s("properties",{params:{length:Object.keys(d).length}}):"null":String(d);return i.jsx(Ie,{onClick:r,border:!1,className:c,full:!0,children:i.jsxs(N,{items:"center",justify:"between",gap:"s",nowrap:!0,children:[i.jsxs(N,{className:"gs-utl-flex-grow gs-utl-overflow-hidden",gap:"s",col:!0,children:[i.jsxs(N,{className:"gs-utl-overflow-hidden",items:"center",gap:"s",full:!0,nowrap:!0,children:[i.jsx(ne,{icon:l8[a],size:se.s}),i.jsx(D,{className:j($e.txtEllips),children:e})]}),i.jsx(D,{className:j("gs-utl-w-full",$e.txtEllips,$e.disabled),children:u(t)})]}),l&&i.jsx(D,{children:i.jsx(ne,{size:se.sx,icon:Z.arrowRight,className:j(n&&"gs-utl-rotate-180","gs-utl-transition-transform gs-utl-duration-200")})})]})})}),d8="gs-cmp-data-path-explorer",ty=oe(function({additionalSources:t,onChange:n,path:r=""}){const{editor:o}=fe(),s=p.useRef({}),[a,l]=p.useState(()=>r.split(".")),[c,u]=p.useState([]),d=p.useMemo(()=>({...o?M3(o):{},...t}),[o,t]),f=(b,y)=>{let v=s.current;for(let S=0;S<y&&S<b.length;S++){const w=b[S];if(v&&typeof v=="object"&&w in v)v=v[w];else{v=void 0;break}}return!v||typeof v!="object"?[]:Object.entries(v).map(([S,w])=>{const C=b.slice(0,y).concat(S),E=a[y]===S,x=()=>{const P=E?C.slice(0,-1):C;n==null||n(P.join("."),{paths:P}),l(P)};return i.jsx(u8,{name:S,value:w,isActive:E,onClick:x},S)})};p.useEffect(()=>{s.current=d;const b=[];for(let y=0;y<=a.length;y++){const v=f(a,y);v.length>0&&b.push(v)}u(b)},[d,a]);const g=j(d8,z.bg,z.br,re.b,re.rnd,$e.scrollX,"gs-utl-h-full"),h=j("gs-utl-min-w-[220px]",z.br),m=j("gs-utl-h-full gs-utl-max-h-[60vh]",$e.scrollY,Le.xyS);return i.jsx(N,{className:g,full:!0,nowrap:!0,children:c.map((b,y)=>i.jsx(D,{className:j(h,y!==c.length-1&&re.br),children:i.jsx(N,{col:!0,nowrap:!0,gap:"m",className:m,children:b})},y))})}),p8="gs-cmp-data-path-field",Ac=oe(e=>{const{size:t="m",value:n,label:r,open:o,defaultValue:s,additionalSources:a,readOnly:l,disabled:c,pickerInPopover:u,onChange:d,onPickerToggle:f}=e,{editor:g}=fe(),h=Ce().tScoped("dataSources"),[m,b]=p.useState(!!o),[y,v]=p.useState(!1),S=!!l||m||y,w=()=>v(!y),C=L=>{const W=L??!m;b(W),f==null||f(W)},E=()=>C(!1),x=(...L)=>{d==null||d(...L)},P=L=>{S||d==null||d(L,{paths:L.split(".")})},T=y&&g?`"${g.DataSources.getValue(n,s)}"`:n,_=t==="m",O=_?"lg":t,k=_?se.l:se.s,M=h(m?"closePathExplorer":"openPathExplorer"),F={icon:m?Z.close:Z.databaseOutline,size:se.l},U={icon:y?Z.eyeOff:Z.eye,size:_?se.m:k},A=i.jsx(mt,{block:!0,variant:"pr",size:O,title:M,onClick:()=>C(),icon:F});return i.jsxs(N,{className:p8,gap:t,col:!0,children:[i.jsxs(N,{gap:t,items:"end",children:[i.jsx(Re,{readOnly:S,label:r,value:n?T:"",size:t,disabled:c,onChange:P,placeholder:h("selectVariablePath"),className:j("gs-utl-flex-grow",z.txt,$e.txtEllips),afterInput:!!n&&i.jsx(mt,{block:!0,variant:"out-clear",size:"xs",border:!1,title:h("toggleResolvedPath"),onClick:w,className:$e.hover,icon:U})}),u?i.jsx(dr,{placement:"bottom-end",classNameBody:"gs-utl-w-[400px] gs-utl-h-[300px]",title:!1,padding:!1,border:!1,buttonAs:"span",handler:A,onClose:E,overlay:!0,children:i.jsx(ty,{path:n,onChange:x,additionalSources:a})}):A]}),!!m&&!u&&i.jsx(ty,{path:n,onChange:x,additionalSources:a})]})}),f8="gs-data-path-field",g8=oe(({className:e,value:t="",onChange:n,...r})=>i.jsx(Yn,{className:j(f8,e),...r,children:i.jsx(Ac,{onChange:o=>n({value:o}),value:t})}));function ny(e){const{collectionId:t,variableType:n,path:r=""}=e;return t?[t,n,r].filter(Boolean).join("."):r}function ry(e,t){const[n="",r="",...o]=e.split(".");return n&&t[n]?{collectionId:n,variableType:r,path:o.join(".")}:{collectionId:"",variableType:"",path:e}}function Of(e){const[t,n]=p.useState(e.getDataResolver()),r=p.useRef(t),o=a=>{const l={...r.current,...a};r.current=l,n(l)},s=()=>{e.setDataResolver(r.current)};return p.useEffect(()=>{const a="change:dataResolver",l=()=>{const c=e.getDataResolver();n(c)};return e.on(a,l),()=>{e.off(a,l)}},[e]),{localData:t,updateLocalData:o,syncToComponent:s}}const h8="gs-cmp-data-variable-picker",m8=oe(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:r,syncToComponent:o}=Of(e),s=Ce().tScoped("dataSources"),{path:a="",defaultValue:l=""}=n,c=e.collectionsStateMap,u=g=>{r(ry(g,c))},d=()=>{o(),t==null||t({value:n})},f=g=>r({defaultValue:g});return i.jsxs(N,{className:h8,gap:"s",col:!0,nowrap:!0,children:[i.jsx(Ac,{value:a,label:s("variablePath"),additionalSources:c,defaultValue:l,onChange:u}),i.jsx(Re,{label:s("defaultValue"),value:l,onChange:f}),i.jsx(N,{full:!0,justify:"end",className:Le.y,children:i.jsx(Ie,{onClick:d,variant:"pr",size:"m",children:s("confirm")})})]})}),b8="gs-data-variable-picker",v8=oe(function({className:t,component:n,onConfirm:r,...o}){return i.jsx(Yn,{className:j(b8,t),...o,children:i.jsx(m8,{component:n,onConfirm:r})})});var mn=(e=>(e.STRING="string",e.NUMBER="number",e.DATA_SOURCE="dataSource",e))(mn||{}),bn=(e=>(e.equals="equals",e.isTruthy="isTruthy",e.isFalsy="isFalsy",e.isDefined="isDefined",e.isNull="isNull",e.isUndefined="isUndefined",e.isArray="isArray",e.isObject="isObject",e.isString="isString",e.isNumber="isNumber",e.isBoolean="isBoolean",e.isDefaultValue="isDefaultValue",e))(bn||{}),Tf=(e=>(e.greaterThan=">",e.lessThan="<",e.greaterThanOrEqual=">=",e.lessThanOrEqual="<=",e.equals="=",e.notEquals="!=",e))(Tf||{}),_f=(e=>(e.contains="contains",e.startsWith="startsWith",e.endsWith="endsWith",e.equalsIgnoreCase="equalsIgnoreCase",e.trimEquals="trimEquals",e))(_f||{});const y8=[...Object.values(_f),...Object.values(Tf),...Object.values(bn)],Af={string:Object.values(_f),number:Object.values(Tf),dataSource:y8},w8=p.memo(function(t){const{component:n,side:r,type:o,value:s,onChange:a}=t;switch(o){case mn.DATA_SOURCE:return i.jsx(Ac,{size:"s",pickerInPopover:!0,value:ny(s),onChange:l=>a(r,l,o),additionalSources:n.collectionsStateMap});case mn.NUMBER:return i.jsx(_e,{size:"s",value:s,onChange:l=>a(r,l,o)});default:return i.jsx(Re,{size:"s",value:s,onChange:l=>a(r,l,o)})}}),S8="gs-cmp-statement-side",oy=p.memo(function({side:t,type:n,value:r,label:o,onChange:s,onTypeChange:a,component:l,typeOptions:c}){return i.jsxs(N,{className:j(S8,"gs-utl-flex-grow"),col:!0,children:[i.jsx(Ln,{size:"s",children:o}),i.jsxs(N,{items:"center",gap:"xs",children:[i.jsx(D,{children:i.jsx(Pe,{size:"s",value:n,options:c,onChange:u=>a(t,u)})}),i.jsx(D,{grow:!0,children:i.jsx(w8,{component:l,side:t,type:n,value:r,onChange:s})})]})]})}),Mc=e=>typeof e=="object"&&(e==null?void 0:e.type)==="data-variable"?mn.DATA_SOURCE:typeof e=="string"?mn.STRING:typeof e=="number"?mn.NUMBER:mn.STRING,C8=(e,t,n)=>{switch(t){case mn.STRING:return e||"";case mn.NUMBER:return e?Number(e):0;case mn.DATA_SOURCE:{const r=n.collectionsStateMap||{};return{type:"data-variable",...(ft(e)?ry(e,r):e)??{path:"",defaultValue:""}}}default:return e}},x8=e=>Af[e][0],E8=e=>![bn.isTruthy,bn.isFalsy,bn.isDefined,bn.isNull,bn.isUndefined,bn.isArray,bn.isObject,bn.isString,bn.isNumber,bn.isBoolean,bn.isDefaultValue].includes(e),P8="gs-cmp-statement",O8=oe(e=>{const{statement:t,onChange:n,className:r,component:o}=e,s=Ce().tScoped("dataSources"),[a,l]=p.useState(()=>Mc(t.left)),[c,u]=p.useState(()=>Mc(t.right)),d=Af[a]||Af[mn.STRING],f=p.useMemo(()=>Object.values(mn).map(C=>({id:C,label:sr(C)})),[]),g=p.useMemo(()=>d.map(C=>({id:C,label:s(`operators.${C}`)})),[d,s]);p.useEffect(()=>{l(Mc(t.left)),u(Mc(t.right))},[t.left,t.right]);const h=C=>{n({...t,...C})},m=(C,E,x)=>{const P=C8(E,x,o),T=C==="left",_=T&&x!==mn.DATA_SOURCE;T?l(x):u(x),h({[C]:P,..._&&{operator:x8(x)}})},b=(C,E)=>m(C,null,E),y=C=>h({operator:C}),v=j(P8,r,z.br,re.b,re.rnd,Le.xy),S=E8(t.operator),w={component:o,onChange:m,onTypeChange:b,typeOptions:f};return i.jsx(N,{className:j(v,"gs-utl-w-full"),items:"stretch",gap:"m",col:!0,full:!0,nowrap:!0,children:i.jsxs(N,{gap:"m",items:"center",full:!0,nowrap:!0,children:[i.jsx(oy,{side:"left",type:a,value:t.left,label:s("leftValue"),...w}),i.jsx(D,{children:i.jsx(Pe,{size:"s",label:s("operator"),value:t.operator,options:g,onChange:y})}),S&&i.jsx(oy,{side:"right",type:c,value:t.right,label:s("rightValue"),...w})]})})}),Mf="gs-cmp-statements-group",T8=e=>e==="and"||e==="or",kf=e=>({...e,statements:[...e.statements??[],{left:"",operator:"equals",right:""}]}),_8=oe(e=>{const{className:t,condition:n,onUpdate:r,component:o,skipAddCondition:s}=e,a=Ce().tScoped("dataSources"),l=n.statements??[],c=n.logicalOperator||"and",u=m=>{T8(m)&&r({...n,logicalOperator:m})},d=()=>{kf(n),r(kf(n))},f=m=>{const b=l.filter((y,v)=>v!==m);r({...n,statements:b})},g=(m,b)=>{if(m>=0&&m<l.length){const y=[...l];y[m]=b,r({...n,statements:y})}},h=[{id:"and",label:a("conditionAnd")},{id:"or",label:a("conditionOr")}];return i.jsxs(N,{className:j(Mf,t,"gs-utl-w-full"),full:!0,gap:"m",col:!0,nowrap:!0,children:[l.length>1&&i.jsx(ho,{value:c,onChange:u,tabs:h}),i.jsx(N,{className:`${Mf}__items`,gap:"s",col:!0,full:!0,nowrap:!0,children:l.map((m,b)=>i.jsxs(N,{className:j(`${Mf}__item`),gap:"s",col:!0,children:[i.jsx(O8,{component:o,statement:m,onChange:y=>g(b,y)}),b<l.length-1&&i.jsxs(N,{justify:"center",items:"center",gap:"m",children:[i.jsx("span",{className:j(z.txtHighEmphasis,"gs-utl-text-sm gs-utl-font-bold"),children:c.toUpperCase()}),i.jsx(mt,{block:!0,variant:"out-clear",title:a("deleteCondition"),onClick:()=>f(b+1),icon:{icon:Z.delete,size:se.s}})]})]},`stmt-${b}`))}),!s&&i.jsx(N,{justify:"end",children:i.jsx(Ie,{variant:"pr",onClick:d,icon:{icon:Z.plus,size:se.s},children:a("addCondition")})})]})}),A8="gs-cmp-data-condition-picker",M8=oe(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:r,syncToComponent:o}=Of(e),s=Ce().tScoped("dataSources"),{condition:a}=n,l=d=>r({condition:d}),c=()=>{o(),t==null||t({value:n})},u=()=>{r({condition:kf(a)})};return i.jsxs(N,{className:A8,items:"stretch",gap:"m",full:!0,col:!0,children:[i.jsx(_8,{component:e,condition:a,onUpdate:l,skipAddCondition:!0}),i.jsxs(N,{gap:"m",justify:"end",full:!0,children:[i.jsx(Ie,{variant:"out",onClick:u,icon:{icon:Z.plus,size:se.s},children:s("addCondition")}),i.jsx(Ie,{onClick:c,variant:"pr",size:"m",children:s("confirm")})]})]})}),k8="gs-data-condition-picker",L8=oe(function({className:t,component:n,onConfirm:r,...o}){return i.jsx(Yn,{className:j(k8,t),...o,children:i.jsx(M8,{component:n,onConfirm:r})})}),$8="gs-cmp-data-collection-picker",N8=oe(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:r,syncToComponent:o}=Of(e),{collectionId:s="",dataSource:a={},startIndex:l=0,endIndex:c=10}=n,u=ny(a),d=c===Number.MAX_VALUE,f=Ce().tScoped("dataSources"),g=d?"":c,h=()=>{o(),t==null||t({value:n})},m=S=>r({dataSource:{...a,path:S}}),b=S=>r({startIndex:S}),y=S=>r({endIndex:S}),v=S=>r({endIndex:S?Number.MAX_VALUE:4});return i.jsxs(N,{className:$8,gap:"s",col:!0,nowrap:!0,children:[i.jsxs(N,{items:"end",gap:"s",children:[i.jsx(Re,{className:"gs-utl-flex-grow",size:"s",label:f("collectionId"),value:s,readOnly:!0,disabled:!0}),i.jsx($v,{size:"s",value:s,block:!0})]}),i.jsx(Ac,{label:f("variablePath"),value:u,onChange:m}),i.jsxs(N,{items:"end",gap:"s",nowrap:!0,children:[i.jsx(_e,{size:"s",className:"gs-utl-flex-grow",label:f("collectionStartIndex"),value:l==null?void 0:l.toString(),onChange:b}),i.jsx(_e,{size:"s",label:f("collectionEndIndex"),placeholder:d?"-":"",value:g==null?void 0:g.toString(),onChange:y,className:j("gs-utl-flex-grow",d&&"gs-utl-opacity-50 gs-utl-pointer-events-none")}),i.jsx(D,{children:i.jsx(ni,{label:f("collectionUpToEndIndex"),value:d,onChange:v})})]}),i.jsx(N,{full:!0,justify:"end",children:i.jsx(Ie,{onClick:h,variant:"pr",size:"m",children:f("confirm")})})]})}),D8="gs-data-collection-picker",j8=oe(function({className:t,component:n,onConfirm:r,...o}){return i.jsx(Yn,{className:j(D8,t),...o,children:i.jsx(N8,{component:n,onConfirm:r})})}),I8="gs-code-field",V8=oe(function(e){const{editor:t}=fe(),{isDarkTheme:n}=Zt(),{editorEvents:r,onChange:o}=e,[s,a]=p.useState(()=>e),l=u=>({value:u,editor:t,state:s,setState:d=>a(f=>({...f,...d}))}),c=u=>o==null?void 0:o(l(u||""));return Ws({editor:t,editorEvents:r,localState:s,setLocalState:a}),i.jsx(Ir,{className:j(I8,s.className),language:s.language,style:s.style,label:s.label,name:s.name,value:s.value,size:s.size,required:s.required,disabled:s.disabled,readOnly:s.readOnly,minHeight:s.minHeight,row:s.row,isDarkTheme:n,monacoOptions:e.monacoOptions,onChange:c})}),H8={row:W6,column:gN,text:s8,tabs:r8,button:qp,buttonGroupField:OL,inputField:mN,codeField:V8,selectField:K6,selectFontField:Y6,devices:m0,panelPages:U0,panelPageSettings:a6,panelLayers:D0,panelPagesLayers:f6,panelBlocks:VN,panelGlobalStyles:YN,panelSelectors:j6,panelStyles:F6,panelProperties:A6,panelSidebarTabs:V6,panelAssets:jN,panelTemplates:z6,sidebarRight:n8,sidebarLeft:R6,sidebarTop:b0,sidebarBottom:X6,canvas:kv,canvasSidebarTop:pN,virtualList:i8,dataPathField:g8,panelDataVariablePicker:v8,panelDataConditionPicker:L8,panelDataCollectionPicker:j8},vn=e=>{const t=Array.isArray(e)?e:e?[e]:[],n=S_();return t.filter(Boolean).map((r,o)=>{const{id:s="",type:a,...l}=ft(r)?{type:Pf.text,content:r}:r||{},c=H8[a],u=n.layoutChildren.get(s),d=s||o;return u?i.jsx(Cl,{id:s,...u},d):a===Pf.custom?i.jsx(Cl,{id:s,...l},d):c?i.jsx(c,{id:s,...l},d):null})},Ws=e=>{const{editorEvents:t,editor:n,localState:r,setLocalState:o}=e;p.useEffect(()=>{if(!t||!n)return;const s=Object.keys(t).reduce((l,c)=>(l[c]=(u={})=>{const d=t[c];d({fromEvent:u,editor:n,state:r,setState:f=>o(g=>({...g,...f}))})},l),{}),a=Object.keys(s);return a.forEach(l=>n.on(l,s[l])),()=>{a.forEach(l=>n.off(l,s[l]))}},[n,r])},sy="gs-block-item",F8=j("gs-utl-text-center gs-utl-w-full",$e.txtEllips),ay=oe(({block:e,className:t,itemLayout:n})=>{const{editor:r}=fe(),o=Ce(),[,s]=p.useState(0),a=o.tScoped("blockManager.labels"),l=e.getId(),c=!!e.get("full"),u=e.get("onClick"),d=e.get("disable"),f=e.get("mediaReact"),g=e.getMedia(),h=e.get("attributes")||{},m=a(l)||e.getLabel(),b=j(sy,`${sy}--${l}`,t,"gs-utl-py-2 gs-utl-px-2 gs-utl-transition-colors",re.b,re.rnd,z.br,c&&"gs-utl-col-span-full",d?$e.disabledM:j("gs-utl-cursor-pointer",z.hTAo,z.hBgH)),y=Mt(h.class)?h.class:j("gs-utl-block-media gs-utl-max-h-10 gs-utl-max-w-10 gs-utl-w-full");if(p.useEffect(()=>{if(!r)return;const{Blocks:x}=r,P=x.events.update,T=_=>_===e&&s(O=>++O);return r.on(P,T),()=>{r.off(P,T)}},[e,r]),!r)return null;const{Blocks:v}=r,C={className:b,...!d&&{onDragStart:()=>v.startDrag(e),onDragEnd:()=>v.endDrag(!1),draggable:!0},...!!u&&{onClick:()=>u(e,r)}},E=n==null?void 0:n({editor:r,block:e,attributes:C});return E&&vn(E)||i.jsxs(N,{items:"center",col:!0,...C,children:[f||i.jsx("div",{className:y,dangerouslySetInnerHTML:{__html:g}}),i.jsx("div",{className:F8,title:m,children:m})]})}),iy=G("text-sm w-full",$e.txtEllips),B8=oe(({symbol:e,className:t})=>{const n=Jt(),{Components:r}=n,o=Ce(),s=Kn(),a=o.tScoped("blockManager.symbols"),l=()=>{const{draggable:v,droppable:S,attributes:w,type:C,tagName:E}=e.attributes;n.Canvas.startDrag({content:()=>r.addSymbol(e),model:e,dragDef:{type:C,tagName:E,draggable:v,droppable:S,attributes:w}})},c=()=>{n.Canvas.endDrag()},u=e.getIcon(),d=e.getName(),f=r.getSymbolInfo(e).instances.length,g=G("h-10 w-10 block-media",z.grouphTAo),h=G("gjs-pt-1 gjs-mt-2",re.bt,z.br),m=G("cursor-pointer gjs-p-2 transition-colors group",re.b,re.rnd,z.br,z.hBgH,t),b=()=>{s.confirm({title:a("delete"),content:a("deleteConfirm"),onConfirm:()=>e.remove()})},y=v=>{e.set("custom-name",v)};return i.jsxs(N,{className:m,onDragStart:l,onDragEnd:c,items:"center",draggable:!0,col:!0,children:[i.jsx("div",{className:g,dangerouslySetInnerHTML:{__html:u}}),i.jsxs(N,{items:"center",justify:"between",className:h,space:"m",full:!0,children:[i.jsx(D,{children:i.jsx(N,{className:G(iy,"gjs-mr-auto"),children:i.jsx(xt,{title:`${f} ${a("instancesProject")}`,children:i.jsx(vt,{label:`${f}`,className:G(z.bgH75)})})})}),i.jsx(D,{className:G("truncate"),grow:!0,title:d,children:i.jsx(J0,{activable:!0,value:d,className:iy,onChange:y})}),i.jsx(D,{className:G($e.hoverGroup),children:i.jsx(N,{justify:"end",full:!0,children:i.jsx(mt,{onClick:b,title:a("delete"),border:!1,size:"",block:!0,children:i.jsx(ne,{icon:Z.delete,size:se.s})})})})]})]})}),vo="gs-block-manager",ly=(e,t)=>{const n=t==null?void 0:t.getId();return n&&e.I18n.t(`blockManager.categories.${n}`)||(t==null?void 0:t.getLabel())||""},cy=oe(function({isOpen:t,className:n,hideCategories:r,itemLayout:o,...s}){var J,ie;const{editor:a}=fe(),l=Ce(),[c,u]=p.useState(0),[d,f]=p.useState(ii.REGULAR),[g,h]=p.useState(""),[m,b]=p.useState(()=>(a==null?void 0:a.Components.getSymbols())||[]),y=d===ii.SYMBOLS,v=p.useRef(null),S=l.tScoped("blockManager");if(p.useEffect(()=>{if(!a)return;const{Blocks:q,Components:Y}=a,R=q.events.custom,le=Y.events.symbol,ae=()=>{b(Y.getSymbols()),u(ye=>++ye)};return a.on(le,ae),a.on(R,ae),()=>{a.off(le,ae),a.off(R,ae)}},[a]),p.useEffect(()=>{if(v.current&&t){const q=v.current.querySelector("input");setTimeout(()=>q==null?void 0:q.focus(),bh)}},[v.current,t]),!a)return null;const{Blocks:w}=a,C=q=>S(`labels.${q.getId()}`)||q.getLabel(),E=m.filter(q=>as(q.getName(),g)),x=w.getAll().map(q=>q),T=(((J=s.blocks)==null?void 0:J.call(s,{blocks:x}))||x).filter(q=>{const Y=ly(a,q.category);return!(g&&!as(Y,g)&&!as(C(q),g))}),_=w.getBlocksByCategory(T),O=r?T:(ie=_.find(q=>!q.category))==null?void 0:ie.items,k=r?[]:_.filter(q=>q.category),M=s.symbols!==!1,F=s.search!==!1,U=!M&&!F,A=S("search")||l.t("search"),L=j(vo,n,"gap-2"),W=j(`${vo}__header`,"gs-utl-pt-2",Le.xS,U&&"gs-utl-hidden"),K=j(`${vo}__content`,$e.scrollY,z.br,re.bt),$=j(`${vo}__symbols`,"gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-p-2"),V=j(`${vo}__not-found`,"gs-utl-text-center gs-utl-p-4"),I=j(`${vo}__blocks`,"gs-utl-grid gs-utl-grid-cols-2 gs-utl-gap-2 gs-utl-p-2 gs-utl-text-sm"),B=j(`${vo}__no-category`,I,z.br,k.length&&re.bb),te=`${vo}__category`,X=[{id:ii.REGULAR,label:S("types.regular")},{id:ii.SYMBOLS,label:S("types.symbols")}];return i.jsxs(N,{className:L,col:!0,full:!0,children:[i.jsxs(N,{className:W,space:"s",col:!0,children:[M&&i.jsx(ho,{tabs:X,onChange:f,value:d,variant:"pills"}),F&&i.jsx(Re,{ref:v,size:"s",value:g,onInput:h,placeholder:A,type:"search"})]}),i.jsxs(D,{className:K,grow:!0,children:[y&&(E.length?i.jsx(N,{className:$,children:E.map(q=>i.jsx(B8,{symbol:q},`${c}_${q.getId()}`))}):i.jsx(N,{className:V,justify:"center",children:S("symbols.notFound")})),!y&&(T.length?i.jsxs(i.Fragment,{children:[!!(O!=null&&O.length)&&i.jsx(N,{className:B,children:O==null?void 0:O.map(q=>i.jsx(ay,{block:q,itemLayout:o},q.id))}),k.map(({category:q,items:Y},R)=>i.jsx(Uo,{sticky:!0,className:le=>Ou.itemList({index:R,open:le,length:k.length}),open:!!(q!=null&&q.get("open")),onChange:({open:le})=>q==null?void 0:q.set({open:le}),handler:ly(a,q),handlerIcon:q==null?void 0:q.get("icon"),classNameWrap:j(te,`${te}--${q==null?void 0:q.id}`),children:i.jsx(N,{className:I,children:Y.map(le=>i.jsx(ay,{block:le,itemLayout:o},le.id))})},q==null?void 0:q.id))]}):i.jsx(N,{className:V,justify:"center",children:S("notFound")}))]})]})}),z8={add:Z.plus},uy=(e,t)=>t||z8[e];function Lf({className:e,icon:t,title:n,onClose:r,actions:o=[],children:s}){const{t:a}=Ce();return i.jsxs(N,{className:H("gjs-card-title",e),items:"center",children:[i.jsx(D,{className:H("truncate"),grow:!0,children:n}),s,i.jsxs(N,{space:"s",children:[!!o.length&&i.jsx(N,{space:"xs",className:H("gjs-px-1"),children:o.map(({id:l,icon:c,className:u,...d})=>i.jsx(D,{children:i.jsx(mt,{block:!0,border:!1,size:"xs",icon:uy(l,c)?{icon:uy(l,c),size:se.s}:void 0,className:H($e.click,u),...d})},l))}),(r||t)&&i.jsx(mt,{title:a("close"),onClick:r,border:!1,className:H($e.click),icon:{icon:Z.close,size:se.s},size:"xs",block:!0})]})]})}const dy="0.22.7",U8="1.0.20",py="https://cdn.jsdelivr.net/npm/",W8=`${py}grapesjs@${dy}/dist/grapes.min.js`,G8=`${py}grapesjs@${dy}/dist/css/grapes.min.css`,K8=!1,en=U8,q8=[{id:"grapesjs-component-countdown",name:"Countdown",description:"Countdown component",src:"https://unpkg.com/grapesjs-component-countdown@1.0.1/dist/index.js",version:"1.0.1",projectType:[Me.web],options:{props:{emptyState:!0}}},{id:"grapesjs-tabs",name:"Tabs",description:"Tabs component",src:"https://unpkg.com/grapesjs-tabs@1.0.6/dist/grapesjs-tabs.min.js",version:"1.0.6",projectType:[Me.web],options:{tabsBlock:{category:"Extra",select:!0}}},{id:"grapesjs-custom-code",name:"Custom code",description:"Component for the embed of custom code",src:"https://unpkg.com/grapesjs-custom-code@1.0.1/dist/index.js",version:"1.0.1",projectType:[Me.web]},{id:"grapesjs-tooltip",name:"Tooltip",description:"Simple, CSS only, tooltip component",src:"https://unpkg.com/grapesjs-tooltip@0.1.7/dist/index.js",version:"0.1.7",projectType:[Me.web],options:{propsTooltip:{emptyState:{styleOut:"width: 80px;"}}}},{id:"grapesjs-typed",name:"Typed",description:"Typed component based on Typed.js library",src:"https://unpkg.com/grapesjs-typed@2.0.1/dist/index.js",version:"2.0.1",projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_tableComponent",name:"Table",description:"Add table component with additional functionalities.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/tableComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_listPagesComponent",name:"List Pages",description:"Add a list component that dynamically generates navigation links based on the pages in your project.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/listPagesComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_fsLightboxComponent",name:"FsLightbox",description:"Image viewer plugin based on FsLightbox.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/fsLightboxComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_lightGalleryComponent",name:"LightGallery",description:"Gallery component based on lightGallery.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/lightGalleryComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_swiperComponent",name:"Swiper (Slider)",description:"Slider component plugin based on Swiper.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/swiperComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_iconifyComponent",name:"Iconify",description:"Add an icon component with the icon picker by levering the Iconify collections.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/iconifyComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_accordionComponent",name:"Iconify",description:"Accordion component, allowing users to create collapsible content sections with smooth animations and keyboard navigation support.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${en}/dist/accordionComponent/index.umd.js`,version:en,projectType:[Me.web],options:{block:{category:"Extra"},blockGroup:{category:"Extra"}}}],Y8=()=>new Promise(e=>{setTimeout(()=>e(q8),100)}),fy=oe(function({plugin:t,selected:n,className:r,installed:o,onInstall:s,onSelect:a}){const l=Ce(),c=d=>l.t(`pluginManager.${d}`),u=o[t.id];return i.jsx(Kt,{className:G("overflow-hidden max-w-full group gjs-px-4 gjs-py-3",r),padding:!1,children:i.jsx(N,{space:"s",col:!0,children:i.jsx(N,{className:G("max-w-full"),nowrap:!0,children:i.jsx(D,{grow:!0,className:G("w-full"),children:i.jsxs(N,{space:"s",col:!0,children:[i.jsxs(N,{items:"center",space:"s",nowrap:!0,children:[i.jsx(D,{className:G($e.txtEllips,"cursor-pointer"),onClick:()=>a==null?void 0:a(t),children:i.jsx("b",{children:t.name})}),i.jsx(D,{grow:!0,children:i.jsx(vt,{className:G("opacity-90"),label:`v${t.version}`,s:"s",pill:!0,border:!0})}),i.jsx(N,{children:i.jsx(Ie,{className:G("text-sm"),size:"m2",variant:"pr",onClick:()=>s(t),children:c(u?"uninstall":"install")})})]}),i.jsx(D,{className:G(!n&&$e.txtEllips,"text-sm max-w-full"),children:t.description})]})})})})})}),gy=oe(function({selectedId:t}){const n=Ce(),[r]=rc(),o=Gp(),s=fe(),[a,l]=p.useState(),[c,u]=p.useState(),[d,f]=p.useState(),[g,h]=p.useState("all"),m=g==="all"?d:c,b=n.tScoped("pluginManager");p.useEffect(()=>{(async()=>{!c&&u(await si()),!d&&f(await Y8())})()},[c,d]),p.useEffect(()=>{if(t&&d&&!o.selectedShown){const C=d.find(E=>E.id===t);C&&l(C),o.setSelectedShown(!0)}},[d]);const y=p.useMemo(()=>[{id:"all",label:b("all")},{id:"installed",label:b("installed")}],[n]),v=p.useCallback(async C=>{c!=null&&c.find(E=>E.id===C.id)?await aL(C):await sL(C),u(await si())},[c]),S=p.useMemo(()=>(c==null?void 0:c.reduce((C,E)=>(C[E.id]=E.version,C),{}))||{},[c]),w=!!(a||o.hasPending);return i.jsxs(N,{col:!0,full:!0,space:"m",children:[w&&i.jsxs(N,{children:[!!a&&i.jsx(Ie,{onClick:()=>l(void 0),className:G(z.tAo),border:!1,children:i.jsxs(N,{space:"xs",items:"center",children:[i.jsx(ne,{icon:Z.chevronLeft,size:se.s}),i.jsx("div",{children:b("allPlugins")})]})}),o.hasPending&&i.jsx(Ie,{className:G("text-sm gjs-ml-auto"),size:"m2",variant:"out",onClick:s.updateStudio,children:b("updateStudio")})]}),a?i.jsx(D,{grow:!0,className:G("w-full"),children:i.jsx(fy,{plugin:a,installed:S,onInstall:v,selected:!0})}):i.jsxs(i.Fragment,{children:[i.jsx(D,{children:i.jsx(ho,{tabs:y,onChange:h,value:g})}),i.jsx(D,{grow:!0,children:m?m.length?i.jsx(fi,{data:m,listClassName:G("grid grid-cols-1 gap-2 gjs-pr-2"),itemContent:(C,E)=>i.jsx(fy,{plugin:E,installed:S,onInstall:v,onSelect:l},E.id)},r):i.jsx(N,{justify:"center",children:n.t("notItemsFound")}):i.jsx(li,{})})]})]})}),Z8=oe(function(){const{isOpen:t,toggleOpen:n}=mm(),{editor:r,sdkProps:o,sdkOptions:s,isProjectTypeEmail:a}=fe(),l=Kn(),c=Ce(),u=o.children,d=c.tScoped("blockManager"),f=H("absolute left-0 top-0 h-full transition-transform z-10",!t&&"-translate-x-full",re.br,z.br,z.bg),g=()=>{l.open({fullH:!0,title:c.t("pluginManager.plugins"),content:()=>i.jsx(gy,{})})},h=p.useMemo(()=>[!!s.pluginManager&&!a&&{id:"add",title:d("add"),className:z.tAo,onClick:g,icon:Z.viewGridPlus}].filter(Boolean),[r]);return i.jsxs(N,{className:f,style:{width:240},col:!0,nowrap:!0,children:[i.jsx(D,{children:i.jsx(Lf,{title:d("blocks"),onClose:n,className:H(Le.s),actions:h})}),i.jsxs(zo,{children:[Yt(u,df),i.jsx(D,{className:H("overflow-hidden"),grow:!0,children:i.jsx(cy,{isOpen:t})}),Yt(u,uf)]})]})}),X8={pointerEvents:"all"};function Gs({spot:e,children:t,style:n,spotStyles:r,...o}){const s={...r||e.getStyle(),...n};return i.jsx("div",{...o,style:s,children:i.jsx("div",{style:X8,children:t})})}const Cr=p.forwardRef(function({children:t,className:n,position:r,out:o,...s},a){var g;const{Canvas:l}=Jt(),c=((g=l.getCanvasView())==null?void 0:g.clsUnscale)||"",u=[],d={};switch(r){case"top-left":u.push("top-0","left-0"),d.transformOrigin="top left",o&&(d.translate="0 -100%",d.transformOrigin="bottom left");break;case"top-center":u.push("top-0"),d.left="50%",d.translate="-50% 0",d.transformOrigin="top center",o&&(d.translate="-50% -100%",d.transformOrigin="bottom center");break;case"top-right":u.push("top-0","right-0"),d.transformOrigin="top right",o&&(d.translate="0 -100%",d.transformOrigin="bottom right");break;case"center-left":u.push("left-0"),d.top="50%",d.translate="0 -50%",d.transformOrigin="center left",o&&(d.translate="-100% -50%",d.transformOrigin="center right");break;case"center-center":d.top="50%",d.left="50%",d.translate="-50% -50%",d.transformOrigin="center";break;case"center-right":u.push("right-0"),d.top="50%",d.translate="0 -50%",d.transformOrigin="center right",o&&(d.translate="100% -50%",d.transformOrigin="center left");break;case"bottom-left":u.push("left-0","bottom-0"),d.transformOrigin="bottom left",o&&(d.translate="0 100%",d.transformOrigin="top left");break;case"bottom-center":u.push("bottom-0"),d.left="50%",d.translate="-50% 0",d.transformOrigin="bottom center",o&&(d.translate="-50% 100%",d.transformOrigin="top center");break;case"bottom-right":u.push("right-0","bottom-0"),d.transformOrigin="bottom right",o&&(d.translate="0 100%",d.transformOrigin="top right");break}const f={...d,...s.style};return i.jsx("div",{...s,className:j(c,G("gs-utl-flex gs-utl-absolute",n,u.join(" "))),style:f,ref:a,children:t})}),hy="top-left";function my({spot:e,className:t}){const n=Jt(),{Canvas:r}=n,[o,s]=p.useState(hy),a=e.component,l=e.getBoxRect(),c=r.getWorldRectToScreen(l),u=p.useRef(null),d=r.getElement().clientHeight;return D1(u,{zoomMultiplier:r.getZoomMultiplier(),boxRectScreen:c,vwHeight:d,setPos:s,initialPos:hy}),!a||a.get("badgable")===!1?null:i.jsx(Cr,{className:G("pointer-events-none"),ref:u,style:xy,position:o,out:!0,children:i.jsx(vt,{className:G("shadow-md",t||da(a).bg),s:"s",children:i.jsxs(N,{space:"xs",items:"center",nowrap:!0,children:[em(a),i.jsx("div",{className:G("whitespace-nowrap max-w-36 truncate"),children:a.getName()})]})})})}function J8({spot:e,className:t}){const n=G("gjs-border",da(e.component).border,t);return i.jsx(Gs,{spot:e,className:n,children:i.jsx(my,{spot:e})})}function Q8({spot:e,className:t}){const n=Jt(),r=fe(),o=p.useRef(null),[s]=p.useState(xy),[a,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState("top-right"),g=e.component,h=e.getBoxRect(),{Canvas:m}=n,b=m.getWorldRectToScreen(h),y=e.getStyle({boxRect:h}),v=n.getSelected()===g,S=m.getElement().clientHeight,w=_d();p.useEffect(()=>{const k=setTimeout(async()=>{const M=await w.getItemsForComponent(g);l(M)},10);return()=>clearTimeout(k)},[g]),p.useEffect(()=>{const k=setTimeout(async()=>{const M=await R8(g,r);u(M)},10);return()=>clearTimeout(k)},[g]),D1(o,{zoomMultiplier:m.getZoomMultiplier(),boxRectScreen:b,vwHeight:S,setPos:f});const C=(O={})=>{var L,W,K;const k=(K=(W=(L=n.getSelected())==null?void 0:L.view)==null?void 0:W.el)==null?void 0:K.getBoundingClientRect(),M=k?k.left+k.width/2:0,F=k?k.top+k.height/2:0,U={...O.event,clientX:M,clientY:F};return{...O,event:U}},E=(O,k)=>{O==="tlb-move"&&(k=C(k)),ft(O)?n.runCommand(O,k):O==null||O(n,"",k)},x=O=>{const k=O.currentTarget.getBoundingClientRect();w.show({items:a,x:k.x+k.width,y:k.y})},P=da(g),T=G("border-2",P.border,t),_=G(P.bg,"overflow-hidden shadow-md");return i.jsx(Gs,{spot:e,spotStyles:y,className:T,children:v&&i.jsx(Cr,{ref:o,style:s,position:d,out:!0,children:i.jsx(vt,{className:_,s:"s",nopad:!0,block:!0,children:i.jsxs(N,{space:"x2s",items:"center",nowrap:!0,children:[c.map(({label:O,command:k=""})=>i.jsx(D,{children:i.jsx(Ie,{border:!1,rounded:!1,size:"s",className:G("block gs-utl-py-1.5 gs-utl-px-1.5",z.hBgDark),onMouseDown:M=>E(k,{event:M}),children:O!=null&&O.startsWith("<svg")?i.jsx(xu,{className:G("w-4 fill-current"),svg:O}):O})},O)),!!a.length&&i.jsx(D,{children:i.jsx(Ie,{border:!1,rounded:!1,size:"s",className:G("block",z.hBgDark),onClick:x,children:i.jsx(ne,{icon:Z.dotsVertical,size:se.s})})})]})})})})}async function R8(e,t){var d;if(!(e!=null&&e.em))return[];const n=e.em.getEditor(),r=e.toolbar.filter(Boolean),o=e.get("toolbarItems"),s=await $f(o,{items:r,component:e,editor:n}),a={items:s,component:e,editor:n},l=await $f(s,a),c=(d=t.sdkComponentsConfig)==null?void 0:d.toolbar;return await $f(c,{...a,items:l})}const $f=async(e,t)=>it(e)?(await e(t)).filter(Boolean):t.items;var Xn=(e=>(e.PaddingTop="padding-top",e.PaddingRight="padding-right",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.MarginTop="margin-top",e.MarginRight="margin-right",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e))(Xn||{});const{PaddingTop:kc,PaddingRight:Nf,PaddingBottom:Lc,PaddingLeft:Df,MarginTop:$c,MarginRight:jf,MarginBottom:Nc,MarginLeft:If}=Xn,e9=(e,t)=>{const n=t!=null&&t.startsWith("p")?"padding":"margin";return h_(e,n,t)},yo=(e,t,n={})=>{const r=Jt(),o=cm(),[s,a]=p.useState(),l=d=>{const g=r.Canvas.getFramesEl().classList,h=d?"add":"remove";g[h]("gs-utl-pointer-events-none"),g[h]("gs-utl-select-none")},c=d=>{var f,g;(f=n.setAltKey)==null||f.call(n,d.altKey),(g=n.setShiftKey)==null||g.call(n,d.shiftKey)};return p.useEffect(()=>{var k;const d=[kc,Lc,$c,Nc].includes(t),f=document.body.classList,g=e.component.getEl(),h=r.Styles.getSelected(),m=window.getComputedStyle(g),b=d?"!cursor-ns-resize":"!cursor-ew-resize",y=r.Canvas.getZoomMultiplier(),v={};let S=parseFloat(m[t])??0,w,C="",E={};for(const M of Object.values(Xn)){const F=M;v[F]=m[F]}const x=(M,F)=>{const U=t==null?void 0:t.startsWith("p"),{altKey:A,shiftKey:L}=F,W=v,K={[kc]:L||t===Lc&&A?M:W[kc],[Nf]:L||t===Df&&A?M:W[Nf],[Lc]:L||t===kc&&A?M:W[Lc],[Df]:L||t===Nf&&A?M:W[Df]},$={[$c]:L||t===Nc&&A?M:W[$c],[jf]:L||t===If&&A?M:W[jf],[Nc]:L||t===$c&&A?M:W[Nc],[If]:L||t===jf&&A?M:W[If]};return K[t]=M,$[t]=M,U?K:$},P=M=>{C&&(w?w.upValue(C,M):h==null||h.addStyle(E,M))},T=M=>{if(!s||!h)return;const F=d?M.clientY-s.y:M.clientX-s.x,U=Math.max(0,parseInt(`${S+F*y}`));C=`${U}px`,E=x(C,M),P({partial:!0}),o.show(U)},_=()=>{!s||!h||(a(void 0),l(!1),o.hide(),P())},O=M=>{c(M),E=x(C,M),P({partial:!0})};return s&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",_),document.addEventListener("keydown",O),document.addEventListener("keyup",O),f.add(b),(k=n.onActive)==null||k.call(n,t),n.useStyleProperty&&(w=e9(r,t),S=(w==null?void 0:w.getValue())??S)),()=>{var M;document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",_),document.removeEventListener("keydown",O),document.removeEventListener("keyup",O),f.remove(b),(M=n.onActive)==null||M.call(n,void 0)}},[s]),[p.useCallback(d=>{if(d.button!==0)return;const{clientX:f,clientY:g}=d;a({x:f,y:g}),l(!0),c(d.nativeEvent)},[]),!!s]},Dc="gs-utl-border-2 gs-utl-border-white !gs-utl-box-content",by="gs-utl-bg-[#7fc65e]",vy="gs-utl-bg-[#ebae70]",yy="gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize",wy="gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize",t9=p.memo(function({spot:t,disabledHandler:n,useStyleProperty:r,onActive:o}){const[s,a]=p.useState(!1),[l,c]=p.useState(!1),u={onActive:o,setAltKey:a,setShiftKey:c,useStyleProperty:r},[d,f]=yo(t,"padding-top",u),[g,h]=yo(t,"padding-right",u),[m,b]=yo(t,"padding-bottom",u),[y,v]=yo(t,"padding-left",u),[S,w]=yo(t,"margin-top",u),[C,E]=yo(t,"margin-right",u),[x,P]=yo(t,"margin-bottom",u),[T,_]=yo(t,"margin-left",u),O=G(Dc,by,yy),k=G(Dc,by,wy),M=G(Dc,vy,yy),F=G(Dc,vy,wy),U=f||h||b||v,A=w||E||P||_,L=U||A,W=(Y,R)=>{let le=!1;const ae=U&&l,ye=A&&l;switch(R){case"padding-top":le=b&&s||ae;break;case"padding-right":le=v&&s||ae;break;case"padding-bottom":le=f&&s||ae;break;case"padding-left":le=h&&s||ae;break;case"margin-top":le=P&&s||ye;break;case"margin-right":le=_&&s||ye;break;case"margin-bottom":le=w&&s||ye;break;case"margin-left":le=E&&s||ye;break}return!L||Y||le},K=!!(n!=null&&n.padding),$=!!(n!=null&&n.margin),V=!K&&W(f,"padding-top"),I=!K&&W(h,"padding-right"),B=!K&&W(b,"padding-bottom"),te=!K&&W(v,"padding-left"),X=!$&&W(w,"margin-top"),J=!$&&W(E,"margin-right"),ie=!$&&W(P,"margin-bottom"),q=!$&&W(_,"margin-left");return i.jsxs(i.Fragment,{children:[V&&i.jsx(Cr,{position:"top-center",onPointerDown:d,children:i.jsx(vt,{className:k,s:"s",pill:!0,block:!0,nopad:!0})}),I&&i.jsx(Cr,{position:"center-right",onPointerDown:g,children:i.jsx(vt,{className:O,s:"s",pill:!0,block:!0,nopad:!0})}),B&&i.jsx(Cr,{position:"bottom-center",onPointerDown:m,children:i.jsx(vt,{className:k,s:"s",pill:!0,block:!0,nopad:!0})}),te&&i.jsx(Cr,{position:"center-left",onPointerDown:y,children:i.jsx(vt,{className:O,s:"s",pill:!0,block:!0,nopad:!0})}),X&&i.jsx(Cr,{position:"top-center",onPointerDown:S,out:!0,children:i.jsx(vt,{className:F,s:"s",pill:!0,block:!0,nopad:!0})}),J&&i.jsx(Cr,{position:"center-right",onPointerDown:C,out:!0,children:i.jsx(vt,{className:M,s:"s",pill:!0,block:!0,nopad:!0})}),ie&&i.jsx(Cr,{position:"bottom-center",onPointerDown:x,out:!0,children:i.jsx(vt,{className:F,s:"s",pill:!0,block:!0,nopad:!0})}),q&&i.jsx(Cr,{position:"center-left",onPointerDown:T,out:!0,children:i.jsx(vt,{className:M,s:"s",pill:!0,block:!0,nopad:!0})})]})}),Sy=(e,t)=>{var n;return!!((n=sm(e,t))!=null&&n.isVisible())},n9=(e={})=>{const[t,n,r,o]=_m(e.padding||""),[s,a,l,c]=_m(e.margin||"");return{paddingTop:e[Xn.PaddingTop]||t,paddingRight:e[Xn.PaddingRight]||n,paddingBottom:e[Xn.PaddingBottom]||r,paddingLeft:e[Xn.PaddingLeft]||o,marginTop:e[Xn.MarginTop]||s,marginRight:e[Xn.MarginTop]||a,marginBottom:e[Xn.MarginTop]||l,marginLeft:e[Xn.MarginTop]||c}};function r9({spot:e,className:t}){const n=Jt(),{isProjectTypeEmail:r}=fe(),[o,s]=p.useState(),[a,l]=p.useState({padding:!1,margin:!1}),{el:c,component:u}=e,d=e.getBoxRect(),f=n.Canvas.getZoomDecimal(),g=d.height*f,h=d.width*f,m=e.getStyle({boxRect:d}),b=n.getSelectedAll().includes(u),y=n.getSelected()===u,v=(o==null?void 0:o.startsWith("p"))??!1,S=(o==null?void 0:o.startsWith("m"))??!1,w=n9(r?u==null?void 0:u.getStyle():{});if(p.useEffect(()=>{b&&l({padding:!Sy(n,"padding"),margin:!Sy(n,"margin")})},[b]),e.type==="spacing"&&b)return null;const C={borderColor:"rgba(196, 222, 184, 0.5)",borderStyle:"solid"},E={borderColor:"rgba(249, 204, 158, 0.5)",borderStyle:"solid",boxSizing:"content-box"},x=window.getComputedStyle(c);C.borderTopWidth=w.paddingTop||x.paddingTop,C.borderRightWidth=w.paddingRight||x.paddingRight,C.borderBottomWidth=w.paddingBottom||x.paddingBottom,C.borderLeftWidth=w.paddingLeft||x.paddingLeft,E.borderTopWidth=w.marginTop||x.marginTop,E.borderRightWidth=w.marginTop||x.marginRight,E.borderBottomWidth=w.marginTop||x.marginBottom,E.borderLeftWidth=w.marginTop||x.marginLeft;const P={...m,...C},T={...m,...E,translate:`${d.x-parseFloat(x.marginLeft)}px ${d.y-parseFloat(x.marginTop)}px`};return i.jsxs(i.Fragment,{children:[(!b||v)&&i.jsx(Gs,{spot:e,spotStyles:P,className:G(t)}),(!b||S)&&i.jsx(Gs,{spot:e,spotStyles:T,className:G(t)}),y&&(g>60&&h>60||o)&&i.jsx(Gs,{spot:e,spotStyles:m,className:G(t),children:i.jsx(t9,{spot:e,onActive:s,disabledHandler:a,useStyleProperty:r})})]})}function o9({spot:e,className:t}){const n=G("gjs-border-2",z.cmpTargetBr,z.cmpTargetBgOpac,t);return i.jsx(Gs,{spot:e,className:n,children:i.jsx(my,{spot:e,className:G(z.cmpTargetBg)})})}const Vf="gs-canvas-spot-drag";function s9({spot:e,className:t}){const n=Jt(),r=da(e.component),o=j(re.b,r.border),{originComponent:s,matchedComponents:a,originMatchedDistances:l}=e.attributes;return i.jsxs("div",{className:t,children:[i.jsx(Cy,{editor:n,componentEl:s,className:j(Vf,o)}),a.map(c=>i.jsx(Cy,{editor:n,componentEl:c,className:j(`${Vf}__matched`,o)},c.id)),l.map((c,u)=>i.jsx(a9,{editor:n,originMatchedDistance:c,className:j(`${Vf}__distance`),componentColorClasses:r},u))]})}function Cy(e){const{editor:t,componentEl:n,className:r}=e,o=t.Canvas.getCanvasView(),{x:s,y:a,width:l,height:c}=o.getElBoxRect(n),u=j(r,"gs-utl-absolute gs-utl-top-0 gs-utl-left-0"),d={translate:`${s}px ${a}px`,width:`${l}px`,height:`${c}px`};return i.jsx("div",{className:u,style:d})}function a9(e){const{originMatchedDistance:t,editor:n,className:r,componentColorClasses:o}=e,a=n.Canvas.getCanvasView().clsUnscale||"",{axis:l,x:c,y:u,width:d,height:f}=t,g=l==="y",h=g?d:f,m={translate:`${c}px ${u}px`,width:`${d}px`,height:`${f}px`},b=`${r}__guides`,y=`${r}__guide-info ${r}__guide-info__${l} gs-utl-absolute`,v=j(`${r}__guide-info__line`,o.bg,g?"gs-utl-w-full gs-utl-h-[1px]":"gs-utl-h-full gs-utl-w-[1px]"),S=j(`${r}__guide-info__content gs-utl-w-full gs-utl-h-full gs-utl-flex gs-utl-justify-center gs-utl-items-center`),w=j(`${r}__guide-info__badge gs-utl-shadow-md`,a,o.bg);return i.jsx("div",{className:b,children:i.jsx("div",{className:y,style:m,children:i.jsx("div",{className:v,children:i.jsx("div",{className:S,children:i.jsxs(vt,{className:w,s:"s",children:[Math.round(h),"px"]})})})})})}const xy={padding:"9px 0"},Ey="dragAbsolute";function i9({spot:e}){const t=Jt(),{Canvas:n}=t,r=fe(),o=t.getEditing(),{type:s,component:a}=e,l=s==="select",c=s==="spacing",u=s==="hover",d=s==="target",f=s===Ey,g=[Ey];return!e.el||r.isInPreview||!n.hasCustomSpot(s)&&!g.includes(s)||r.isSelectingTarget&&!d||(u||c)&&o&&(a!=null&&a.isChildOf(o))?null:i.jsxs(i.Fragment,{children:[(c||l)&&i.jsx(r9,{spot:e,className:j("z-0")}),d&&i.jsx(o9,{spot:e,className:j("z-10")}),l&&i.jsx(Q8,{spot:e,className:j("z-20")}),u&&i.jsx(J8,{spot:e,className:j("z-30")}),f&&i.jsx(s9,{spot:e,className:j("z-40")})]})}const Py=new WeakMap;function Oy(e){if(!e)return()=>null;const t=Py.get(e);if(t)return t;const n=function({children:o}){return on.createPortal(o,e)};return Py.set(e,n),n}const l9=p.memo(function({children:t}){const n=Rd(),[r,o]=p.useState([]),[s,a]=p.useState({});p.useEffect(()=>{if(!n)return;n.onReady(()=>{const d=n.Canvas.getSpotsEl(),f=Oy(d);a({Container:f})});const c="canvas:spot",u=()=>{const d=n.Canvas.getSpots();o(d)};return n.on(c,u),()=>{n.off(c,u)}},[n]);const{Container:l}=s;return n&&l?i.jsx(l,{children:t({spots:r})}):null}),c9=oe(function(){const{isCanvasPanning:t}=fe();return i.jsx(l9,{children:({spots:n})=>i.jsx(lr,{show:!t,...vh,children:n.map(r=>i.jsx(i9,{spot:r},r.id))})})}),Ks="gs-layout-panel",u9=p.memo(oe(function({className:t,layout:n,children:r}){const o=Id(),s=Kn(),[a,l]=p.useState(!1),[c,u]=p.useState(null),{id:d,header:f,layout:g,props:h,full:m=!0,style:b,toRemove:y,disablePropagation:v}=n,S=()=>{l(!1),setTimeout(()=>o.remove(d,{force:!0}),150)},w=n.placer||{type:Vo.absolute,position:Io.left},C=w.type===Vo.absolute?w:null,E=w.type===Vo.popover?w:null,x=w.type===Vo.static?w:null,P=w.type===Vo.dialog?w:null,T=(C==null?void 0:C.position)===Io.left,_=(C==null?void 0:C.position)===Io.right,O=(C==null?void 0:C.position)===Io.top,k=(C==null?void 0:C.position)===Io.bottom,M=x||P,F=ft(g)?{type:g}:g,U=!!C,{x:A,y:L}=E||{},W=(E==null?void 0:E.w)||(E==null?void 0:E.width),K=(E==null?void 0:E.h)||(E==null?void 0:E.height),$=p.useMemo(()=>({clientWidth:0,clientHeight:0,getBoundingClientRect:()=>new DOMRect(A,L,W,K)}),[A,L,W,K,a]),V=xs($,c,{...z1,placement:"auto",...E==null?void 0:E.options}),I=j(Ks,z.br,z.bg,z.txt,"gs-utl-z-10",U&&"gs-utl-absolute gs-utl-transition",(T||O)&&"gs-utl-top-0 gs-utl-left-0",_&&"gs-utl-top-0 gs-utl-right-0",k&&"gs-utl-bottom-0 gs-utl-left-0",U&&m&&(T||_?"gs-utl-h-full":"gs-utl-w-full"),!a&&U?"gs-utl-opacity-0":"gs-utl-opacity-100",!a&&T&&"-gs-utl-translate-x-full",!a&&_&&"gs-utl-translate-x-full",!a&&O&&"-gs-utl-translate-y-full",!a&&k&&"gs-utl-translate-y-full",E&&re.rnd,E&&re.b,n.className,t);p.useEffect(()=>{const J=setTimeout(()=>l(!0));return()=>clearTimeout(J)},[]),p.useEffect(()=>{y&&S()},[y]);const B={...b,width:(b==null?void 0:b.width)||(T||_?240:void 0)};N1({current:c},{onTrigger:S,enabled:(E==null?void 0:E.closeOnClickAway)&&a});const te=J=>{v&&J.nativeEvent.stopImmediatePropagation()},X=i.jsxs(N,{className:I,style:B,col:!0,nowrap:!0,onPointerDown:te,onMouseDown:te,children:[f!==!1&&i.jsx(D,{className:j(`${Ks}__header`,f==null?void 0:f.className),style:f==null?void 0:f.style,children:i.jsx(Lf,{onClose:(f==null?void 0:f.close)!==!1?S:void 0,className:G(Le.s),title:i.jsxs(N,{className:`${Ks}__title`,space:"s",items:"center",children:[!!(f!=null&&f.icon)&&i.jsx(ne,{icon:f.icon,size:se.s}),!!(f!=null&&f.label)&&i.jsx(D,{grow:!0,children:f.label})]})})}),i.jsx(D,{className:j(`${Ks}__content`,"gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),grow:!0,children:g||d?vn({...h,id:d,...F}):r})]});return p.useEffect(()=>{if(a){if(x){const J=o.layoutsById.get(x.layoutId);if(J)return J.setState({children:X}),()=>{!n.placer.skipCleanup&&J.setState({children:null})}}else if(P)return s.open({content:()=>X,disablePropagation:v,title:P.title,size:P.size,onClose:S}),()=>{s.close()}}},[a]),M?null:E?i.jsx("div",{className:G(Ks,`${Ks}-popover`,"gs-utl-z-20"),ref:u,style:V.styles.popper,...V.attributes.popper,children:i.jsx(lr,{show:a,...ca,unmount:!1,children:X})}):X})),d9=oe(function({className:t,...n}){const{layouts:r}=Id();return i.jsx("div",{className:j("gs-layout-panel-container",t),...n,children:r.map(o=>i.jsx(u9,{layout:o},o.id))})}),Wr="gs-cmp-modal";function Ty({open:e=!1,title:t,disablePropagation:n,isDarkTheme:r,description:o,children:s,onClose:a,preventOverflow:l,closable:c=!0,fullH:u,buttons:d=[],size:f}){const g=()=>c&&a(),h=j(Zg,`${Wr} gs-utl-fixed gs-utl-z-20 gs-utl-inset-0 gs-utl-overflow-y-auto`,r&&Hd),m=j(`${Wr}-wrapper gs-utl-relative gs-utl-flex gs-utl-justify-center gs-utl-min-h-screen`,u?"gs-utl-items-stretch":"gs-utl-items-center",l&&"gs-utl-h-dvh"),b=j(`${Wr}-container`,"gs-utl-relative gs-utl-w-full gs-utl-p-5 gs-utl-my-8 gs-utl-overflow-hidden gs-utl-shadow-xl gs-utl-rounded-xl gs-utl-flex gs-utl-flex-col",re.b,z.br,z.bg,z.txt,f==="lg"?"gs-utl-max-w-lg":f==="l"?"gs-utl-max-w-5xl":f==="s"?"gs-utl-max-w-sm":"gs-utl-max-w-md"),y=j(`${Wr}-overlay gs-utl-absolute gs-utl-inset-0 gs-utl-bg-black/50 gs-utl-transition-opacity`),v=j(`${Wr}-close gs-utl-absolute gs-utl-top-0 gs-utl-right-0 gs-utl-m-3`),S=j(`${Wr}-title gs-utl-text-lg gs-utl-font-medium gs-utl-leading-6 gs-utl-m-0`),w=j(`${Wr}-desc gs-utl-m-0`),C=j(`${Wr}-content gs-utl-mt-4 gs-utl-h-full`,l&&"gs-utl-overflow-hidden"),E=j(`${Wr}-buttons gs-utl-mt-4`),x=P=>{n&&P.nativeEvent.stopImmediatePropagation()};return i.jsx(lr,{show:e,as:p.Fragment,children:i.jsx(wa,{onClose:g,className:h,onPointerDown:x,onMouseDown:x,children:i.jsxs("div",{className:m,children:[i.jsx(lr.Child,{as:p.Fragment,...ca,children:i.jsx(wa.Overlay,{className:y})}),i.jsx(lr.Child,{as:p.Fragment,...Eu,children:i.jsxs("div",{className:b,children:[c&&i.jsx("div",{className:v,children:i.jsx(mt,{block:!0,border:!1,onClick:g,children:i.jsx(ne,{icon:Z.close,size:1})})}),i.jsx(wa.Title,{as:"h3",className:S,children:t}),i.jsx(wa.Description,{className:w,children:o}),i.jsx("div",{className:C,children:s}),d.length>0&&i.jsx(N,{className:E,space:"m",items:"center",justify:"end",children:d.map((P,T)=>i.jsx(Ie,{...P},T))})]})}),i.jsx(wa,{onClose:()=>{},open:!1})]})})})}const p9=oe(function(){const{isOpen:t,close:n,content:r,modalProps:o}=Kn(),{isDarkTheme:s}=Zt();return i.jsx(Ty,{open:t,onClose:n,isDarkTheme:s,...o,children:it(r)?r():r})}),f9="gs-panel-page-settings-cnt",g9=oe(function(){const t=Ce(),n=fe(),{panelPageSettings:r}=n,o=t.tScoped("pageManager.settings"),{isOpen:s,page:a,width:l}=r,c=H(f9,"absolute left-0 top-0 h-full transition-transform z-10",!s&&"-translate-x-full",re.br,z.br,z.bg),u=H(Le.s),d=()=>n.setPanelPageSettings({isOpen:!1});return i.jsxs(N,{className:c,style:{width:l},col:!0,nowrap:!0,children:[i.jsx(D,{children:i.jsx(Lf,{title:o("title"),onClose:d,className:u})}),i.jsx(zo,{children:i.jsx(D,{className:H("overflow-hidden"),grow:!0,children:r.isOpen&&i.jsx(H0,{page:a,size:gl.s,classNameHeader:u,classNameContent:u,classNameFooter:u})})})]})}),_y="gs-cmp-custom-rte",h9=oe(function({items:t}){const n=r=>r.nativeEvent.stopImmediatePropagation();return i.jsx(Kt,{className:j(_y,"gs-utl-m-2"),size:"s",onPointerDown:n,onMouseDown:n,classNameBody:j(`${_y}__body`,"gs-utl-flex gs-utl-gap-1 gs-utl-items-center"),children:vn(t)})});function m9({children:e}){const t=Rd(),[n,r]=p.useState({enabled:!1,actions:[],Container:()=>null});p.useEffect(()=>{if(!t)return;const c=t.RichTextEditor,u=c.events.custom,d=f=>{let g;const h=c.customRte,m=h==null?void 0:h.toolbar,b=c.model.attributes.currentView;m&&(b!=null&&b.model)&&(g=m({editor:t,view:b,component:b.model,el:b.getChildrenContainer()}));const y=c.getAll().map(v=>({id:v.name,icon:v.icon,run:()=>c.run(v),state:v.currentState}));r({customRte:h,customToolbar:g,enabled:f.enabled,Container:Oy(f.container),actions:y})};return t.on(u,d),()=>{t.off(u,d)}},[t]);const{Container:o,customToolbar:s,customRte:a}=n,l=s?i.jsx(h9,{items:s}):null;return t&&o?i.jsx(o,{children:a?l:e(n)}):null}function b9(){return i.jsx(m9,{children:({actions:e})=>i.jsx(N,{className:H(z.bg,re.b,re.rnd,z.br,"gjs-m-2"),nowrap:!0,children:e.map((t,n)=>i.jsx(Ie,{border:!1,rounded:!1,active:t.state===1,disabled:t.state===-1,className:H("w-6",z.br,n!==0&&re.bl),dangerouslySetInnerHTML:{__html:t.icon},onClick:t.run},t.id))})})}const v9=oe(e=>{const{select:t,close:n,Container:r,open:o}=e,s=Fo(),{editor:a}=fe();if(!a||!o)return i.jsx(r,{children:null});const{providers:l,onSelect:c,typeId:u,providerId:d,types:f,optionalType:g,optionalProvider:h,content:m}=a.Assets.__customData().options;return i.jsx(r,{children:i.jsx(v0,{panelId:s.mainPanelId,onSelect:c??(({asset:b})=>t(b)),close:n,types:f,providers:l,typeId:u,providerId:d,optionalType:g,optionalProvider:h,content:m})})}),y9=oe(function(){var v,S;const t=fe(),n=Fo(),{projectType:r,editorKey:o,setEditor:s,sdkProps:a,sdkOptions:l,currentLayout:c}=t,{isDarkTheme:u}=Zt(),d=!!((S=(v=l.gjsOptions)==null?void 0:v.assetManager)!=null&&S.custom),f=Gp(),[g,h]=p.useMemo(()=>[rL(r,l),f.getPluginsToLoad(r,t)],[r,o]),m=w=>{var C,E;s(w),n.onEditor(),(C=a.onEditor)==null||C.call(a,w),(E=l.onEditor)==null||E.call(l,w),w.on("destroy",()=>{var x;s(),(x=l.onDestroy)==null||x.call(l,w),t.setIsReady(!1)})},b=w=>{var C,E;(C=a.onReady)==null||C.call(a,w),(E=l.onReady)==null||E.call(l,w),t.setIsReady(!0)},y=(w,C)=>{var E,x;(E=a.onUpdate)==null||E.call(a,w,C),(x=l.onUpdate)==null||x.call(l,w,C)};return i.jsxs(uM,{className:H("gs-editor-gjs h-full w-full",re.b,z.br),grapesjs:l.gjsScript,grapesjsCss:l.gjsStyle,options:g,plugins:h,onEditor:m,onReady:b,onUpdate:y,children:[vn(c),i.jsx(d9,{}),i.jsx(Z8,{}),i.jsx(g9,{}),!d&&i.jsx(nM,{children:w=>i.jsx(v9,{...w})}),i.jsx(dM,{children:({open:w,title:C,close:E,content:x})=>i.jsx(Ty,{open:w,onClose:E,title:i.jsx(i.Fragment,{children:C}),isDarkTheme:u,size:"l",children:i.jsx(i.Fragment,{children:x})})}),i.jsx(c9,{}),i.jsx(b9,{}),i.jsx(p9,{})]},o)}),w9=oe(function(){const t=fe(),{updateAppShell:n}=Zt(),{editor:r,editorKey:o,sdkLicenseError:s,sdkMisconfigurationError:a,isReady:l,licenseCheckStarted:c,rootElWidth:u}=t,d=Kn(),f=Ce(),g=Gp();hm();const h=!!o&&!!u;return p.useEffect(()=>{n&&document.querySelector("body").classList.add(...G(z.bg,"overflow-hidden").split(" "))},[]),p.useEffect(()=>{if(l&&!c&&!iu()){const m=setTimeout(()=>t.loadLicense(),100);return()=>clearTimeout(m)}},[l,c]),p.useEffect(()=>{a&&console.error(a)},[a]),p.useEffect(()=>{if(!r)return;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(async y=>{if(!y.files.length)return;const w=await(await y.files[0].getFile()).text();t.loadProjectData(JSON.parse(w))});const{plg:m}=t.queryParams;m&&!g.selectedShown&&d.open({fullH:!0,title:f.t("pluginManager.plugins"),content:()=>i.jsx(gy,{selectedId:m})});const b=Dr(()=>t.refreshEditorCanvas(),100);return window.addEventListener("scroll",b,!0),()=>window.removeEventListener("scroll",b,!0)},[r]),p.useEffect(()=>{},[]),i.jsxs(N,{className:G("relative transition-colors h-full",z.bg,z.txt),justify:"center",items:"center",col:!0,children:[h&&(s?i.jsxs(N,{col:!0,justify:"center",items:"center",children:[i.jsx("div",{children:"SDK License Error"}),i.jsx("span",{className:G("text-sm"),children:s})]}):a?i.jsx(N,{col:!0,justify:"center",items:"center",children:i.jsx("div",{children:"SDK Misconfiguration Error"})}):i.jsx(y9,{})),i.jsx(lr,{show:!h,as:p.Fragment,...ca,children:i.jsx(li,{className:G("z-10",z.bg),abs:!0})})]})});function S9({projectType:e,project:t}){const n=C9({projectType:e}),r={type:e,default:{pages:[n]}};return t?(t.default=t.default??r.default,t):r}function C9({projectType:e}){const t={name:"Web",component:x9},n={name:"Email",component:E9};switch(e){case Me.web:return t;case Me.email:return n;default:return t}}const jc="https://app.grapesjs.com/docs-sdk/configuration/projects#self-hosted-storage",Ic="https://app.grapesjs.com/docs-sdk/configuration/projects#setup",Ay="https://app.grapesjs.com/docs-sdk/img/grapesjs-logo-black.svg",x9=`<body>
    <header class="head">
      <img class="logo" src="${Ay}" alt="GrapesJS Logo">
    </header>
    <div class="card">
        <h1 class="title">Welcome to GrapesJS Studio SDK!</h1>
        <p class="subtitle">You're currently viewing the default fallback project for web.</p>

        <p class="paragraph">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
          👉 <a class="link" href="${jc}" target="_blank">${jc}</a>
        </p>

        <p class="paragraph">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
          👉 <a class="link" href="${Ic}" target="_blank">${Ic}</a>
        </p>

        <footer class="footer">Happy building! 🚀</footer>
    </div>
    <style>
      body {
        background-color: #e7e7e7;
        font-family: Arial, sans-serif;
      }
      .head {
        padding: 50px 50px 35px;
      }
      .logo {
        max-width: 250px;
        display: block;
        margin: 0 auto;
      }
      .card {
        max-width: 600px;
        padding: 40px 45px;
        background-color: white;
        border-radius: 15px;
        margin: 0 auto;
        color: #333333;
        font-size: 16px;
      }
      .title {
        color: #af4e8a;
        font-size: 24px;
        font-weight: bold;
        margin: 0;
        text-align: center;
      }
      .subtitle {
        text-align: center;
        margin: 0;
        padding: 25px 0;
      }
      .paragraph {
        line-height: 1.5;
        margin-bottom: 40px;
      }
      .link {
        color:#af4e8a;
        text-decoration:none;
        font-size:13px;
      }
      .footer {
        margin-top: 30px;
        text-align: center;
      }
  </style>
</body>`,E9=`<mjml>
  <mj-body background-color="#E7E7E7">
    <mj-section full-width="full-width" padding="50px 50px 35px 50px">
      <mj-column width="100%">
        <mj-image src="${Ay}" width="250px" padding="0px" />
      </mj-column>
    </mj-section>
    <mj-section padding="0px">
      <mj-column background-color="white" border-radius="15px" padding="40px 20px">
        <mj-text color="#af4e8a" font-size="24px" font-weight="bold" align="center">
          Welcome to GrapesJS Studio SDK!
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" align="center" padding="10px 25px 25px 25px">
          You're currently viewing the default fallback project for emails.
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" padding="10px 25px 30px 25px">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
          👉 <a href="${jc}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${jc}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
          👉 <a id="iu9rf-2" href="${Ic}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${Ic}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" align="center" padding="30px 25px 10px 25px">Happy building! 🚀
        </mj-text>
      </mj-column>
    </mj-section>
  </mj-body>
</mjml>`,Hf={licenseKey:"",settingsMenu:{about:!1,embed:!1,openProject:!1,saveProject:!1,loadProject:!1,installApp:!1}},P9=p.forwardRef(function(t,n){var d;const{options:r=Hf}=t,o={theme:r.theme},s=r.localStorage,a=s?wm(s,o):o,l=(a==null?void 0:a.lastProjectType)||((d=r.project)==null?void 0:d.type)||Me.web,c=S9({projectType:l,project:r.project}),u={localSettingsStore:{...a,key:s,updateAppShell:r.updateAppShell,rootEl:r.root},appEditorStore:{isDev:K8,isStage:!!r.stg,licenseKey:r.licenseKey,projectType:l,sdkProps:{...t,options:{...Hf,gjsScript:W8,gjsStyle:G8,...r,project:c}}}};return i.jsx(cL,{initialState:u,children:i.jsx(xL,{ref:n,children:i.jsx(w9,{})})})}),j9="",I9="",V9="",My=P9;ke.AssetStorageType=bl,ke.AssetType=so,ke.BlockManagerAfter=uf,ke.BlockManagerBefore=df,ke.BuiltInActionButtons=$n,ke.ComponentContextMenuItem=Nr,ke.ComponentContextMenuSource=pl,ke.DesignManagerTab=R0,ke.GlobalStyleFieldType=W1,ke.IconNames=Z,ke.LayerManagerAfter=ff,ke.LayerManagerBefore=gf,ke.LayersProvider=ep,ke.LayoutPlacers=Vo,ke.LayoutPosition=Io,ke.PageManagerAfter=vf,ke.PageManagerBefore=yf,ke.PagesProvider=tp,ke.ProjectStorageType=vl,ke.ProjectType=Me,ke.SelectorsProvider=np,ke.StudioCommands=de,ke.StudioCustomLayout=Cl,ke.StudioEditor=My,ke.StudioEvents=cn,ke.ThemeValue=Nn,ke.ToastVariant=It,ke.default=My,ke.useEditor=Jt,Object.defineProperties(ke,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
